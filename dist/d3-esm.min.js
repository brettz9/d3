// https://d3js.org v5.9.2 Copyright 2019 Mike Bostock
var version="5.9.2";function ascending(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function bisector(t){return 1===t.length&&(t=ascendingComparator(t)),{left:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var a=r+i>>>1;t(n[a],e)<0?r=a+1:i=a}return r},right:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var a=r+i>>>1;t(n[a],e)>0?i=a:r=a+1}return r}}}function ascendingComparator(t){return function(n,e){return ascending(t(n),e)}}var ascendingBisect=bisector(ascending),bisectRight=ascendingBisect.right,bisectLeft=ascendingBisect.left;function pairs(t,n){null==n&&(n=pair);for(var e=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);e<r;)a[e]=n(i,i=t[++e]);return a}function pair(t,n){return[t,n]}function cross(t,n,e){var r,i,a,o,c=t.length,s=n.length,u=new Array(c*s);for(null==e&&(e=pair),r=a=0;r<c;++r)for(o=t[r],i=0;i<s;++i,++a)u[a]=e(o,n[i]);return u}function descending(t,n){return n<t?-1:n>t?1:n>=t?0:NaN}function number(t){return null===t?NaN:+t}function variance(t,n){var e,r,i=t.length,a=0,o=-1,c=0,s=0;if(null==n)for(;++o<i;)isNaN(e=number(t[o]))||(s+=(r=e-c)*(e-(c+=r/++a)));else for(;++o<i;)isNaN(e=number(n(t[o],o,t)))||(s+=(r=e-c)*(e-(c+=r/++a)));if(a>1)return s/(a-1)}function deviation(t,n){var e=variance(t,n);return e?Math.sqrt(e):e}function extent(t,n){var e,r,i,a=t.length,o=-1;if(null==n){for(;++o<a;)if(null!=(e=t[o])&&e>=e)for(r=i=e;++o<a;)null!=(e=t[o])&&(r>e&&(r=e),i<e&&(i=e))}else for(;++o<a;)if(null!=(e=n(t[o],o,t))&&e>=e)for(r=i=e;++o<a;)null!=(e=n(t[o],o,t))&&(r>e&&(r=e),i<e&&(i=e));return[r,i]}var array=Array.prototype,slice=array.slice,map=array.map;function constant(t){return function(){return t}}function identity(t){return t}function sequence(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),a=new Array(i);++r<i;)a[r]=t+r*e;return a}var e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function ticks(t,n,e){var r,i,a,o,c=-1;if(e=+e,(t=+t)===(n=+n)&&e>0)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(o=tickIncrement(t,n,e))||!isFinite(o))return[];if(o>0)for(t=Math.ceil(t/o),n=Math.floor(n/o),a=new Array(i=Math.ceil(n-t+1));++c<i;)a[c]=(t+c)*o;else for(t=Math.floor(t*o),n=Math.ceil(n*o),a=new Array(i=Math.ceil(t-n+1));++c<i;)a[c]=(t-c)/o;return r&&a.reverse(),a}function tickIncrement(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=e10?10:a>=e5?5:a>=e2?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=e10?10:a>=e5?5:a>=e2?2:1)}function tickStep(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=e10?i*=10:a>=e5?i*=5:a>=e2&&(i*=2),n<t?-i:i}function thresholdSturges(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function histogram(){var t=identity,n=extent,e=thresholdSturges;function r(r){var i,a,o=r.length,c=new Array(o);for(i=0;i<o;++i)c[i]=t(r[i],i,r);var s=n(c),u=s[0],l=s[1],f=e(c,u,l);Array.isArray(f)||(f=tickStep(u,l,f),f=sequence(Math.ceil(u/f)*f,l,f));for(var h=f.length;f[0]<=u;)f.shift(),--h;for(;f[h-1]>l;)f.pop(),--h;var d,p=new Array(h+1);for(i=0;i<=h;++i)(d=p[i]=[]).x0=i>0?f[i-1]:u,d.x1=i<h?f[i]:l;for(i=0;i<o;++i)u<=(a=c[i])&&a<=l&&p[bisectRight(f,a,0,h)].push(r[i]);return p}return r.value=function(n){return arguments.length?(t="function"==typeof n?n:constant(n),r):t},r.domain=function(t){return arguments.length?(n="function"==typeof t?t:constant([t[0],t[1]]),r):n},r.thresholds=function(t){return arguments.length?(e="function"==typeof t?t:Array.isArray(t)?constant(slice.call(t)):constant(t),r):e},r}function threshold(t,n,e){if(null==e&&(e=number),r=t.length){if((n=+n)<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,i=(r-1)*n,a=Math.floor(i),o=+e(t[a],a,t);return o+(+e(t[a+1],a+1,t)-o)*(i-a)}}function freedmanDiaconis(t,n,e){return t=map.call(t,number).sort(ascending),Math.ceil((e-n)/(2*(threshold(t,.75)-threshold(t,.25))*Math.pow(t.length,-1/3)))}function scott(t,n,e){return Math.ceil((e-n)/(3.5*deviation(t)*Math.pow(t.length,-1/3)))}function max(t,n){var e,r,i=t.length,a=-1;if(null==n){for(;++a<i;)if(null!=(e=t[a])&&e>=e)for(r=e;++a<i;)null!=(e=t[a])&&e>r&&(r=e)}else for(;++a<i;)if(null!=(e=n(t[a],a,t))&&e>=e)for(r=e;++a<i;)null!=(e=n(t[a],a,t))&&e>r&&(r=e);return r}function mean(t,n){var e,r=t.length,i=r,a=-1,o=0;if(null==n)for(;++a<r;)isNaN(e=number(t[a]))?--i:o+=e;else for(;++a<r;)isNaN(e=number(n(t[a],a,t)))?--i:o+=e;if(i)return o/i}function median(t,n){var e,r=t.length,i=-1,a=[];if(null==n)for(;++i<r;)isNaN(e=number(t[i]))||a.push(e);else for(;++i<r;)isNaN(e=number(n(t[i],i,t)))||a.push(e);return threshold(a.sort(ascending),.5)}function merge(t){for(var n,e,r,i=t.length,a=-1,o=0;++a<i;)o+=t[a].length;for(e=new Array(o);--i>=0;)for(n=(r=t[i]).length;--n>=0;)e[--o]=r[n];return e}function min(t,n){var e,r,i=t.length,a=-1;if(null==n){for(;++a<i;)if(null!=(e=t[a])&&e>=e)for(r=e;++a<i;)null!=(e=t[a])&&r>e&&(r=e)}else for(;++a<i;)if(null!=(e=n(t[a],a,t))&&e>=e)for(r=e;++a<i;)null!=(e=n(t[a],a,t))&&r>e&&(r=e);return r}function permute(t,n){for(var e=n.length,r=new Array(e);e--;)r[e]=t[n[e]];return r}function scan(t,n){if(e=t.length){var e,r,i=0,a=0,o=t[a];for(null==n&&(n=ascending);++i<e;)(n(r=t[i],o)<0||0!==n(o,o))&&(o=r,a=i);return 0===n(o,o)?a:void 0}}function shuffle(t,n,e){for(var r,i,a=(null==e?t.length:e)-(n=null==n?0:+n);a;)i=Math.random()*a--|0,r=t[a+n],t[a+n]=t[i+n],t[i+n]=r;return t}function sum(t,n){var e,r=t.length,i=-1,a=0;if(null==n)for(;++i<r;)(e=+t[i])&&(a+=e);else for(;++i<r;)(e=+n(t[i],i,t))&&(a+=e);return a}function transpose(t){if(!(i=t.length))return[];for(var n=-1,e=min(t,length),r=new Array(e);++n<e;)for(var i,a=-1,o=r[n]=new Array(i);++a<i;)o[a]=t[a][n];return r}function length(t){return t.length}function zip(){return transpose(arguments)}var slice$1=Array.prototype.slice;function identity$1(t){return t}var top=1,right=2,bottom=3,left=4,epsilon=1e-6;function translateX(t){return"translate("+(t+.5)+",0)"}function translateY(t){return"translate(0,"+(t+.5)+")"}function number$1(t){return function(n){return+t(n)}}function center(t){var n=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(n=Math.round(n)),function(e){return+t(e)+n}}function entering(){return!this.__axis}function axis(t,n){var e=[],r=null,i=null,a=6,o=6,c=3,s=t===top||t===left?-1:1,u=t===left||t===right?"x":"y",l=t===top||t===bottom?translateX:translateY;function f(f){var h=null==r?n.ticks?n.ticks.apply(n,e):n.domain():r,d=null==i?n.tickFormat?n.tickFormat.apply(n,e):identity$1:i,p=Math.max(a,0)+c,m=n.range(),g=+m[0]+.5,y=+m[m.length-1]+.5,b=(n.bandwidth?center:number$1)(n.copy()),v=f.selection?f.selection():f,_=v.selectAll(".domain").data([null]),$=v.selectAll(".tick").data(h,n).order(),x=$.exit(),w=$.enter().append("g").attr("class","tick"),M=$.select("line"),S=$.select("text");_=_.merge(_.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),$=$.merge(w),M=M.merge(w.append("line").attr("stroke","currentColor").attr(u+"2",s*a)),S=S.merge(w.append("text").attr("fill","currentColor").attr(u,s*p).attr("dy",t===top?"0em":t===bottom?"0.71em":"0.32em")),f!==v&&(_=_.transition(f),$=$.transition(f),M=M.transition(f),S=S.transition(f),x=x.transition(f).attr("opacity",epsilon).attr("transform",function(t){return isFinite(t=b(t))?l(t):this.getAttribute("transform")}),w.attr("opacity",epsilon).attr("transform",function(t){var n=this.parentNode.__axis;return l(n&&isFinite(n=n(t))?n:b(t))})),x.remove(),_.attr("d",t===left||t==right?o?"M"+s*o+","+g+"H0.5V"+y+"H"+s*o:"M0.5,"+g+"V"+y:o?"M"+g+","+s*o+"V0.5H"+y+"V"+s*o:"M"+g+",0.5H"+y),$.attr("opacity",1).attr("transform",function(t){return l(b(t))}),M.attr(u+"2",s*a),S.attr(u,s*p).text(d),v.filter(entering).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===right?"start":t===left?"end":"middle"),v.each(function(){this.__axis=b})}return f.scale=function(t){return arguments.length?(n=t,f):n},f.ticks=function(){return e=slice$1.call(arguments),f},f.tickArguments=function(t){return arguments.length?(e=null==t?[]:slice$1.call(t),f):e.slice()},f.tickValues=function(t){return arguments.length?(r=null==t?null:slice$1.call(t),f):r&&r.slice()},f.tickFormat=function(t){return arguments.length?(i=t,f):i},f.tickSize=function(t){return arguments.length?(a=o=+t,f):a},f.tickSizeInner=function(t){return arguments.length?(a=+t,f):a},f.tickSizeOuter=function(t){return arguments.length?(o=+t,f):o},f.tickPadding=function(t){return arguments.length?(c=+t,f):c},f}function axisTop(t){return axis(top,t)}function axisRight(t){return axis(right,t)}function axisBottom(t){return axis(bottom,t)}function axisLeft(t){return axis(left,t)}var noop={value:function(){}};function dispatch(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new Dispatch(r)}function Dispatch(t){this._=t}function parseTypenames(t,n){return t.trim().split(/^|\s+/).map(function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})}function get(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function set(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=noop,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function(t,n){var e,r=this._,i=parseTypenames(t+"",r),a=-1,o=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++a<o;)if(e=(t=i[a]).type)r[e]=set(r[e],t.name,n);else if(null==n)for(e in r)r[e]=set(r[e],t.name,null);return this}for(;++a<o;)if((e=(t=i[a]).type)&&(e=get(r[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new Dispatch(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),a=0;a<e;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=0,e=(r=this._[t]).length;a<e;++a)r[a].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(n,e)}};var xhtml="http://www.w3.org/1999/xhtml",namespaces={svg:"http://www.w3.org/2000/svg",xhtml:xhtml,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function namespace(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),namespaces.hasOwnProperty(n)?{space:namespaces[n],local:t}:t}function creatorInherit(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===xhtml&&n.documentElement.namespaceURI===xhtml?n.createElement(t):n.createElementNS(e,t)}}function creatorFixed(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function creator(t){var n=namespace(t);return(n.local?creatorFixed:creatorInherit)(n)}function none(){}function selector(t){return null==t?none:function(){return this.querySelector(t)}}function selection_select(t){"function"!=typeof t&&(t=selector(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a,o,c=n[i],s=c.length,u=r[i]=new Array(s),l=0;l<s;++l)(a=c[l])&&(o=t.call(a,a.__data__,l,c))&&("__data__"in a&&(o.__data__=a.__data__),u[l]=o);return new Selection(r,this._parents)}function empty(){return[]}function selectorAll(t){return null==t?empty:function(){return this.querySelectorAll(t)}}function selection_selectAll(t){"function"!=typeof t&&(t=selectorAll(t));for(var n=this._groups,e=n.length,r=[],i=[],a=0;a<e;++a)for(var o,c=n[a],s=c.length,u=0;u<s;++u)(o=c[u])&&(r.push(t.call(o,o.__data__,u,c)),i.push(o));return new Selection(r,i)}function matcher(t){return function(){return this.matches(t)}}function selection_filter(t){"function"!=typeof t&&(t=matcher(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a,o=n[i],c=o.length,s=r[i]=[],u=0;u<c;++u)(a=o[u])&&t.call(a,a.__data__,u,o)&&s.push(a);return new Selection(r,this._parents)}function sparse(t){return new Array(t.length)}function selection_enter(){return new Selection(this._enter||this._groups.map(sparse),this._parents)}function EnterNode(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function constant$1(t){return function(){return t}}EnterNode.prototype={constructor:EnterNode,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var keyPrefix="$";function bindIndex(t,n,e,r,i,a){for(var o,c=0,s=n.length,u=a.length;c<u;++c)(o=n[c])?(o.__data__=a[c],r[c]=o):e[c]=new EnterNode(t,a[c]);for(;c<s;++c)(o=n[c])&&(i[c]=o)}function bindKey(t,n,e,r,i,a,o){var c,s,u,l={},f=n.length,h=a.length,d=new Array(f);for(c=0;c<f;++c)(s=n[c])&&(d[c]=u=keyPrefix+o.call(s,s.__data__,c,n),u in l?i[c]=s:l[u]=s);for(c=0;c<h;++c)(s=l[u=keyPrefix+o.call(t,a[c],c,a)])?(r[c]=s,s.__data__=a[c],l[u]=null):e[c]=new EnterNode(t,a[c]);for(c=0;c<f;++c)(s=n[c])&&l[d[c]]===s&&(i[c]=s)}function selection_data(t,n){if(!t)return d=new Array(this.size()),u=-1,this.each(function(t){d[++u]=t}),d;var e=n?bindKey:bindIndex,r=this._parents,i=this._groups;"function"!=typeof t&&(t=constant$1(t));for(var a=i.length,o=new Array(a),c=new Array(a),s=new Array(a),u=0;u<a;++u){var l=r[u],f=i[u],h=f.length,d=t.call(l,l&&l.__data__,u,r),p=d.length,m=c[u]=new Array(p),g=o[u]=new Array(p);e(l,f,m,g,s[u]=new Array(h),d,n);for(var y,b,v=0,_=0;v<p;++v)if(y=m[v]){for(v>=_&&(_=v+1);!(b=g[_])&&++_<p;);y._next=b||null}}return(o=new Selection(o,r))._enter=c,o._exit=s,o}function selection_exit(){return new Selection(this._exit||this._groups.map(sparse),this._parents)}function selection_join(t,n,e){var r=this.enter(),i=this,a=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=n&&(i=n(i)),null==e?a.remove():e(a),r&&i?r.merge(i).order():i}function selection_merge(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,a=Math.min(r,i),o=new Array(r),c=0;c<a;++c)for(var s,u=n[c],l=e[c],f=u.length,h=o[c]=new Array(f),d=0;d<f;++d)(s=u[d]||l[d])&&(h[d]=s);for(;c<r;++c)o[c]=n[c];return new Selection(o,this._parents)}function selection_order(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this}function selection_sort(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=ascending$1);for(var e=this._groups,r=e.length,i=new Array(r),a=0;a<r;++a){for(var o,c=e[a],s=c.length,u=i[a]=new Array(s),l=0;l<s;++l)(o=c[l])&&(u[l]=o);u.sort(n)}return new Selection(i,this._parents).order()}function ascending$1(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function selection_call(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function selection_nodes(){var t=new Array(this.size()),n=-1;return this.each(function(){t[++n]=this}),t}function selection_node(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function selection_size(){var t=0;return this.each(function(){++t}),t}function selection_empty(){return!this.node()}function selection_each(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,a=n[e],o=0,c=a.length;o<c;++o)(i=a[o])&&t.call(i,i.__data__,o,a);return this}function attrRemove(t){return function(){this.removeAttribute(t)}}function attrRemoveNS(t){return function(){this.removeAttributeNS(t.space,t.local)}}function attrConstant(t,n){return function(){this.setAttribute(t,n)}}function attrConstantNS(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function attrFunction(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function attrFunctionNS(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function selection_attr(t,n){var e=namespace(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?attrRemoveNS:attrRemove:"function"==typeof n?e.local?attrFunctionNS:attrFunction:e.local?attrConstantNS:attrConstant)(e,n))}function defaultView(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function styleRemove(t){return function(){this.style.removeProperty(t)}}function styleConstant(t,n,e){return function(){this.style.setProperty(t,n,e)}}function styleFunction(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function selection_style(t,n,e){return arguments.length>1?this.each((null==n?styleRemove:"function"==typeof n?styleFunction:styleConstant)(t,n,null==e?"":e)):styleValue(this.node(),t)}function styleValue(t,n){return t.style.getPropertyValue(n)||defaultView(t).getComputedStyle(t,null).getPropertyValue(n)}function propertyRemove(t){return function(){delete this[t]}}function propertyConstant(t,n){return function(){this[t]=n}}function propertyFunction(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function selection_property(t,n){return arguments.length>1?this.each((null==n?propertyRemove:"function"==typeof n?propertyFunction:propertyConstant)(t,n)):this.node()[t]}function classArray(t){return t.trim().split(/^|\s+/)}function classList(t){return t.classList||new ClassList(t)}function ClassList(t){this._node=t,this._names=classArray(t.getAttribute("class")||"")}function classedAdd(t,n){for(var e=classList(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function classedRemove(t,n){for(var e=classList(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function classedTrue(t){return function(){classedAdd(this,t)}}function classedFalse(t){return function(){classedRemove(this,t)}}function classedFunction(t,n){return function(){(n.apply(this,arguments)?classedAdd:classedRemove)(this,t)}}function selection_classed(t,n){var e=classArray(t+"");if(arguments.length<2){for(var r=classList(this.node()),i=-1,a=e.length;++i<a;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?classedFunction:n?classedTrue:classedFalse)(e,n))}function textRemove(){this.textContent=""}function textConstant(t){return function(){this.textContent=t}}function textFunction(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function selection_text(t){return arguments.length?this.each(null==t?textRemove:("function"==typeof t?textFunction:textConstant)(t)):this.node().textContent}function htmlRemove(){this.innerHTML=""}function htmlConstant(t){return function(){this.innerHTML=t}}function htmlFunction(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function selection_html(t){return arguments.length?this.each(null==t?htmlRemove:("function"==typeof t?htmlFunction:htmlConstant)(t)):this.node().innerHTML}function raise(){this.nextSibling&&this.parentNode.appendChild(this)}function selection_raise(){return this.each(raise)}function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function selection_lower(){return this.each(lower)}function selection_append(t){var n="function"==typeof t?t:creator(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function constantNull(){return null}function selection_insert(t,n){var e="function"==typeof t?t:creator(t),r=null==n?constantNull:"function"==typeof n?n:selector(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})}function remove(){var t=this.parentNode;t&&t.removeChild(this)}function selection_remove(){return this.each(remove)}function selection_cloneShallow(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function selection_cloneDeep(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}function selection_clone(t){return this.select(t?selection_cloneDeep:selection_cloneShallow)}function selection_datum(t){return arguments.length?this.property("__data__",t):this.node().__data__}ClassList.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var filterEvents={},event=null;if("undefined"!=typeof document){var element=document.documentElement;"onmouseenter"in element||(filterEvents={mouseenter:"mouseover",mouseleave:"mouseout"})}function filterContextListener(t,n,e){return t=contextListener(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function contextListener(t,n,e){return function(r){var i=event;event=r;try{t.call(this,this.__data__,n,e)}finally{event=i}}}function parseTypenames$1(t){return t.trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}})}function onRemove(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,a=n.length;r<a;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?n.length=i:delete this.__on}}}function onAdd(t,n,e){var r=filterEvents.hasOwnProperty(t.type)?filterContextListener:contextListener;return function(i,a,o){var c,s=this.__on,u=r(n,a,o);if(s)for(var l=0,f=s.length;l<f;++l)if((c=s[l]).type===t.type&&c.name===t.name)return this.removeEventListener(c.type,c.listener,c.capture),this.addEventListener(c.type,c.listener=u,c.capture=e),void(c.value=n);this.addEventListener(t.type,u,e),c={type:t.type,name:t.name,value:n,listener:u,capture:e},s?s.push(c):this.__on=[c]}}function selection_on(t,n,e){var r,i,a=parseTypenames$1(t+""),o=a.length;if(!(arguments.length<2)){for(c=n?onAdd:onRemove,null==e&&(e=!1),r=0;r<o;++r)this.each(c(a[r],n,e));return this}var c=this.node().__on;if(c)for(var s,u=0,l=c.length;u<l;++u)for(r=0,s=c[u];r<o;++r)if((i=a[r]).type===s.type&&i.name===s.name)return s.value}function customEvent(t,n,e,r){var i=event;t.sourceEvent=event,event=t;try{return n.apply(e,r)}finally{event=i}}function dispatchEvent(t,n,e){var r=defaultView(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function dispatchConstant(t,n){return function(){return dispatchEvent(this,t,n)}}function dispatchFunction(t,n){return function(){return dispatchEvent(this,t,n.apply(this,arguments))}}function selection_dispatch(t,n){return this.each(("function"==typeof n?dispatchFunction:dispatchConstant)(t,n))}var root=[null];function Selection(t,n){this._groups=t,this._parents=n}function selection(){return new Selection([[document.documentElement]],root)}function select(t){return"string"==typeof t?new Selection([[document.querySelector(t)]],[document.documentElement]):new Selection([[t]],root)}function create(t){return select(creator(t).call(document.documentElement))}Selection.prototype=selection.prototype={constructor:Selection,select:selection_select,selectAll:selection_selectAll,filter:selection_filter,data:selection_data,enter:selection_enter,exit:selection_exit,join:selection_join,merge:selection_merge,order:selection_order,sort:selection_sort,call:selection_call,nodes:selection_nodes,node:selection_node,size:selection_size,empty:selection_empty,each:selection_each,attr:selection_attr,style:selection_style,property:selection_property,classed:selection_classed,text:selection_text,html:selection_html,raise:selection_raise,lower:selection_lower,append:selection_append,insert:selection_insert,remove:selection_remove,clone:selection_clone,datum:selection_datum,on:selection_on,dispatch:selection_dispatch};var nextId=0;function local(){return new Local}function Local(){this._="@"+(++nextId).toString(36)}function sourceEvent(){for(var t,n=event;t=n.sourceEvent;)n=t;return n}function point(t,n){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[n.clientX-i.left-t.clientLeft,n.clientY-i.top-t.clientTop]}function mouse(t){var n=sourceEvent();return n.changedTouches&&(n=n.changedTouches[0]),point(t,n)}function selectAll(t){return"string"==typeof t?new Selection([document.querySelectorAll(t)],[document.documentElement]):new Selection([null==t?[]:t],root)}function touch(t,n,e){arguments.length<3&&(e=n,n=sourceEvent().changedTouches);for(var r,i=0,a=n?n.length:0;i<a;++i)if((r=n[i]).identifier===e)return point(t,r);return null}function touches(t,n){null==n&&(n=sourceEvent().touches);for(var e=0,r=n?n.length:0,i=new Array(r);e<r;++e)i[e]=point(t,n[e]);return i}function nopropagation(){event.stopImmediatePropagation()}function noevent(){event.preventDefault(),event.stopImmediatePropagation()}function dragDisable(t){var n=t.document.documentElement,e=select(t).on("dragstart.drag",noevent,!0);"onselectstart"in n?e.on("selectstart.drag",noevent,!0):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function yesdrag(t,n){var e=t.document.documentElement,r=select(t).on("dragstart.drag",null);n&&(r.on("click.drag",noevent,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}function constant$2(t){return function(){return t}}function DragEvent(t,n,e,r,i,a,o,c,s,u){this.target=t,this.type=n,this.subject=e,this.identifier=r,this.active=i,this.x=a,this.y=o,this.dx=c,this.dy=s,this._=u}function defaultFilter(){return!event.button}function defaultContainer(){return this.parentNode}function defaultSubject(t){return null==t?{x:event.x,y:event.y}:t}function defaultTouchable(){return"ontouchstart"in this}function drag(){var t,n,e,r,i=defaultFilter,a=defaultContainer,o=defaultSubject,c=defaultTouchable,s={},u=dispatch("start","drag","end"),l=0,f=0;function h(t){t.on("mousedown.drag",d).filter(c).on("touchstart.drag",g).on("touchmove.drag",y).on("touchend.drag touchcancel.drag",b).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(){if(!r&&i.apply(this,arguments)){var o=v("mouse",a.apply(this,arguments),mouse,this,arguments);o&&(select(event.view).on("mousemove.drag",p,!0).on("mouseup.drag",m,!0),dragDisable(event.view),nopropagation(),e=!1,t=event.clientX,n=event.clientY,o("start"))}}function p(){if(noevent(),!e){var r=event.clientX-t,i=event.clientY-n;e=r*r+i*i>f}s.mouse("drag")}function m(){select(event.view).on("mousemove.drag mouseup.drag",null),yesdrag(event.view,e),noevent(),s.mouse("end")}function g(){if(i.apply(this,arguments)){var t,n,e=event.changedTouches,r=a.apply(this,arguments),o=e.length;for(t=0;t<o;++t)(n=v(e[t].identifier,r,touch,this,arguments))&&(nopropagation(),n("start"))}}function y(){var t,n,e=event.changedTouches,r=e.length;for(t=0;t<r;++t)(n=s[e[t].identifier])&&(noevent(),n("drag"))}function b(){var t,n,e=event.changedTouches,i=e.length;for(r&&clearTimeout(r),r=setTimeout(function(){r=null},500),t=0;t<i;++t)(n=s[e[t].identifier])&&(nopropagation(),n("end"))}function v(t,n,e,r,i){var a,c,f,d=e(n,t),p=u.copy();if(customEvent(new DragEvent(h,"beforestart",a,t,l,d[0],d[1],0,0,p),function(){return null!=(event.subject=a=o.apply(r,i))&&(c=a.x-d[0]||0,f=a.y-d[1]||0,!0)}))return function o(u){var m,g=d;switch(u){case"start":s[t]=o,m=l++;break;case"end":delete s[t],--l;case"drag":d=e(n,t),m=l}customEvent(new DragEvent(h,u,a,t,m,d[0]+c,d[1]+f,d[0]-g[0],d[1]-g[1],p),p.apply,p,[u,r,i])}}return h.filter=function(t){return arguments.length?(i="function"==typeof t?t:constant$2(!!t),h):i},h.container=function(t){return arguments.length?(a="function"==typeof t?t:constant$2(t),h):a},h.subject=function(t){return arguments.length?(o="function"==typeof t?t:constant$2(t),h):o},h.touchable=function(t){return arguments.length?(c="function"==typeof t?t:constant$2(!!t),h):c},h.on=function(){var t=u.on.apply(u,arguments);return t===u?h:t},h.clickDistance=function(t){return arguments.length?(f=(t=+t)*t,h):Math.sqrt(f)},h}function define(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function extend(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Color(){}Local.prototype=local.prototype={constructor:Local,get:function(t){for(var n=this._;!(n in t);)if(!(t=t.parentNode))return;return t[n]},set:function(t,n){return t[this._]=n},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}},DragEvent.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex3=/^#([0-9a-f]{3})$/,reHex6=/^#([0-9a-f]{6})$/,reRgbInteger=new RegExp("^rgb\\("+[reI,reI,reI]+"\\)$"),reRgbPercent=new RegExp("^rgb\\("+[reP,reP,reP]+"\\)$"),reRgbaInteger=new RegExp("^rgba\\("+[reI,reI,reI,reN]+"\\)$"),reRgbaPercent=new RegExp("^rgba\\("+[reP,reP,reP,reN]+"\\)$"),reHslPercent=new RegExp("^hsl\\("+[reN,reP,reP]+"\\)$"),reHslaPercent=new RegExp("^hsla\\("+[reN,reP,reP,reN]+"\\)$"),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function color(t){var n;return t=(t+"").trim().toLowerCase(),(n=reHex3.exec(t))?new Rgb((n=parseInt(n[1],16))>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):(n=reHex6.exec(t))?rgbn(parseInt(n[1],16)):(n=reRgbInteger.exec(t))?new Rgb(n[1],n[2],n[3],1):(n=reRgbPercent.exec(t))?new Rgb(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=reRgbaInteger.exec(t))?rgba(n[1],n[2],n[3],n[4]):(n=reRgbaPercent.exec(t))?rgba(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=reHslPercent.exec(t))?hsla(n[1],n[2]/100,n[3]/100,1):(n=reHslaPercent.exec(t))?hsla(n[1],n[2]/100,n[3]/100,n[4]):named.hasOwnProperty(t)?rgbn(named[t]):"transparent"===t?new Rgb(NaN,NaN,NaN,0):null}function rgbn(t){return new Rgb(t>>16&255,t>>8&255,255&t,1)}function rgba(t,n,e,r){return r<=0&&(t=n=e=NaN),new Rgb(t,n,e,r)}function rgbConvert(t){return t instanceof Color||(t=color(t)),t?new Rgb((t=t.rgb()).r,t.g,t.b,t.opacity):new Rgb}function rgb(t,n,e,r){return 1===arguments.length?rgbConvert(t):new Rgb(t,n,e,null==r?1:r)}function Rgb(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function hex(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function hsla(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Hsl(t,n,e,r)}function hslConvert(t){if(t instanceof Hsl)return new Hsl(t.h,t.s,t.l,t.opacity);if(t instanceof Color||(t=color(t)),!t)return new Hsl;if(t instanceof Hsl)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),a=Math.max(n,e,r),o=NaN,c=a-i,s=(a+i)/2;return c?(o=n===a?(e-r)/c+6*(e<r):e===a?(r-n)/c+2:(n-e)/c+4,c/=s<.5?a+i:2-a-i,o*=60):c=s>0&&s<1?0:o,new Hsl(o,c,s,t.opacity)}function hsl(t,n,e,r){return 1===arguments.length?hslConvert(t):new Hsl(t,n,e,null==r?1:r)}function Hsl(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function hsl2rgb(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}define(Color,color,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),define(Rgb,rgb,extend(Color,{brighter:function(t){return t=null==t?brighter:Math.pow(brighter,t),new Rgb(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?darker:Math.pow(darker,t),new Rgb(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+hex(this.r)+hex(this.g)+hex(this.b)},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),define(Hsl,hsl,extend(Color,{brighter:function(t){return t=null==t?brighter:Math.pow(brighter,t),new Hsl(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?darker:Math.pow(darker,t),new Hsl(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new Rgb(hsl2rgb(t>=240?t-240:t+120,i,r),hsl2rgb(t,i,r),hsl2rgb(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var deg2rad=Math.PI/180,rad2deg=180/Math.PI,K=18,Xn=.96422,Yn=1,Zn=.82521,t0=4/29,t1=6/29,t2=3*t1*t1,t3=t1*t1*t1;function labConvert(t){if(t instanceof Lab)return new Lab(t.l,t.a,t.b,t.opacity);if(t instanceof Hcl){if(isNaN(t.h))return new Lab(t.l,0,0,t.opacity);var n=t.h*deg2rad;return new Lab(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}t instanceof Rgb||(t=rgbConvert(t));var e,r,i=rgb2lrgb(t.r),a=rgb2lrgb(t.g),o=rgb2lrgb(t.b),c=xyz2lab((.2225045*i+.7168786*a+.0606169*o)/Yn);return i===a&&a===o?e=r=c:(e=xyz2lab((.4360747*i+.3850649*a+.1430804*o)/Xn),r=xyz2lab((.0139322*i+.0971045*a+.7141733*o)/Zn)),new Lab(116*c-16,500*(e-c),200*(c-r),t.opacity)}function gray(t,n){return new Lab(t,0,0,null==n?1:n)}function lab(t,n,e,r){return 1===arguments.length?labConvert(t):new Lab(t,n,e,null==r?1:r)}function Lab(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}function xyz2lab(t){return t>t3?Math.pow(t,1/3):t/t2+t0}function lab2xyz(t){return t>t1?t*t*t:t2*(t-t0)}function lrgb2rgb(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function rgb2lrgb(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function hclConvert(t){if(t instanceof Hcl)return new Hcl(t.h,t.c,t.l,t.opacity);if(t instanceof Lab||(t=labConvert(t)),0===t.a&&0===t.b)return new Hcl(NaN,0,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*rad2deg;return new Hcl(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function lch(t,n,e,r){return 1===arguments.length?hclConvert(t):new Hcl(e,n,t,null==r?1:r)}function hcl(t,n,e,r){return 1===arguments.length?hclConvert(t):new Hcl(t,n,e,null==r?1:r)}function Hcl(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}define(Lab,lab,extend(Color,{brighter:function(t){return new Lab(this.l+K*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Lab(this.l-K*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return new Rgb(lrgb2rgb(3.1338561*(n=Xn*lab2xyz(n))-1.6168667*(t=Yn*lab2xyz(t))-.4906146*(e=Zn*lab2xyz(e))),lrgb2rgb(-.9787684*n+1.9161415*t+.033454*e),lrgb2rgb(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}})),define(Hcl,hcl,extend(Color,{brighter:function(t){return new Hcl(this.h,this.c,this.l+K*(null==t?1:t),this.opacity)},darker:function(t){return new Hcl(this.h,this.c,this.l-K*(null==t?1:t),this.opacity)},rgb:function(){return labConvert(this).rgb()}}));var A=-.14861,B=1.78277,C=-.29227,D=-.90649,E=1.97294,ED=E*D,EB=E*B,BC_DA=B*C-D*A;function cubehelixConvert(t){if(t instanceof Cubehelix)return new Cubehelix(t.h,t.s,t.l,t.opacity);t instanceof Rgb||(t=rgbConvert(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(BC_DA*r+ED*n-EB*e)/(BC_DA+ED-EB),a=r-i,o=(E*(e-i)-C*a)/D,c=Math.sqrt(o*o+a*a)/(E*i*(1-i)),s=c?Math.atan2(o,a)*rad2deg-120:NaN;return new Cubehelix(s<0?s+360:s,c,i,t.opacity)}function cubehelix(t,n,e,r){return 1===arguments.length?cubehelixConvert(t):new Cubehelix(t,n,e,null==r?1:r)}function Cubehelix(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function basis(t,n,e,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*n+(4-6*a+3*o)*e+(1+3*t+3*a-3*o)*r+o*i)/6}function basis$1(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],a=t[r+1],o=r>0?t[r-1]:2*i-a,c=r<n-1?t[r+2]:2*a-i;return basis((e-r/n)*n,o,i,a,c)}}function basisClosed(t){var n=t.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*n),i=t[(r+n-1)%n],a=t[r%n],o=t[(r+1)%n],c=t[(r+2)%n];return basis((e-r/n)*n,i,a,o,c)}}function constant$3(t){return function(){return t}}function linear(t,n){return function(e){return t+e*n}}function exponential(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}function hue(t,n){var e=n-t;return e?linear(t,e>180||e<-180?e-360*Math.round(e/360):e):constant$3(isNaN(t)?n:t)}function gamma(t){return 1==(t=+t)?nogamma:function(n,e){return e-n?exponential(n,e,t):constant$3(isNaN(n)?e:n)}}function nogamma(t,n){var e=n-t;return e?linear(t,e):constant$3(isNaN(t)?n:t)}define(Cubehelix,cubehelix,extend(Color,{brighter:function(t){return t=null==t?brighter:Math.pow(brighter,t),new Cubehelix(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?darker:Math.pow(darker,t),new Cubehelix(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*deg2rad,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new Rgb(255*(n+e*(A*r+B*i)),255*(n+e*(C*r+D*i)),255*(n+e*(E*r)),this.opacity)}}));var interpolateRgb=function t(n){var e=gamma(n);function r(t,n){var r=e((t=rgb(t)).r,(n=rgb(n)).r),i=e(t.g,n.g),a=e(t.b,n.b),o=nogamma(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=a(n),t.opacity=o(n),t+""}}return r.gamma=t,r}(1);function rgbSpline(t){return function(n){var e,r,i=n.length,a=new Array(i),o=new Array(i),c=new Array(i);for(e=0;e<i;++e)r=rgb(n[e]),a[e]=r.r||0,o[e]=r.g||0,c[e]=r.b||0;return a=t(a),o=t(o),c=t(c),r.opacity=1,function(t){return r.r=a(t),r.g=o(t),r.b=c(t),r+""}}}var rgbBasis=rgbSpline(basis$1),rgbBasisClosed=rgbSpline(basisClosed);function array$1(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,a=new Array(i),o=new Array(r);for(e=0;e<i;++e)a[e]=interpolateValue(t[e],n[e]);for(;e<r;++e)o[e]=n[e];return function(t){for(e=0;e<i;++e)o[e]=a[e](t);return o}}function date(t,n){var e=new Date;return n-=t=+t,function(r){return e.setTime(t+n*r),e}}function interpolateNumber(t,n){return n-=t=+t,function(e){return t+n*e}}function object(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=interpolateValue(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(t){return function(){return t}}function one(t){return function(n){return t(n)+""}}function interpolateString(t,n){var e,r,i,a=reA.lastIndex=reB.lastIndex=0,o=-1,c=[],s=[];for(t+="",n+="";(e=reA.exec(t))&&(r=reB.exec(n));)(i=r.index)>a&&(i=n.slice(a,i),c[o]?c[o]+=i:c[++o]=i),(e=e[0])===(r=r[0])?c[o]?c[o]+=r:c[++o]=r:(c[++o]=null,s.push({i:o,x:interpolateNumber(e,r)})),a=reB.lastIndex;return a<n.length&&(i=n.slice(a),c[o]?c[o]+=i:c[++o]=i),c.length<2?s[0]?one(s[0].x):zero(n):(n=s.length,function(t){for(var e,r=0;r<n;++r)c[(e=s[r]).i]=e.x(t);return c.join("")})}function interpolateValue(t,n){var e,r=typeof n;return null==n||"boolean"===r?constant$3(n):("number"===r?interpolateNumber:"string"===r?(e=color(n))?(n=e,interpolateRgb):interpolateString:n instanceof color?interpolateRgb:n instanceof Date?date:Array.isArray(n)?array$1:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?object:interpolateNumber)(t,n)}function discrete(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}function hue$1(t,n){var e=hue(+t,+n);return function(t){var n=e(t);return n-360*Math.floor(n/360)}}function interpolateRound(t,n){return n-=t=+t,function(e){return Math.round(t+n*e)}}var cssNode,cssRoot,cssView,svgNode,degrees=180/Math.PI,identity$2={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function decompose(t,n,e,r,i,a){var o,c,s;return(o=Math.sqrt(t*t+n*n))&&(t/=o,n/=o),(s=t*e+n*r)&&(e-=t*s,r-=n*s),(c=Math.sqrt(e*e+r*r))&&(e/=c,r/=c,s/=c),t*r<n*e&&(t=-t,n=-n,s=-s,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(n,t)*degrees,skewX:Math.atan(s)*degrees,scaleX:o,scaleY:c}}function parseCss(t){return"none"===t?identity$2:(cssNode||(cssNode=document.createElement("DIV"),cssRoot=document.documentElement,cssView=document.defaultView),cssNode.style.transform=t,t=cssView.getComputedStyle(cssRoot.appendChild(cssNode),null).getPropertyValue("transform"),cssRoot.removeChild(cssNode),decompose(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function parseSvg(t){return null==t?identity$2:(svgNode||(svgNode=document.createElementNS("http://www.w3.org/2000/svg","g")),svgNode.setAttribute("transform",t),(t=svgNode.transform.baseVal.consolidate())?decompose((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):identity$2)}function interpolateTransform(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}return function(a,o){var c=[],s=[];return a=t(a),o=t(o),function(t,r,i,a,o,c){if(t!==i||r!==a){var s=o.push("translate(",null,n,null,e);c.push({i:s-4,x:interpolateNumber(t,i)},{i:s-2,x:interpolateNumber(r,a)})}else(i||a)&&o.push("translate("+i+n+a+e)}(a.translateX,a.translateY,o.translateX,o.translateY,c,s),function(t,n,e,a){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),a.push({i:e.push(i(e)+"rotate(",null,r)-2,x:interpolateNumber(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}(a.rotate,o.rotate,c,s),function(t,n,e,a){t!==n?a.push({i:e.push(i(e)+"skewX(",null,r)-2,x:interpolateNumber(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}(a.skewX,o.skewX,c,s),function(t,n,e,r,a,o){if(t!==e||n!==r){var c=a.push(i(a)+"scale(",null,",",null,")");o.push({i:c-4,x:interpolateNumber(t,e)},{i:c-2,x:interpolateNumber(n,r)})}else 1===e&&1===r||a.push(i(a)+"scale("+e+","+r+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,c,s),a=o=null,function(t){for(var n,e=-1,r=s.length;++e<r;)c[(n=s[e]).i]=n.x(t);return c.join("")}}}var interpolateTransformCss=interpolateTransform(parseCss,"px, ","px)","deg)"),interpolateTransformSvg=interpolateTransform(parseSvg,", ",")",")"),rho=Math.SQRT2,rho2=2,rho4=4,epsilon2=1e-12;function cosh(t){return((t=Math.exp(t))+1/t)/2}function sinh(t){return((t=Math.exp(t))-1/t)/2}function tanh(t){return((t=Math.exp(2*t))-1)/(t+1)}function interpolateZoom(t,n){var e,r,i=t[0],a=t[1],o=t[2],c=n[0],s=n[1],u=n[2],l=c-i,f=s-a,h=l*l+f*f;if(h<epsilon2)r=Math.log(u/o)/rho,e=function(t){return[i+t*l,a+t*f,o*Math.exp(rho*t*r)]};else{var d=Math.sqrt(h),p=(u*u-o*o+rho4*h)/(2*o*rho2*d),m=(u*u-o*o-rho4*h)/(2*u*rho2*d),g=Math.log(Math.sqrt(p*p+1)-p),y=Math.log(Math.sqrt(m*m+1)-m);r=(y-g)/rho,e=function(t){var n=t*r,e=cosh(g),c=o/(rho2*d)*(e*tanh(rho*n+g)-sinh(g));return[i+c*l,a+c*f,o*e/cosh(rho*n+g)]}}return e.duration=1e3*r,e}function hsl$1(t){return function(n,e){var r=t((n=hsl(n)).h,(e=hsl(e)).h),i=nogamma(n.s,e.s),a=nogamma(n.l,e.l),o=nogamma(n.opacity,e.opacity);return function(t){return n.h=r(t),n.s=i(t),n.l=a(t),n.opacity=o(t),n+""}}}var hsl$2=hsl$1(hue),hslLong=hsl$1(nogamma);function lab$1(t,n){var e=nogamma((t=lab(t)).l,(n=lab(n)).l),r=nogamma(t.a,n.a),i=nogamma(t.b,n.b),a=nogamma(t.opacity,n.opacity);return function(n){return t.l=e(n),t.a=r(n),t.b=i(n),t.opacity=a(n),t+""}}function hcl$1(t){return function(n,e){var r=t((n=hcl(n)).h,(e=hcl(e)).h),i=nogamma(n.c,e.c),a=nogamma(n.l,e.l),o=nogamma(n.opacity,e.opacity);return function(t){return n.h=r(t),n.c=i(t),n.l=a(t),n.opacity=o(t),n+""}}}var hcl$2=hcl$1(hue),hclLong=hcl$1(nogamma);function cubehelix$1(t){return function n(e){function r(n,r){var i=t((n=cubehelix(n)).h,(r=cubehelix(r)).h),a=nogamma(n.s,r.s),o=nogamma(n.l,r.l),c=nogamma(n.opacity,r.opacity);return function(t){return n.h=i(t),n.s=a(t),n.l=o(Math.pow(t,e)),n.opacity=c(t),n+""}}return e=+e,r.gamma=n,r}(1)}var cubehelix$2=cubehelix$1(hue),cubehelixLong=cubehelix$1(nogamma);function piecewise(t,n){for(var e=0,r=n.length-1,i=n[0],a=new Array(r<0?0:r);e<r;)a[e]=t(i,i=n[++e]);return function(t){var n=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return a[n](t-n)}}function quantize(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t(r/(n-1));return e}var taskHead,taskTail,frame=0,timeout=0,interval=0,pokeDelay=1e3,clockLast=0,clockNow=0,clockSkew=0,clock="object"==typeof performance&&performance.now?performance:Date,setFrame="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function now(){return clockNow||(setFrame(clearNow),clockNow=clock.now()+clockSkew)}function clearNow(){clockNow=0}function Timer(){this._call=this._time=this._next=null}function timer(t,n,e){var r=new Timer;return r.restart(t,n,e),r}function timerFlush(){now(),++frame;for(var t,n=taskHead;n;)(t=clockNow-n._time)>=0&&n._call.call(null,t),n=n._next;--frame}function wake(){clockNow=(clockLast=clock.now())+clockSkew,frame=timeout=0;try{timerFlush()}finally{frame=0,nap(),clockNow=0}}function poke(){var t=clock.now(),n=t-clockLast;n>pokeDelay&&(clockSkew-=n,clockLast=t)}function nap(){for(var t,n,e=taskHead,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:taskHead=n);taskTail=t,sleep(r)}function sleep(t){frame||(timeout&&(timeout=clearTimeout(timeout)),t-clockNow>24?(t<1/0&&(timeout=setTimeout(wake,t-clock.now()-clockSkew)),interval&&(interval=clearInterval(interval))):(interval||(clockLast=clock.now(),interval=setInterval(poke,pokeDelay)),frame=1,setFrame(wake)))}function timeout$1(t,n,e){var r=new Timer;return n=null==n?0:+n,r.restart(function(e){r.stop(),t(e+n)},n,e),r}function interval$1(t,n,e){var r=new Timer,i=n;return null==n?(r.restart(t,n,e),r):(n=+n,e=null==e?now():+e,r.restart(function a(o){o+=i,r.restart(a,i+=n,e),t(o)},n,e),r)}Timer.prototype=timer.prototype={constructor:Timer,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?now():+e)+(null==n?0:+n),this._next||taskTail===this||(taskTail?taskTail._next=this:taskHead=this,taskTail=this),this._call=t,this._time=e,sleep()},stop:function(){this._call&&(this._call=null,this._time=1/0,sleep())}};var emptyOn=dispatch("start","end","cancel","interrupt"),emptyTween=[],CREATED=0,SCHEDULED=1,STARTING=2,STARTED=3,RUNNING=4,ENDING=5,ENDED=6;function schedule(t,n,e,r,i,a){var o=t.__transition;if(o){if(e in o)return}else t.__transition={};create$1(t,e,{name:n,index:r,group:i,on:emptyOn,tween:emptyTween,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:CREATED})}function init(t,n){var e=get$1(t,n);if(e.state>CREATED)throw new Error("too late; already scheduled");return e}function set$1(t,n){var e=get$1(t,n);if(e.state>STARTED)throw new Error("too late; already running");return e}function get$1(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function create$1(t,n,e){var r,i=t.__transition;function a(s){var u,l,f,h;if(e.state!==SCHEDULED)return c();for(u in i)if((h=i[u]).name===e.name){if(h.state===STARTED)return timeout$1(a);h.state===RUNNING?(h.state=ENDED,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[u]):+u<n&&(h.state=ENDED,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[u])}if(timeout$1(function(){e.state===STARTED&&(e.state=RUNNING,e.timer.restart(o,e.delay,e.time),o(s))}),e.state=STARTING,e.on.call("start",t,t.__data__,e.index,e.group),e.state===STARTING){for(e.state=STARTED,r=new Array(f=e.tween.length),u=0,l=-1;u<f;++u)(h=e.tween[u].value.call(t,t.__data__,e.index,e.group))&&(r[++l]=h);r.length=l+1}}function o(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(c),e.state=ENDING,1),a=-1,o=r.length;++a<o;)r[a].call(t,i);e.state===ENDING&&(e.on.call("end",t,t.__data__,e.index,e.group),c())}function c(){for(var r in e.state=ENDED,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=timer(function(t){e.state=SCHEDULED,e.timer.restart(a,e.delay,e.time),e.delay<=t&&a(t-e.delay)},0,e.time)}function interrupt(t,n){var e,r,i,a=t.__transition,o=!0;if(a){for(i in n=null==n?null:n+"",a)(e=a[i]).name===n?(r=e.state>STARTING&&e.state<ENDING,e.state=ENDED,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete a[i]):o=!1;o&&delete t.__transition}}function selection_interrupt(t){return this.each(function(){interrupt(this,t)})}function tweenRemove(t,n){var e,r;return function(){var i=set$1(this,t),a=i.tween;if(a!==e)for(var o=0,c=(r=e=a).length;o<c;++o)if(r[o].name===n){(r=r.slice()).splice(o,1);break}i.tween=r}}function tweenFunction(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var a=set$1(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var c={name:n,value:e},s=0,u=i.length;s<u;++s)if(i[s].name===n){i[s]=c;break}s===u&&i.push(c)}a.tween=i}}function transition_tween(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=get$1(this.node(),e).tween,a=0,o=i.length;a<o;++a)if((r=i[a]).name===t)return r.value;return null}return this.each((null==n?tweenRemove:tweenFunction)(e,t,n))}function tweenValue(t,n,e){var r=t._id;return t.each(function(){var t=set$1(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)}),function(t){return get$1(t,r).value[n]}}function interpolate(t,n){var e;return("number"==typeof n?interpolateNumber:n instanceof color?interpolateRgb:(e=color(n))?(n=e,interpolateRgb):interpolateString)(t,n)}function attrRemove$1(t){return function(){this.removeAttribute(t)}}function attrRemoveNS$1(t){return function(){this.removeAttributeNS(t.space,t.local)}}function attrConstant$1(t,n,e){var r,i,a=e+"";return function(){var o=this.getAttribute(t);return o===a?null:o===r?i:i=n(r=o,e)}}function attrConstantNS$1(t,n,e){var r,i,a=e+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===a?null:o===r?i:i=n(r=o,e)}}function attrFunction$1(t,n,e){var r,i,a;return function(){var o,c,s=e(this);if(null!=s)return(o=this.getAttribute(t))===(c=s+"")?null:o===r&&c===i?a:(i=c,a=n(r=o,s));this.removeAttribute(t)}}function attrFunctionNS$1(t,n,e){var r,i,a;return function(){var o,c,s=e(this);if(null!=s)return(o=this.getAttributeNS(t.space,t.local))===(c=s+"")?null:o===r&&c===i?a:(i=c,a=n(r=o,s));this.removeAttributeNS(t.space,t.local)}}function transition_attr(t,n){var e=namespace(t),r="transform"===e?interpolateTransformSvg:interpolate;return this.attrTween(t,"function"==typeof n?(e.local?attrFunctionNS$1:attrFunction$1)(e,r,tweenValue(this,"attr."+t,n)):null==n?(e.local?attrRemoveNS$1:attrRemove$1)(e):(e.local?attrConstantNS$1:attrConstant$1)(e,r,n))}function attrInterpolate(t,n){return function(e){this.setAttribute(t,n(e))}}function attrInterpolateNS(t,n){return function(e){this.setAttributeNS(t.space,t.local,n(e))}}function attrTweenNS(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&attrInterpolateNS(t,i)),e}return i._value=n,i}function attrTween(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&attrInterpolate(t,i)),e}return i._value=n,i}function transition_attrTween(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=namespace(t);return this.tween(e,(r.local?attrTweenNS:attrTween)(r,n))}function delayFunction(t,n){return function(){init(this,t).delay=+n.apply(this,arguments)}}function delayConstant(t,n){return n=+n,function(){init(this,t).delay=n}}function transition_delay(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?delayFunction:delayConstant)(n,t)):get$1(this.node(),n).delay}function durationFunction(t,n){return function(){set$1(this,t).duration=+n.apply(this,arguments)}}function durationConstant(t,n){return n=+n,function(){set$1(this,t).duration=n}}function transition_duration(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?durationFunction:durationConstant)(n,t)):get$1(this.node(),n).duration}function easeConstant(t,n){if("function"!=typeof n)throw new Error;return function(){set$1(this,t).ease=n}}function transition_ease(t){var n=this._id;return arguments.length?this.each(easeConstant(n,t)):get$1(this.node(),n).ease}function transition_filter(t){"function"!=typeof t&&(t=matcher(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a,o=n[i],c=o.length,s=r[i]=[],u=0;u<c;++u)(a=o[u])&&t.call(a,a.__data__,u,o)&&s.push(a);return new Transition(r,this._parents,this._name,this._id)}function transition_merge(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,a=Math.min(r,i),o=new Array(r),c=0;c<a;++c)for(var s,u=n[c],l=e[c],f=u.length,h=o[c]=new Array(f),d=0;d<f;++d)(s=u[d]||l[d])&&(h[d]=s);for(;c<r;++c)o[c]=n[c];return new Transition(o,this._parents,this._name,this._id)}function start(t){return(t+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t})}function onFunction(t,n,e){var r,i,a=start(n)?init:set$1;return function(){var o=a(this,t),c=o.on;c!==r&&(i=(r=c).copy()).on(n,e),o.on=i}}function transition_on(t,n){var e=this._id;return arguments.length<2?get$1(this.node(),e).on.on(t):this.each(onFunction(e,t,n))}function removeFunction(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}function transition_remove(){return this.on("end.remove",removeFunction(this._id))}function transition_select(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=selector(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var c,s,u=r[o],l=u.length,f=a[o]=new Array(l),h=0;h<l;++h)(c=u[h])&&(s=t.call(c,c.__data__,h,u))&&("__data__"in c&&(s.__data__=c.__data__),f[h]=s,schedule(f[h],n,e,h,f,get$1(c,e)));return new Transition(a,this._parents,n,e)}function transition_selectAll(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=selectorAll(t));for(var r=this._groups,i=r.length,a=[],o=[],c=0;c<i;++c)for(var s,u=r[c],l=u.length,f=0;f<l;++f)if(s=u[f]){for(var h,d=t.call(s,s.__data__,f,u),p=get$1(s,e),m=0,g=d.length;m<g;++m)(h=d[m])&&schedule(h,n,e,m,d,p);a.push(d),o.push(s)}return new Transition(a,o,n,e)}var Selection$1=selection.prototype.constructor;function transition_selection(){return new Selection$1(this._groups,this._parents)}function styleNull(t,n){var e,r,i;return function(){var a=styleValue(this,t),o=(this.style.removeProperty(t),styleValue(this,t));return a===o?null:a===e&&o===r?i:i=n(e=a,r=o)}}function styleRemove$1(t){return function(){this.style.removeProperty(t)}}function styleConstant$1(t,n,e){var r,i,a=e+"";return function(){var o=styleValue(this,t);return o===a?null:o===r?i:i=n(r=o,e)}}function styleFunction$1(t,n,e){var r,i,a;return function(){var o=styleValue(this,t),c=e(this),s=c+"";return null==c&&(this.style.removeProperty(t),s=c=styleValue(this,t)),o===s?null:o===r&&s===i?a:(i=s,a=n(r=o,c))}}function styleMaybeRemove(t,n){var e,r,i,a,o="style."+n,c="end."+o;return function(){var s=set$1(this,t),u=s.on,l=null==s.value[o]?a||(a=styleRemove$1(n)):void 0;u===e&&i===l||(r=(e=u).copy()).on(c,i=l),s.on=r}}function transition_style(t,n,e){var r="transform"==(t+="")?interpolateTransformCss:interpolate;return null==n?this.styleTween(t,styleNull(t,r)).on("end.style."+t,styleRemove$1(t)):"function"==typeof n?this.styleTween(t,styleFunction$1(t,r,tweenValue(this,"style."+t,n))).each(styleMaybeRemove(this._id,t)):this.styleTween(t,styleConstant$1(t,r,n),e).on("end.style."+t,null)}function styleInterpolate(t,n,e){return function(r){this.style.setProperty(t,n(r),e)}}function styleTween(t,n,e){var r,i;function a(){var a=n.apply(this,arguments);return a!==i&&(r=(i=a)&&styleInterpolate(t,a,e)),r}return a._value=n,a}function transition_styleTween(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,styleTween(t,n,null==e?"":e))}function textConstant$1(t){return function(){this.textContent=t}}function textFunction$1(t){return function(){var n=t(this);this.textContent=null==n?"":n}}function transition_text(t){return this.tween("text","function"==typeof t?textFunction$1(tweenValue(this,"text",t)):textConstant$1(null==t?"":t+""))}function transition_transition(){for(var t=this._name,n=this._id,e=newId(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o,c=r[a],s=c.length,u=0;u<s;++u)if(o=c[u]){var l=get$1(o,n);schedule(o,t,e,u,c,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Transition(r,this._parents,t,e)}function transition_end(){var t,n,e=this,r=e._id,i=e.size();return new Promise(function(a,o){var c={value:o},s={value:function(){0==--i&&a()}};e.each(function(){var e=set$1(this,r),i=e.on;i!==t&&((n=(t=i).copy())._.cancel.push(c),n._.interrupt.push(c),n._.end.push(s)),e.on=n})})}var id=0;function Transition(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function transition(t){return selection().transition(t)}function newId(){return++id}var selection_prototype=selection.prototype;function linear$1(t){return+t}function quadIn(t){return t*t}function quadOut(t){return t*(2-t)}function quadInOut(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function cubicIn(t){return t*t*t}function cubicOut(t){return--t*t*t+1}function cubicInOut(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}Transition.prototype=transition.prototype={constructor:Transition,select:transition_select,selectAll:transition_selectAll,filter:transition_filter,merge:transition_merge,selection:transition_selection,transition:transition_transition,call:selection_prototype.call,nodes:selection_prototype.nodes,node:selection_prototype.node,size:selection_prototype.size,empty:selection_prototype.empty,each:selection_prototype.each,on:transition_on,attr:transition_attr,attrTween:transition_attrTween,style:transition_style,styleTween:transition_styleTween,text:transition_text,remove:transition_remove,tween:transition_tween,delay:transition_delay,duration:transition_duration,ease:transition_ease,end:transition_end};var exponent=3,polyIn=function t(n){function e(t){return Math.pow(t,n)}return n=+n,e.exponent=t,e}(exponent),polyOut=function t(n){function e(t){return 1-Math.pow(1-t,n)}return n=+n,e.exponent=t,e}(exponent),polyInOut=function t(n){function e(t){return((t*=2)<=1?Math.pow(t,n):2-Math.pow(2-t,n))/2}return n=+n,e.exponent=t,e}(exponent),pi=Math.PI,halfPi=pi/2;function sinIn(t){return 1-Math.cos(t*halfPi)}function sinOut(t){return Math.sin(t*halfPi)}function sinInOut(t){return(1-Math.cos(pi*t))/2}function expIn(t){return Math.pow(2,10*t-10)}function expOut(t){return 1-Math.pow(2,-10*t)}function expInOut(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function circleIn(t){return 1-Math.sqrt(1-t*t)}function circleOut(t){return Math.sqrt(1- --t*t)}function circleInOut(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var b1=4/11,b2=6/11,b3=8/11,b4=.75,b5=9/11,b6=10/11,b7=.9375,b8=21/22,b9=63/64,b0=1/b1/b1;function bounceIn(t){return 1-bounceOut(1-t)}function bounceOut(t){return(t=+t)<b1?b0*t*t:t<b3?b0*(t-=b2)*t+b4:t<b6?b0*(t-=b5)*t+b7:b0*(t-=b8)*t+b9}function bounceInOut(t){return((t*=2)<=1?1-bounceOut(1-t):bounceOut(t-1)+1)/2}var overshoot=1.70158,backIn=function t(n){function e(t){return t*t*((n+1)*t-n)}return n=+n,e.overshoot=t,e}(overshoot),backOut=function t(n){function e(t){return--t*t*((n+1)*t+n)+1}return n=+n,e.overshoot=t,e}(overshoot),backInOut=function t(n){function e(t){return((t*=2)<1?t*t*((n+1)*t-n):(t-=2)*t*((n+1)*t+n)+2)/2}return n=+n,e.overshoot=t,e}(overshoot),tau=2*Math.PI,amplitude=1,period=.3,elasticIn=function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=tau);function i(t){return n*Math.pow(2,10*--t)*Math.sin((r-t)/e)}return i.amplitude=function(n){return t(n,e*tau)},i.period=function(e){return t(n,e)},i}(amplitude,period),elasticOut=function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=tau);function i(t){return 1-n*Math.pow(2,-10*(t=+t))*Math.sin((t+r)/e)}return i.amplitude=function(n){return t(n,e*tau)},i.period=function(e){return t(n,e)},i}(amplitude,period),elasticInOut=function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=tau);function i(t){return((t=2*t-1)<0?n*Math.pow(2,10*t)*Math.sin((r-t)/e):2-n*Math.pow(2,-10*t)*Math.sin((r+t)/e))/2}return i.amplitude=function(n){return t(n,e*tau)},i.period=function(e){return t(n,e)},i}(amplitude,period),defaultTiming={time:null,delay:0,duration:250,ease:cubicInOut};function inherit(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))return defaultTiming.time=now(),defaultTiming;return e}function selection_transition(t){var n,e;t instanceof Transition?(n=t._id,t=t._name):(n=newId(),(e=defaultTiming).time=now(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o,c=r[a],s=c.length,u=0;u<s;++u)(o=c[u])&&schedule(o,t,n,u,c,e||inherit(o,n));return new Transition(r,this._parents,t,n)}selection.prototype.interrupt=selection_interrupt,selection.prototype.transition=selection_transition;var root$1=[null];function active(t,n){var e,r,i=t.__transition;if(i)for(r in n=null==n?null:n+"",i)if((e=i[r]).state>SCHEDULED&&e.name===n)return new Transition([[t]],root$1,n,+r);return null}function constant$4(t){return function(){return t}}function BrushEvent(t,n,e){this.target=t,this.type=n,this.selection=e}function nopropagation$1(){event.stopImmediatePropagation()}function noevent$1(){event.preventDefault(),event.stopImmediatePropagation()}var MODE_DRAG={name:"drag"},MODE_SPACE={name:"space"},MODE_HANDLE={name:"handle"},MODE_CENTER={name:"center"},X={name:"x",handles:["e","w"].map(type),input:function(t,n){return t&&[[t[0],n[0][1]],[t[1],n[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Y={name:"y",handles:["n","s"].map(type),input:function(t,n){return t&&[[n[0][0],t[0]],[n[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},XY={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(type),input:function(t){return t},output:function(t){return t}},cursors={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},flipX={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},flipY={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},signsX={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},signsY={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function type(t){return{type:t}}function defaultFilter$1(){return!event.button}function defaultExtent(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function local$1(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function empty$1(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function brushSelection(t){var n=t.__brush;return n?n.dim.output(n.selection):null}function brushX(){return brush$1(X)}function brushY(){return brush$1(Y)}function brush(){return brush$1(XY)}function brush$1(t){var n,e=defaultExtent,r=defaultFilter$1,i=dispatch(o,"start","brush","end"),a=6;function o(n){var e=n.property("__brush",f).selectAll(".overlay").data([type("overlay")]);e.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",cursors.overlay).merge(e).each(function(){var t=local$1(this).extent;select(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),n.selectAll(".selection").data([type("selection")]).enter().append("rect").attr("class","selection").attr("cursor",cursors.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=n.selectAll(".handle").data(t.handles,function(t){return t.type});r.exit().remove(),r.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return cursors[t.type]}),n.each(c).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",l)}function c(){var t=select(this),n=local$1(this).selection;n?(t.selectAll(".selection").style("display",null).attr("x",n[0][0]).attr("y",n[0][1]).attr("width",n[1][0]-n[0][0]).attr("height",n[1][1]-n[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?n[1][0]-a/2:n[0][0]-a/2}).attr("y",function(t){return"s"===t.type[0]?n[1][1]-a/2:n[0][1]-a/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?n[1][0]-n[0][0]+a:a}).attr("height",function(t){return"e"===t.type||"w"===t.type?n[1][1]-n[0][1]+a:a})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function s(t,n){return t.__brush.emitter||new u(t,n)}function u(t,n){this.that=t,this.args=n,this.state=t.__brush,this.active=0}function l(){if(event.touches){if(event.changedTouches.length<event.touches.length)return noevent$1()}else if(n)return;if(r.apply(this,arguments)){var e,i,a,o,u,l,f,h,d,p,m,g,y,b=this,v=event.target.__data__.type,_="selection"===(event.metaKey?v="overlay":v)?MODE_DRAG:event.altKey?MODE_CENTER:MODE_HANDLE,$=t===Y?null:signsX[v],x=t===X?null:signsY[v],w=local$1(b),M=w.extent,S=w.selection,R=M[0][0],E=M[0][1],k=M[1][0],T=M[1][1],N=$&&x&&event.shiftKey,C=mouse(b),P=C,A=s(b,arguments).beforestart();"overlay"===v?w.selection=S=[[e=t===Y?R:C[0],a=t===X?E:C[1]],[u=t===Y?k:e,f=t===X?T:a]]:(e=S[0][0],a=S[0][1],u=S[1][0],f=S[1][1]),i=e,o=a,l=u,h=f;var L=select(b).attr("pointer-events","none"),D=L.selectAll(".overlay").attr("cursor",cursors[v]);if(event.touches)L.on("touchmove.brush",I,!0).on("touchend.brush touchcancel.brush",B,!0);else{var q=select(event.view).on("keydown.brush",function(){switch(event.keyCode){case 16:N=$&&x;break;case 18:_===MODE_HANDLE&&($&&(u=l-d*$,e=i+d*$),x&&(f=h-p*x,a=o+p*x),_=MODE_CENTER,O());break;case 32:_!==MODE_HANDLE&&_!==MODE_CENTER||($<0?u=l-d:$>0&&(e=i-d),x<0?f=h-p:x>0&&(a=o-p),_=MODE_SPACE,D.attr("cursor",cursors.selection),O());break;default:return}noevent$1()},!0).on("keyup.brush",function(){switch(event.keyCode){case 16:N&&(g=y=N=!1,O());break;case 18:_===MODE_CENTER&&($<0?u=l:$>0&&(e=i),x<0?f=h:x>0&&(a=o),_=MODE_HANDLE,O());break;case 32:_===MODE_SPACE&&(event.altKey?($&&(u=l-d*$,e=i+d*$),x&&(f=h-p*x,a=o+p*x),_=MODE_CENTER):($<0?u=l:$>0&&(e=i),x<0?f=h:x>0&&(a=o),_=MODE_HANDLE),D.attr("cursor",cursors[v]),O());break;default:return}noevent$1()},!0).on("mousemove.brush",I,!0).on("mouseup.brush",B,!0);dragDisable(event.view)}nopropagation$1(),interrupt(b),c.call(b),A.start()}function I(){var t=mouse(b);!N||g||y||(Math.abs(t[0]-P[0])>Math.abs(t[1]-P[1])?y=!0:g=!0),P=t,m=!0,noevent$1(),O()}function O(){var t;switch(d=P[0]-C[0],p=P[1]-C[1],_){case MODE_SPACE:case MODE_DRAG:$&&(d=Math.max(R-e,Math.min(k-u,d)),i=e+d,l=u+d),x&&(p=Math.max(E-a,Math.min(T-f,p)),o=a+p,h=f+p);break;case MODE_HANDLE:$<0?(d=Math.max(R-e,Math.min(k-e,d)),i=e+d,l=u):$>0&&(d=Math.max(R-u,Math.min(k-u,d)),i=e,l=u+d),x<0?(p=Math.max(E-a,Math.min(T-a,p)),o=a+p,h=f):x>0&&(p=Math.max(E-f,Math.min(T-f,p)),o=a,h=f+p);break;case MODE_CENTER:$&&(i=Math.max(R,Math.min(k,e-d*$)),l=Math.max(R,Math.min(k,u+d*$))),x&&(o=Math.max(E,Math.min(T,a-p*x)),h=Math.max(E,Math.min(T,f+p*x)))}l<i&&($*=-1,t=e,e=u,u=t,t=i,i=l,l=t,v in flipX&&D.attr("cursor",cursors[v=flipX[v]])),h<o&&(x*=-1,t=a,a=f,f=t,t=o,o=h,h=t,v in flipY&&D.attr("cursor",cursors[v=flipY[v]])),w.selection&&(S=w.selection),g&&(i=S[0][0],l=S[1][0]),y&&(o=S[0][1],h=S[1][1]),S[0][0]===i&&S[0][1]===o&&S[1][0]===l&&S[1][1]===h||(w.selection=[[i,o],[l,h]],c.call(b),A.brush())}function B(){if(nopropagation$1(),event.touches){if(event.touches.length)return;n&&clearTimeout(n),n=setTimeout(function(){n=null},500),L.on("touchmove.brush touchend.brush touchcancel.brush",null)}else yesdrag(event.view,m),q.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);L.attr("pointer-events","all"),D.attr("cursor",cursors.overlay),w.selection&&(S=w.selection),empty$1(S)&&(w.selection=null,c.call(b)),A.end()}}function f(){var n=this.__brush||{selection:null};return n.extent=e.apply(this,arguments),n.dim=t,n}return o.move=function(n,e){n.selection?n.on("start.brush",function(){s(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){s(this,arguments).end()}).tween("brush",function(){var n=this,r=n.__brush,i=s(n,arguments),a=r.selection,o=t.input("function"==typeof e?e.apply(this,arguments):e,r.extent),u=interpolateValue(a,o);function l(t){r.selection=1===t&&empty$1(o)?null:u(t),c.call(n),i.brush()}return a&&o?l:l(1)}):n.each(function(){var n=arguments,r=this.__brush,i=t.input("function"==typeof e?e.apply(this,n):e,r.extent),a=s(this,n).beforestart();interrupt(this),r.selection=null==i||empty$1(i)?null:i,c.call(this),a.start().brush().end()})},u.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(n){customEvent(new BrushEvent(o,n,t.output(this.state.selection)),i.apply,i,[n,this.that,this.args])}},o.extent=function(t){return arguments.length?(e="function"==typeof t?t:constant$4([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),o):e},o.filter=function(t){return arguments.length?(r="function"==typeof t?t:constant$4(!!t),o):r},o.handleSize=function(t){return arguments.length?(a=+t,o):a},o.on=function(){var t=i.on.apply(i,arguments);return t===i?o:t},o}var cos=Math.cos,sin=Math.sin,pi$1=Math.PI,halfPi$1=pi$1/2,tau$1=2*pi$1,max$1=Math.max;function compareValue(t){return function(n,e){return t(n.source.value+n.target.value,e.source.value+e.target.value)}}function chord(){var t=0,n=null,e=null,r=null;function i(i){var a,o,c,s,u,l,f=i.length,h=[],d=sequence(f),p=[],m=[],g=m.groups=new Array(f),y=new Array(f*f);for(a=0,u=-1;++u<f;){for(o=0,l=-1;++l<f;)o+=i[u][l];h.push(o),p.push(sequence(f)),a+=o}for(n&&d.sort(function(t,e){return n(h[t],h[e])}),e&&p.forEach(function(t,n){t.sort(function(t,r){return e(i[n][t],i[n][r])})}),s=(a=max$1(0,tau$1-t*f)/a)?t:tau$1/f,o=0,u=-1;++u<f;){for(c=o,l=-1;++l<f;){var b=d[u],v=p[b][l],_=i[b][v],$=o,x=o+=_*a;y[v*f+b]={index:b,subindex:v,startAngle:$,endAngle:x,value:_}}g[b]={index:b,startAngle:c,endAngle:o,value:h[b]},o+=s}for(u=-1;++u<f;)for(l=u-1;++l<f;){var w=y[l*f+u],M=y[u*f+l];(w.value||M.value)&&m.push(w.value<M.value?{source:M,target:w}:{source:w,target:M})}return r?m.sort(r):m}return i.padAngle=function(n){return arguments.length?(t=max$1(0,n),i):t},i.sortGroups=function(t){return arguments.length?(n=t,i):n},i.sortSubgroups=function(t){return arguments.length?(e=t,i):e},i.sortChords=function(t){return arguments.length?(null==t?r=null:(r=compareValue(t))._=t,i):r&&r._},i}var slice$2=Array.prototype.slice;function constant$5(t){return function(){return t}}var pi$2=Math.PI,tau$2=2*pi$2,epsilon$1=1e-6,tauEpsilon=tau$2-epsilon$1;function Path(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function path(){return new Path}function defaultSource(t){return t.source}function defaultTarget(t){return t.target}function defaultRadius(t){return t.radius}function defaultStartAngle(t){return t.startAngle}function defaultEndAngle(t){return t.endAngle}function ribbon(){var t=defaultSource,n=defaultTarget,e=defaultRadius,r=defaultStartAngle,i=defaultEndAngle,a=null;function o(){var o,c=slice$2.call(arguments),s=t.apply(this,c),u=n.apply(this,c),l=+e.apply(this,(c[0]=s,c)),f=r.apply(this,c)-halfPi$1,h=i.apply(this,c)-halfPi$1,d=l*cos(f),p=l*sin(f),m=+e.apply(this,(c[0]=u,c)),g=r.apply(this,c)-halfPi$1,y=i.apply(this,c)-halfPi$1;if(a||(a=o=path()),a.moveTo(d,p),a.arc(0,0,l,f,h),f===g&&h===y||(a.quadraticCurveTo(0,0,m*cos(g),m*sin(g)),a.arc(0,0,m,g,y)),a.quadraticCurveTo(0,0,d,p),a.closePath(),o)return a=null,o+""||null}return o.radius=function(t){return arguments.length?(e="function"==typeof t?t:constant$5(+t),o):e},o.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:constant$5(+t),o):r},o.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:constant$5(+t),o):i},o.source=function(n){return arguments.length?(t=n,o):t},o.target=function(t){return arguments.length?(n=t,o):n},o.context=function(t){return arguments.length?(a=null==t?null:t,o):a},o}Path.prototype=path.prototype={constructor:Path,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,a){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(t,n,e,r,i){t=+t,n=+n,e=+e,r=+r,i=+i;var a=this._x1,o=this._y1,c=e-t,s=r-n,u=a-t,l=o-n,f=u*u+l*l;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(f>epsilon$1)if(Math.abs(l*c-s*u)>epsilon$1&&i){var h=e-a,d=r-o,p=c*c+s*s,m=h*h+d*d,g=Math.sqrt(p),y=Math.sqrt(f),b=i*Math.tan((pi$2-Math.acos((p+f-m)/(2*g*y)))/2),v=b/y,_=b/g;Math.abs(v-1)>epsilon$1&&(this._+="L"+(t+v*u)+","+(n+v*l)),this._+="A"+i+","+i+",0,0,"+ +(l*h>u*d)+","+(this._x1=t+_*c)+","+(this._y1=n+_*s)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,e,r,i,a){t=+t,n=+n;var o=(e=+e)*Math.cos(r),c=e*Math.sin(r),s=t+o,u=n+c,l=1^a,f=a?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+s+","+u:(Math.abs(this._x1-s)>epsilon$1||Math.abs(this._y1-u)>epsilon$1)&&(this._+="L"+s+","+u),e&&(f<0&&(f=f%tau$2+tau$2),f>tauEpsilon?this._+="A"+e+","+e+",0,1,"+l+","+(t-o)+","+(n-c)+"A"+e+","+e+",0,1,"+l+","+(this._x1=s)+","+(this._y1=u):f>epsilon$1&&(this._+="A"+e+","+e+",0,"+ +(f>=pi$2)+","+l+","+(this._x1=t+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};var prefix="$";function Map(){}function map$1(t,n){var e=new Map;if(t instanceof Map)t.each(function(t,n){e.set(n,t)});else if(Array.isArray(t)){var r,i=-1,a=t.length;if(null==n)for(;++i<a;)e.set(i,t[i]);else for(;++i<a;)e.set(n(r=t[i],i,t),r)}else if(t)for(var o in t)e.set(o,t[o]);return e}function nest(){var t,n,e,r=[],i=[];function a(e,i,o,c){if(i>=r.length)return null!=t&&e.sort(t),null!=n?n(e):e;for(var s,u,l,f=-1,h=e.length,d=r[i++],p=map$1(),m=o();++f<h;)(l=p.get(s=d(u=e[f])+""))?l.push(u):p.set(s,[u]);return p.each(function(t,n){c(m,n,a(t,i,o,c))}),m}return e={object:function(t){return a(t,0,createObject,setObject)},map:function(t){return a(t,0,createMap,setMap)},entries:function(t){return function t(e,a){if(++a>r.length)return e;var o,c=i[a-1];return null!=n&&a>=r.length?o=e.entries():(o=[],e.each(function(n,e){o.push({key:e,values:t(n,a)})})),null!=c?o.sort(function(t,n){return c(t.key,n.key)}):o}(a(t,0,createMap,setMap),0)},key:function(t){return r.push(t),e},sortKeys:function(t){return i[r.length-1]=t,e},sortValues:function(n){return t=n,e},rollup:function(t){return n=t,e}}}function createObject(){return{}}function setObject(t,n,e){t[n]=e}function createMap(){return map$1()}function setMap(t,n,e){t.set(n,e)}function Set(){}Map.prototype=map$1.prototype={constructor:Map,has:function(t){return prefix+t in this},get:function(t){return this[prefix+t]},set:function(t,n){return this[prefix+t]=n,this},remove:function(t){var n=prefix+t;return n in this&&delete this[n]},clear:function(){for(var t in this)t[0]===prefix&&delete this[t]},keys:function(){var t=[];for(var n in this)n[0]===prefix&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)n[0]===prefix&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)n[0]===prefix&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)n[0]===prefix&&++t;return t},empty:function(){for(var t in this)if(t[0]===prefix)return!1;return!0},each:function(t){for(var n in this)n[0]===prefix&&t(this[n],n.slice(1),this)}};var proto=map$1.prototype;function set$2(t,n){var e=new Set;if(t instanceof Set)t.each(function(t){e.add(t)});else if(t){var r=-1,i=t.length;if(null==n)for(;++r<i;)e.add(t[r]);else for(;++r<i;)e.add(n(t[r],r,t))}return e}function keys(t){var n=[];for(var e in t)n.push(e);return n}function values(t){var n=[];for(var e in t)n.push(t[e]);return n}function entries(t){var n=[];for(var e in t)n.push({key:e,value:t[e]});return n}Set.prototype=set$2.prototype={constructor:Set,has:proto.has,add:function(t){return this[prefix+(t+="")]=t,this},remove:proto.remove,clear:proto.clear,values:proto.keys,size:proto.size,empty:proto.empty,each:proto.each};var array$2=Array.prototype,slice$3=array$2.slice;function ascending$2(t,n){return t-n}function area(t){for(var n=0,e=t.length,r=t[e-1][1]*t[0][0]-t[e-1][0]*t[0][1];++n<e;)r+=t[n-1][1]*t[n][0]-t[n-1][0]*t[n][1];return r}function constant$6(t){return function(){return t}}function contains(t,n){for(var e,r=-1,i=n.length;++r<i;)if(e=ringContains(t,n[r]))return e;return 0}function ringContains(t,n){for(var e=n[0],r=n[1],i=-1,a=0,o=t.length,c=o-1;a<o;c=a++){var s=t[a],u=s[0],l=s[1],f=t[c],h=f[0],d=f[1];if(segmentContains(s,f,n))return 0;l>r!=d>r&&e<(h-u)*(r-l)/(d-l)+u&&(i=-i)}return i}function segmentContains(t,n,e){var r;return collinear(t,n,e)&&within(t[r=+(t[0]===n[0])],e[r],n[r])}function collinear(t,n,e){return(n[0]-t[0])*(e[1]-t[1])==(e[0]-t[0])*(n[1]-t[1])}function within(t,n,e){return t<=n&&n<=e||e<=n&&n<=t}function noop$1(){}var cases=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function contours(){var t=1,n=1,e=thresholdSturges,r=c;function i(t){var n=e(t);if(Array.isArray(n))n=n.slice().sort(ascending$2);else{var r=extent(t),i=r[0],o=r[1];n=tickStep(i,o,n),n=sequence(Math.floor(i/n)*n,Math.floor(o/n)*n,n)}return n.map(function(n){return a(t,n)})}function a(e,i){var a=[],c=[];return function(e,r,i){var a,c,s,u,l,f,h=new Array,d=new Array;a=c=-1,u=e[0]>=r,cases[u<<1].forEach(p);for(;++a<t-1;)s=u,u=e[a+1]>=r,cases[s|u<<1].forEach(p);cases[u<<0].forEach(p);for(;++c<n-1;){for(a=-1,u=e[c*t+t]>=r,l=e[c*t]>=r,cases[u<<1|l<<2].forEach(p);++a<t-1;)s=u,u=e[c*t+t+a+1]>=r,f=l,l=e[c*t+a+1]>=r,cases[s|u<<1|l<<2|f<<3].forEach(p);cases[u|l<<3].forEach(p)}a=-1,l=e[c*t]>=r,cases[l<<2].forEach(p);for(;++a<t-1;)f=l,l=e[c*t+a+1]>=r,cases[l<<2|f<<3].forEach(p);function p(t){var n,e,r=[t[0][0]+a,t[0][1]+c],s=[t[1][0]+a,t[1][1]+c],u=o(r),l=o(s);(n=d[u])?(e=h[l])?(delete d[n.end],delete h[e.start],n===e?(n.ring.push(s),i(n.ring)):h[n.start]=d[e.end]={start:n.start,end:e.end,ring:n.ring.concat(e.ring)}):(delete d[n.end],n.ring.push(s),d[n.end=l]=n):(n=h[l])?(e=d[u])?(delete h[n.start],delete d[e.end],n===e?(n.ring.push(s),i(n.ring)):h[e.start]=d[n.end]={start:e.start,end:n.end,ring:e.ring.concat(n.ring)}):(delete h[n.start],n.ring.unshift(r),h[n.start=u]=n):h[u]=d[l]={start:u,end:l,ring:[r,s]}}cases[l<<3].forEach(p)}(e,i,function(t){r(t,e,i),area(t)>0?a.push([t]):c.push(t)}),c.forEach(function(t){for(var n,e=0,r=a.length;e<r;++e)if(-1!==contains((n=a[e])[0],t))return void n.push(t)}),{type:"MultiPolygon",value:i,coordinates:a}}function o(n){return 2*n[0]+n[1]*(t+1)*4}function c(e,r,i){e.forEach(function(e){var a,o=e[0],c=e[1],s=0|o,u=0|c,l=r[u*t+s];o>0&&o<t&&s===o&&(a=r[u*t+s-1],e[0]=o+(i-a)/(l-a)-.5),c>0&&c<n&&u===c&&(a=r[(u-1)*t+s],e[1]=c+(i-a)/(l-a)-.5)})}return i.contour=a,i.size=function(e){if(!arguments.length)return[t,n];var r=Math.ceil(e[0]),a=Math.ceil(e[1]);if(!(r>0&&a>0))throw new Error("invalid size");return t=r,n=a,i},i.thresholds=function(t){return arguments.length?(e="function"==typeof t?t:Array.isArray(t)?constant$6(slice$3.call(t)):constant$6(t),i):e},i.smooth=function(t){return arguments.length?(r=t?c:noop$1,i):r===c},i}function blurX(t,n,e){for(var r=t.width,i=t.height,a=1+(e<<1),o=0;o<i;++o)for(var c=0,s=0;c<r+e;++c)c<r&&(s+=t.data[c+o*r]),c>=e&&(c>=a&&(s-=t.data[c-a+o*r]),n.data[c-e+o*r]=s/Math.min(c+1,r-1+a-c,a))}function blurY(t,n,e){for(var r=t.width,i=t.height,a=1+(e<<1),o=0;o<r;++o)for(var c=0,s=0;c<i+e;++c)c<i&&(s+=t.data[o+c*r]),c>=e&&(c>=a&&(s-=t.data[o+(c-a)*r]),n.data[o+(c-e)*r]=s/Math.min(c+1,i-1+a-c,a))}function defaultX(t){return t[0]}function defaultY(t){return t[1]}function defaultWeight(){return 1}function density(){var t=defaultX,n=defaultY,e=defaultWeight,r=960,i=500,a=20,o=2,c=3*a,s=r+2*c>>o,u=i+2*c>>o,l=constant$6(20);function f(r){var i=new Float32Array(s*u),f=new Float32Array(s*u);r.forEach(function(r,a,l){var f=+t(r,a,l)+c>>o,h=+n(r,a,l)+c>>o,d=+e(r,a,l);f>=0&&f<s&&h>=0&&h<u&&(i[f+h*s]+=d)}),blurX({width:s,height:u,data:i},{width:s,height:u,data:f},a>>o),blurY({width:s,height:u,data:f},{width:s,height:u,data:i},a>>o),blurX({width:s,height:u,data:i},{width:s,height:u,data:f},a>>o),blurY({width:s,height:u,data:f},{width:s,height:u,data:i},a>>o),blurX({width:s,height:u,data:i},{width:s,height:u,data:f},a>>o),blurY({width:s,height:u,data:f},{width:s,height:u,data:i},a>>o);var d=l(i);if(!Array.isArray(d)){var p=max(i);d=tickStep(0,p,d),(d=sequence(0,Math.floor(p/d)*d,d)).shift()}return contours().thresholds(d).size([s,u])(i).map(h)}function h(t){return t.value*=Math.pow(2,-2*o),t.coordinates.forEach(d),t}function d(t){t.forEach(p)}function p(t){t.forEach(m)}function m(t){t[0]=t[0]*Math.pow(2,o)-c,t[1]=t[1]*Math.pow(2,o)-c}function g(){return s=r+2*(c=3*a)>>o,u=i+2*c>>o,f}return f.x=function(n){return arguments.length?(t="function"==typeof n?n:constant$6(+n),f):t},f.y=function(t){return arguments.length?(n="function"==typeof t?t:constant$6(+t),f):n},f.weight=function(t){return arguments.length?(e="function"==typeof t?t:constant$6(+t),f):e},f.size=function(t){if(!arguments.length)return[r,i];var n=Math.ceil(t[0]),e=Math.ceil(t[1]);if(!(n>=0||n>=0))throw new Error("invalid size");return r=n,i=e,g()},f.cellSize=function(t){if(!arguments.length)return 1<<o;if(!((t=+t)>=1))throw new Error("invalid cell size");return o=Math.floor(Math.log(t)/Math.LN2),g()},f.thresholds=function(t){return arguments.length?(l="function"==typeof t?t:Array.isArray(t)?constant$6(slice$3.call(t)):constant$6(t),f):l},f.bandwidth=function(t){if(!arguments.length)return Math.sqrt(a*(a+1));if(!((t=+t)>=0))throw new Error("invalid bandwidth");return a=Math.round((Math.sqrt(4*t*t+1)-1)/2),g()},f}var EOL={},EOF={},QUOTE=34,NEWLINE=10,RETURN=13;function objectConverter(t){return new Function("d","return {"+t.map(function(t,n){return JSON.stringify(t)+": d["+n+"]"}).join(",")+"}")}function customConverter(t,n){var e=objectConverter(t);return function(r,i){return n(e(r),i,t)}}function inferColumns(t){var n=Object.create(null),e=[];return t.forEach(function(t){for(var r in t)r in n||e.push(n[r]=r)}),e}function pad(t,n){var e=t+"",r=e.length;return r<n?new Array(n-r+1).join(0)+e:e}function formatYear(t){return t<0?"-"+pad(-t,6):t>9999?"+"+pad(t,6):pad(t,4)}function formatDate(t){var n=t.getUTCHours(),e=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":formatYear(t.getUTCFullYear(),4)+"-"+pad(t.getUTCMonth()+1,2)+"-"+pad(t.getUTCDate(),2)+(i?"T"+pad(n,2)+":"+pad(e,2)+":"+pad(r,2)+"."+pad(i,3)+"Z":r?"T"+pad(n,2)+":"+pad(e,2)+":"+pad(r,2)+"Z":e||n?"T"+pad(n,2)+":"+pad(e,2)+"Z":"")}function dsvFormat(t){var n=new RegExp('["'+t+"\n\r]"),e=t.charCodeAt(0);function r(t,n){var r,i=[],a=t.length,o=0,c=0,s=a<=0,u=!1;function l(){if(s)return EOF;if(u)return u=!1,EOL;var n,r,i=o;if(t.charCodeAt(i)===QUOTE){for(;o++<a&&t.charCodeAt(o)!==QUOTE||t.charCodeAt(++o)===QUOTE;);return(n=o)>=a?s=!0:(r=t.charCodeAt(o++))===NEWLINE?u=!0:r===RETURN&&(u=!0,t.charCodeAt(o)===NEWLINE&&++o),t.slice(i+1,n-1).replace(/""/g,'"')}for(;o<a;){if((r=t.charCodeAt(n=o++))===NEWLINE)u=!0;else if(r===RETURN)u=!0,t.charCodeAt(o)===NEWLINE&&++o;else if(r!==e)continue;return t.slice(i,n)}return s=!0,t.slice(i,a)}for(t.charCodeAt(a-1)===NEWLINE&&--a,t.charCodeAt(a-1)===RETURN&&--a;(r=l())!==EOF;){for(var f=[];r!==EOL&&r!==EOF;)f.push(r),r=l();n&&null==(f=n(f,c++))||i.push(f)}return i}function i(n,e){return n.map(function(n){return e.map(function(t){return o(n[t])}).join(t)})}function a(n){return n.map(o).join(t)}function o(t){return null==t?"":t instanceof Date?formatDate(t):n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,n){var e,i,a=r(t,function(t,r){if(e)return e(t,r-1);i=t,e=n?customConverter(t,n):objectConverter(t)});return a.columns=i||[],a},parseRows:r,format:function(n,e){return null==e&&(e=inferColumns(n)),[e.map(o).join(t)].concat(i(n,e)).join("\n")},formatBody:function(t,n){return null==n&&(n=inferColumns(t)),i(t,n).join("\n")},formatRows:function(t){return t.map(a).join("\n")}}}var csv=dsvFormat(","),csvParse=csv.parse,csvParseRows=csv.parseRows,csvFormat=csv.format,csvFormatBody=csv.formatBody,csvFormatRows=csv.formatRows,tsv=dsvFormat("\t"),tsvParse=tsv.parse,tsvParseRows=tsv.parseRows,tsvFormat=tsv.format,tsvFormatBody=tsv.formatBody,tsvFormatRows=tsv.formatRows;function autoType(t){for(var n in t){var e,r=t[n].trim();if(r)if("true"===r)r=!0;else if("false"===r)r=!1;else if("NaN"===r)r=NaN;else if(isNaN(e=+r)){if(!/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/.test(r))continue;r=new Date(r)}else r=e;else r=null;t[n]=r}return t}function responseBlob(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function blob(t,n){return fetch(t,n).then(responseBlob)}function responseArrayBuffer(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function buffer(t,n){return fetch(t,n).then(responseArrayBuffer)}function responseText(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function text(t,n){return fetch(t,n).then(responseText)}function dsvParse(t){return function(n,e,r){return 2===arguments.length&&"function"==typeof e&&(r=e,e=void 0),text(n,e).then(function(n){return t(n,r)})}}function dsv(t,n,e,r){3===arguments.length&&"function"==typeof e&&(r=e,e=void 0);var i=dsvFormat(t);return text(n,e).then(function(t){return i.parse(t,r)})}var csv$1=dsvParse(csvParse),tsv$1=dsvParse(tsvParse);function image(t,n){return new Promise(function(e,r){var i=new Image;for(var a in n)i[a]=n[a];i.onerror=r,i.onload=function(){e(i)},i.src=t})}function responseJson(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.json()}function json(t,n){return fetch(t,n).then(responseJson)}function parser(t){return function(n,e){return text(n,e).then(function(n){return(new DOMParser).parseFromString(n,t)})}}var xml=parser("application/xml"),html=parser("text/html"),svg=parser("image/svg+xml");function center$1(t,n){var e;function r(){var r,i,a=e.length,o=0,c=0;for(r=0;r<a;++r)o+=(i=e[r]).x,c+=i.y;for(o=o/a-t,c=c/a-n,r=0;r<a;++r)(i=e[r]).x-=o,i.y-=c}return null==t&&(t=0),null==n&&(n=0),r.initialize=function(t){e=t},r.x=function(n){return arguments.length?(t=+n,r):t},r.y=function(t){return arguments.length?(n=+t,r):n},r}function constant$7(t){return function(){return t}}function jiggle(){return 1e-6*(Math.random()-.5)}function tree_add(t){var n=+this._x.call(null,t),e=+this._y.call(null,t);return add(this.cover(n,e),n,e,t)}function add(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var i,a,o,c,s,u,l,f,h,d=t._root,p={data:r},m=t._x0,g=t._y0,y=t._x1,b=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((u=n>=(a=(m+y)/2))?m=a:y=a,(l=e>=(o=(g+b)/2))?g=o:b=o,i=d,!(d=d[f=l<<1|u]))return i[f]=p,t;if(c=+t._x.call(null,d.data),s=+t._y.call(null,d.data),n===c&&e===s)return p.next=d,i?i[f]=p:t._root=p,t;do{i=i?i[f]=new Array(4):t._root=new Array(4),(u=n>=(a=(m+y)/2))?m=a:y=a,(l=e>=(o=(g+b)/2))?g=o:b=o}while((f=l<<1|u)==(h=(s>=o)<<1|c>=a));return i[h]=d,i[f]=p,t}function addAll(t){var n,e,r,i,a=t.length,o=new Array(a),c=new Array(a),s=1/0,u=1/0,l=-1/0,f=-1/0;for(e=0;e<a;++e)isNaN(r=+this._x.call(null,n=t[e]))||isNaN(i=+this._y.call(null,n))||(o[e]=r,c[e]=i,r<s&&(s=r),r>l&&(l=r),i<u&&(u=i),i>f&&(f=i));if(s>l||u>f)return this;for(this.cover(s,u).cover(l,f),e=0;e<a;++e)add(this,o[e],c[e],t[e]);return this}function tree_cover(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(e))i=(e=Math.floor(t))+1,a=(r=Math.floor(n))+1;else{for(var o,c,s=i-e,u=this._root;e>t||t>=i||r>n||n>=a;)switch(c=(n<r)<<1|t<e,(o=new Array(4))[c]=u,u=o,s*=2,c){case 0:i=e+s,a=r+s;break;case 1:e=i-s,a=r+s;break;case 2:i=e+s,r=a-s;break;case 3:e=i-s,r=a-s}this._root&&this._root.length&&(this._root=u)}return this._x0=e,this._y0=r,this._x1=i,this._y1=a,this}function tree_data(){var t=[];return this.visit(function(n){if(!n.length)do{t.push(n.data)}while(n=n.next)}),t}function tree_extent(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Quad(t,n,e,r,i){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=i}function tree_find(t,n,e){var r,i,a,o,c,s,u,l=this._x0,f=this._y0,h=this._x1,d=this._y1,p=[],m=this._root;for(m&&p.push(new Quad(m,l,f,h,d)),null==e?e=1/0:(l=t-e,f=n-e,h=t+e,d=n+e,e*=e);s=p.pop();)if(!(!(m=s.node)||(i=s.x0)>h||(a=s.y0)>d||(o=s.x1)<l||(c=s.y1)<f))if(m.length){var g=(i+o)/2,y=(a+c)/2;p.push(new Quad(m[3],g,y,o,c),new Quad(m[2],i,y,g,c),new Quad(m[1],g,a,o,y),new Quad(m[0],i,a,g,y)),(u=(n>=y)<<1|t>=g)&&(s=p[p.length-1],p[p.length-1]=p[p.length-1-u],p[p.length-1-u]=s)}else{var b=t-+this._x.call(null,m.data),v=n-+this._y.call(null,m.data),_=b*b+v*v;if(_<e){var $=Math.sqrt(e=_);l=t-$,f=n-$,h=t+$,d=n+$,r=m.data}}return r}function tree_remove(t){if(isNaN(a=+this._x.call(null,t))||isNaN(o=+this._y.call(null,t)))return this;var n,e,r,i,a,o,c,s,u,l,f,h,d=this._root,p=this._x0,m=this._y0,g=this._x1,y=this._y1;if(!d)return this;if(d.length)for(;;){if((u=a>=(c=(p+g)/2))?p=c:g=c,(l=o>=(s=(m+y)/2))?m=s:y=s,n=d,!(d=d[f=l<<1|u]))return this;if(!d.length)break;(n[f+1&3]||n[f+2&3]||n[f+3&3])&&(e=n,h=f)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):n?(i?n[f]=i:delete n[f],(d=n[0]||n[1]||n[2]||n[3])&&d===(n[3]||n[2]||n[1]||n[0])&&!d.length&&(e?e[h]=d:this._root=d),this):(this._root=i,this)}function removeAll(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this}function tree_root(){return this._root}function tree_size(){var t=0;return this.visit(function(n){if(!n.length)do{++t}while(n=n.next)}),t}function tree_visit(t){var n,e,r,i,a,o,c=[],s=this._root;for(s&&c.push(new Quad(s,this._x0,this._y0,this._x1,this._y1));n=c.pop();)if(!t(s=n.node,r=n.x0,i=n.y0,a=n.x1,o=n.y1)&&s.length){var u=(r+a)/2,l=(i+o)/2;(e=s[3])&&c.push(new Quad(e,u,l,a,o)),(e=s[2])&&c.push(new Quad(e,r,l,u,o)),(e=s[1])&&c.push(new Quad(e,u,i,a,l)),(e=s[0])&&c.push(new Quad(e,r,i,u,l))}return this}function tree_visitAfter(t){var n,e=[],r=[];for(this._root&&e.push(new Quad(this._root,this._x0,this._y0,this._x1,this._y1));n=e.pop();){var i=n.node;if(i.length){var a,o=n.x0,c=n.y0,s=n.x1,u=n.y1,l=(o+s)/2,f=(c+u)/2;(a=i[0])&&e.push(new Quad(a,o,c,l,f)),(a=i[1])&&e.push(new Quad(a,l,c,s,f)),(a=i[2])&&e.push(new Quad(a,o,f,l,u)),(a=i[3])&&e.push(new Quad(a,l,f,s,u))}r.push(n)}for(;n=r.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this}function defaultX$1(t){return t[0]}function tree_x(t){return arguments.length?(this._x=t,this):this._x}function defaultY$1(t){return t[1]}function tree_y(t){return arguments.length?(this._y=t,this):this._y}function quadtree(t,n,e){var r=new Quadtree(null==n?defaultX$1:n,null==e?defaultY$1:e,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function Quadtree(t,n,e,r,i,a){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function leaf_copy(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}var treeProto=quadtree.prototype=Quadtree.prototype;function x(t){return t.x+t.vx}function y(t){return t.y+t.vy}function collide(t){var n,e,r=1,i=1;function a(){for(var t,a,c,s,u,l,f,h=n.length,d=0;d<i;++d)for(a=quadtree(n,x,y).visitAfter(o),t=0;t<h;++t)c=n[t],l=e[c.index],f=l*l,s=c.x+c.vx,u=c.y+c.vy,a.visit(p);function p(t,n,e,i,a){var o=t.data,h=t.r,d=l+h;if(!o)return n>s+d||i<s-d||e>u+d||a<u-d;if(o.index>c.index){var p=s-o.x-o.vx,m=u-o.y-o.vy,g=p*p+m*m;g<d*d&&(0===p&&(g+=(p=jiggle())*p),0===m&&(g+=(m=jiggle())*m),g=(d-(g=Math.sqrt(g)))/g*r,c.vx+=(p*=g)*(d=(h*=h)/(f+h)),c.vy+=(m*=g)*d,o.vx-=p*(d=1-d),o.vy-=m*d)}}}function o(t){if(t.data)return t.r=e[t.data.index];for(var n=t.r=0;n<4;++n)t[n]&&t[n].r>t.r&&(t.r=t[n].r)}function c(){if(n){var r,i,a=n.length;for(e=new Array(a),r=0;r<a;++r)i=n[r],e[i.index]=+t(i,r,n)}}return"function"!=typeof t&&(t=constant$7(null==t?1:+t)),a.initialize=function(t){n=t,c()},a.iterations=function(t){return arguments.length?(i=+t,a):i},a.strength=function(t){return arguments.length?(r=+t,a):r},a.radius=function(n){return arguments.length?(t="function"==typeof n?n:constant$7(+n),c(),a):t},a}function index(t){return t.index}function find(t,n){var e=t.get(n);if(!e)throw new Error("missing: "+n);return e}function link(t){var n,e,r,i,a,o=index,c=function(t){return 1/Math.min(i[t.source.index],i[t.target.index])},s=constant$7(30),u=1;function l(r){for(var i=0,o=t.length;i<u;++i)for(var c,s,l,f,h,d,p,m=0;m<o;++m)s=(c=t[m]).source,f=(l=c.target).x+l.vx-s.x-s.vx||jiggle(),h=l.y+l.vy-s.y-s.vy||jiggle(),f*=d=((d=Math.sqrt(f*f+h*h))-e[m])/d*r*n[m],h*=d,l.vx-=f*(p=a[m]),l.vy-=h*p,s.vx+=f*(p=1-p),s.vy+=h*p}function f(){if(r){var c,s,u=r.length,l=t.length,f=map$1(r,o);for(c=0,i=new Array(u);c<l;++c)(s=t[c]).index=c,"object"!=typeof s.source&&(s.source=find(f,s.source)),"object"!=typeof s.target&&(s.target=find(f,s.target)),i[s.source.index]=(i[s.source.index]||0)+1,i[s.target.index]=(i[s.target.index]||0)+1;for(c=0,a=new Array(l);c<l;++c)s=t[c],a[c]=i[s.source.index]/(i[s.source.index]+i[s.target.index]);n=new Array(l),h(),e=new Array(l),d()}}function h(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+c(t[e],e,t)}function d(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+s(t[n],n,t)}return null==t&&(t=[]),l.initialize=function(t){r=t,f()},l.links=function(n){return arguments.length?(t=n,f(),l):t},l.id=function(t){return arguments.length?(o=t,l):o},l.iterations=function(t){return arguments.length?(u=+t,l):u},l.strength=function(t){return arguments.length?(c="function"==typeof t?t:constant$7(+t),h(),l):c},l.distance=function(t){return arguments.length?(s="function"==typeof t?t:constant$7(+t),d(),l):s},l}function x$1(t){return t.x}function y$1(t){return t.y}treeProto.copy=function(){var t,n,e=new Quadtree(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return e;if(!r.length)return e._root=leaf_copy(r),e;for(t=[{source:r,target:e._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(n=r.source[i])&&(n.length?t.push({source:n,target:r.target[i]=new Array(4)}):r.target[i]=leaf_copy(n));return e},treeProto.add=tree_add,treeProto.addAll=addAll,treeProto.cover=tree_cover,treeProto.data=tree_data,treeProto.extent=tree_extent,treeProto.find=tree_find,treeProto.remove=tree_remove,treeProto.removeAll=removeAll,treeProto.root=tree_root,treeProto.size=tree_size,treeProto.visit=tree_visit,treeProto.visitAfter=tree_visitAfter,treeProto.x=tree_x,treeProto.y=tree_y;var initialRadius=10,initialAngle=Math.PI*(3-Math.sqrt(5));function simulation(t){var n,e=1,r=.001,i=1-Math.pow(r,1/300),a=0,o=.6,c=map$1(),s=timer(l),u=dispatch("tick","end");function l(){f(),u.call("tick",n),e<r&&(s.stop(),u.call("end",n))}function f(r){var s,u,l=t.length;void 0===r&&(r=1);for(var f=0;f<r;++f)for(e+=(a-e)*i,c.each(function(t){t(e)}),s=0;s<l;++s)null==(u=t[s]).fx?u.x+=u.vx*=o:(u.x=u.fx,u.vx=0),null==u.fy?u.y+=u.vy*=o:(u.y=u.fy,u.vy=0);return n}function h(){for(var n,e=0,r=t.length;e<r;++e){if((n=t[e]).index=e,null!=n.fx&&(n.x=n.fx),null!=n.fy&&(n.y=n.fy),isNaN(n.x)||isNaN(n.y)){var i=initialRadius*Math.sqrt(e),a=e*initialAngle;n.x=i*Math.cos(a),n.y=i*Math.sin(a)}(isNaN(n.vx)||isNaN(n.vy))&&(n.vx=n.vy=0)}}function d(n){return n.initialize&&n.initialize(t),n}return null==t&&(t=[]),h(),n={tick:f,restart:function(){return s.restart(l),n},stop:function(){return s.stop(),n},nodes:function(e){return arguments.length?(t=e,h(),c.each(d),n):t},alpha:function(t){return arguments.length?(e=+t,n):e},alphaMin:function(t){return arguments.length?(r=+t,n):r},alphaDecay:function(t){return arguments.length?(i=+t,n):+i},alphaTarget:function(t){return arguments.length?(a=+t,n):a},velocityDecay:function(t){return arguments.length?(o=1-t,n):1-o},force:function(t,e){return arguments.length>1?(null==e?c.remove(t):c.set(t,d(e)),n):c.get(t)},find:function(n,e,r){var i,a,o,c,s,u=0,l=t.length;for(null==r?r=1/0:r*=r,u=0;u<l;++u)(o=(i=n-(c=t[u]).x)*i+(a=e-c.y)*a)<r&&(s=c,r=o);return s},on:function(t,e){return arguments.length>1?(u.on(t,e),n):u.on(t)}}}function manyBody(){var t,n,e,r,i=constant$7(-30),a=1,o=1/0,c=.81;function s(r){var i,a=t.length,o=quadtree(t,x$1,y$1).visitAfter(l);for(e=r,i=0;i<a;++i)n=t[i],o.visit(f)}function u(){if(t){var n,e,a=t.length;for(r=new Array(a),n=0;n<a;++n)e=t[n],r[e.index]=+i(e,n,t)}}function l(t){var n,e,i,a,o,c=0,s=0;if(t.length){for(i=a=o=0;o<4;++o)(n=t[o])&&(e=Math.abs(n.value))&&(c+=n.value,s+=e,i+=e*n.x,a+=e*n.y);t.x=i/s,t.y=a/s}else{(n=t).x=n.data.x,n.y=n.data.y;do{c+=r[n.data.index]}while(n=n.next)}t.value=c}function f(t,i,s,u){if(!t.value)return!0;var l=t.x-n.x,f=t.y-n.y,h=u-i,d=l*l+f*f;if(h*h/c<d)return d<o&&(0===l&&(d+=(l=jiggle())*l),0===f&&(d+=(f=jiggle())*f),d<a&&(d=Math.sqrt(a*d)),n.vx+=l*t.value*e/d,n.vy+=f*t.value*e/d),!0;if(!(t.length||d>=o)){(t.data!==n||t.next)&&(0===l&&(d+=(l=jiggle())*l),0===f&&(d+=(f=jiggle())*f),d<a&&(d=Math.sqrt(a*d)));do{t.data!==n&&(h=r[t.data.index]*e/d,n.vx+=l*h,n.vy+=f*h)}while(t=t.next)}}return s.initialize=function(n){t=n,u()},s.strength=function(t){return arguments.length?(i="function"==typeof t?t:constant$7(+t),u(),s):i},s.distanceMin=function(t){return arguments.length?(a=t*t,s):Math.sqrt(a)},s.distanceMax=function(t){return arguments.length?(o=t*t,s):Math.sqrt(o)},s.theta=function(t){return arguments.length?(c=t*t,s):Math.sqrt(c)},s}function radial(t,n,e){var r,i,a,o=constant$7(.1);function c(t){for(var o=0,c=r.length;o<c;++o){var s=r[o],u=s.x-n||1e-6,l=s.y-e||1e-6,f=Math.sqrt(u*u+l*l),h=(a[o]-f)*i[o]*t/f;s.vx+=u*h,s.vy+=l*h}}function s(){if(r){var n,e=r.length;for(i=new Array(e),a=new Array(e),n=0;n<e;++n)a[n]=+t(r[n],n,r),i[n]=isNaN(a[n])?0:+o(r[n],n,r)}}return"function"!=typeof t&&(t=constant$7(+t)),null==n&&(n=0),null==e&&(e=0),c.initialize=function(t){r=t,s()},c.strength=function(t){return arguments.length?(o="function"==typeof t?t:constant$7(+t),s(),c):o},c.radius=function(n){return arguments.length?(t="function"==typeof n?n:constant$7(+n),s(),c):t},c.x=function(t){return arguments.length?(n=+t,c):n},c.y=function(t){return arguments.length?(e=+t,c):e},c}function x$2(t){var n,e,r,i=constant$7(.1);function a(t){for(var i,a=0,o=n.length;a<o;++a)(i=n[a]).vx+=(r[a]-i.x)*e[a]*t}function o(){if(n){var a,o=n.length;for(e=new Array(o),r=new Array(o),a=0;a<o;++a)e[a]=isNaN(r[a]=+t(n[a],a,n))?0:+i(n[a],a,n)}}return"function"!=typeof t&&(t=constant$7(null==t?0:+t)),a.initialize=function(t){n=t,o()},a.strength=function(t){return arguments.length?(i="function"==typeof t?t:constant$7(+t),o(),a):i},a.x=function(n){return arguments.length?(t="function"==typeof n?n:constant$7(+n),o(),a):t},a}function y$2(t){var n,e,r,i=constant$7(.1);function a(t){for(var i,a=0,o=n.length;a<o;++a)(i=n[a]).vy+=(r[a]-i.y)*e[a]*t}function o(){if(n){var a,o=n.length;for(e=new Array(o),r=new Array(o),a=0;a<o;++a)e[a]=isNaN(r[a]=+t(n[a],a,n))?0:+i(n[a],a,n)}}return"function"!=typeof t&&(t=constant$7(null==t?0:+t)),a.initialize=function(t){n=t,o()},a.strength=function(t){return arguments.length?(i="function"==typeof t?t:constant$7(+t),o(),a):i},a.y=function(n){return arguments.length?(t="function"==typeof n?n:constant$7(+n),o(),a):t},a}function formatDecimal(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function exponent$1(t){return(t=formatDecimal(Math.abs(t)))?t[1]:NaN}function formatGroup(t,n){return function(e,r){for(var i=e.length,a=[],o=0,c=t[0],s=0;i>0&&c>0&&(s+c+1>r&&(c=Math.max(1,r-s)),a.push(e.substring(i-=c,i+c)),!((s+=c+1)>r));)c=t[o=(o+1)%t.length];return a.reverse().join(n)}}function formatNumerals(t){return function(n){return n.replace(/[0-9]/g,function(n){return t[+n]})}}var prefixExponent,re=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(t){return new FormatSpecifier(t)}function FormatSpecifier(t){if(!(n=re.exec(t)))throw new Error("invalid format: "+t);var n;this.fill=n[1]||" ",this.align=n[2]||">",this.sign=n[3]||"-",this.symbol=n[4]||"",this.zero=!!n[5],this.width=n[6]&&+n[6],this.comma=!!n[7],this.precision=n[8]&&+n[8].slice(1),this.trim=!!n[9],this.type=n[10]||""}function formatTrim(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(i>0){if(!+t[r])break t;i=0}}return i>0?t.slice(0,i)+t.slice(n+1):t}function formatPrefixAuto(t,n){var e=formatDecimal(t,n);if(!e)return t+"";var r=e[0],i=e[1],a=i-(prefixExponent=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+formatDecimal(t,Math.max(0,n+a-1))[0]}function formatRounded(t,n){var e=formatDecimal(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}formatSpecifier.prototype=FormatSpecifier.prototype,FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var formatTypes={"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return formatRounded(100*t,n)},r:formatRounded,s:formatPrefixAuto,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function identity$3(t){return t}var locale,format,formatPrefix,prefixes=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function formatLocale(t){var n=t.grouping&&t.thousands?formatGroup(t.grouping,t.thousands):identity$3,e=t.currency,r=t.decimal,i=t.numerals?formatNumerals(t.numerals):identity$3,a=t.percent||"%";function o(t){var o=(t=formatSpecifier(t)).fill,c=t.align,s=t.sign,u=t.symbol,l=t.zero,f=t.width,h=t.comma,d=t.precision,p=t.trim,m=t.type;"n"===m?(h=!0,m="g"):formatTypes[m]||(null==d&&(d=12),p=!0,m="g"),(l||"0"===o&&"="===c)&&(l=!0,o="0",c="=");var g="$"===u?e[0]:"#"===u&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",y="$"===u?e[1]:/[%p]/.test(m)?a:"",b=formatTypes[m],v=/[defgprs%]/.test(m);function _(t){var e,a,u,_=g,$=y;if("c"===m)$=b(t)+$,t="";else{var x=(t=+t)<0;if(t=b(Math.abs(t),d),p&&(t=formatTrim(t)),x&&0==+t&&(x=!1),_=(x?"("===s?s:"-":"-"===s||"("===s?"":s)+_,$=("s"===m?prefixes[8+prefixExponent/3]:"")+$+(x&&"("===s?")":""),v)for(e=-1,a=t.length;++e<a;)if(48>(u=t.charCodeAt(e))||u>57){$=(46===u?r+t.slice(e+1):t.slice(e))+$,t=t.slice(0,e);break}}h&&!l&&(t=n(t,1/0));var w=_.length+t.length+$.length,M=w<f?new Array(f-w+1).join(o):"";switch(h&&l&&(t=n(M+t,M.length?f-$.length:1/0),M=""),c){case"<":t=_+t+$+M;break;case"=":t=_+M+t+$;break;case"^":t=M.slice(0,w=M.length>>1)+_+t+$+M.slice(w);break;default:t=M+_+t+$}return i(t)}return d=null==d?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,d)):Math.max(0,Math.min(20,d)),_.toString=function(){return t+""},_}return{format:o,formatPrefix:function(t,n){var e=o(((t=formatSpecifier(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(exponent$1(n)/3))),i=Math.pow(10,-r),a=prefixes[8+r/3];return function(t){return e(i*t)+a}}}}function defaultLocale(t){return locale=formatLocale(t),format=locale.format,formatPrefix=locale.formatPrefix,locale}function precisionFixed(t){return Math.max(0,-exponent$1(Math.abs(t)))}function precisionPrefix(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(exponent$1(n)/3)))-exponent$1(Math.abs(t)))}function precisionRound(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,exponent$1(n)-exponent$1(t))+1}function adder(){return new Adder}function Adder(){this.reset()}defaultLocale({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),Adder.prototype={constructor:Adder,reset:function(){this.s=this.t=0},add:function(t){add$1(temp,t,this.t),add$1(this,temp.s,this.s),this.s?this.t+=temp.t:this.s=temp.t},valueOf:function(){return this.s}};var temp=new Adder;function add$1(t,n,e){var r=t.s=n+e,i=r-n,a=r-i;t.t=n-a+(e-i)}var epsilon$2=1e-6,epsilon2$1=1e-12,pi$3=Math.PI,halfPi$2=pi$3/2,quarterPi=pi$3/4,tau$3=2*pi$3,degrees$1=180/pi$3,radians=pi$3/180,abs=Math.abs,atan=Math.atan,atan2=Math.atan2,cos$1=Math.cos,ceil=Math.ceil,exp=Math.exp,log=Math.log,pow=Math.pow,sin$1=Math.sin,sign=Math.sign||function(t){return t>0?1:t<0?-1:0},sqrt=Math.sqrt,tan=Math.tan;function acos(t){return t>1?0:t<-1?pi$3:Math.acos(t)}function asin(t){return t>1?halfPi$2:t<-1?-halfPi$2:Math.asin(t)}function haversin(t){return(t=sin$1(t/2))*t}function noop$2(){}function streamGeometry(t,n){t&&streamGeometryType.hasOwnProperty(t.type)&&streamGeometryType[t.type](t,n)}var streamObjectType={Feature:function(t,n){streamGeometry(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)streamGeometry(e[r].geometry,n)}},streamGeometryType={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){streamLine(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)streamLine(e[r],n,0)},Polygon:function(t,n){streamPolygon(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)streamPolygon(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)streamGeometry(e[r],n)}};function streamLine(t,n,e){var r,i=-1,a=t.length-e;for(n.lineStart();++i<a;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function streamPolygon(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)streamLine(t[e],n,1);n.polygonEnd()}function geoStream(t,n){t&&streamObjectType.hasOwnProperty(t.type)?streamObjectType[t.type](t,n):streamGeometry(t,n)}var lambda00,phi00,lambda0,cosPhi0,sinPhi0,areaRingSum=adder(),areaSum=adder(),areaStream={point:noop$2,lineStart:noop$2,lineEnd:noop$2,polygonStart:function(){areaRingSum.reset(),areaStream.lineStart=areaRingStart,areaStream.lineEnd=areaRingEnd},polygonEnd:function(){var t=+areaRingSum;areaSum.add(t<0?tau$3+t:t),this.lineStart=this.lineEnd=this.point=noop$2},sphere:function(){areaSum.add(tau$3)}};function areaRingStart(){areaStream.point=areaPointFirst}function areaRingEnd(){areaPoint(lambda00,phi00)}function areaPointFirst(t,n){areaStream.point=areaPoint,lambda00=t,phi00=n,lambda0=t*=radians,cosPhi0=cos$1(n=(n*=radians)/2+quarterPi),sinPhi0=sin$1(n)}function areaPoint(t,n){var e=(t*=radians)-lambda0,r=e>=0?1:-1,i=r*e,a=cos$1(n=(n*=radians)/2+quarterPi),o=sin$1(n),c=sinPhi0*o,s=cosPhi0*a+c*cos$1(i),u=c*r*sin$1(i);areaRingSum.add(atan2(u,s)),lambda0=t,cosPhi0=a,sinPhi0=o}function area$1(t){return areaSum.reset(),geoStream(t,areaStream),2*areaSum}function spherical(t){return[atan2(t[1],t[0]),asin(t[2])]}function cartesian(t){var n=t[0],e=t[1],r=cos$1(e);return[r*cos$1(n),r*sin$1(n),sin$1(e)]}function cartesianDot(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function cartesianCross(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function cartesianAddInPlace(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function cartesianScale(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function cartesianNormalizeInPlace(t){var n=sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}var lambda0$1,phi0,lambda1,phi1,lambda2,lambda00$1,phi00$1,p0,ranges,range,W0,W1,X0,Y0,Z0,X1,Y1,Z1,X2,Y2,Z2,lambda00$2,phi00$2,x0,y0,z0,deltaSum=adder(),boundsStream={point:boundsPoint,lineStart:boundsLineStart,lineEnd:boundsLineEnd,polygonStart:function(){boundsStream.point=boundsRingPoint,boundsStream.lineStart=boundsRingStart,boundsStream.lineEnd=boundsRingEnd,deltaSum.reset(),areaStream.polygonStart()},polygonEnd:function(){areaStream.polygonEnd(),boundsStream.point=boundsPoint,boundsStream.lineStart=boundsLineStart,boundsStream.lineEnd=boundsLineEnd,areaRingSum<0?(lambda0$1=-(lambda1=180),phi0=-(phi1=90)):deltaSum>epsilon$2?phi1=90:deltaSum<-epsilon$2&&(phi0=-90),range[0]=lambda0$1,range[1]=lambda1}};function boundsPoint(t,n){ranges.push(range=[lambda0$1=t,lambda1=t]),n<phi0&&(phi0=n),n>phi1&&(phi1=n)}function linePoint(t,n){var e=cartesian([t*radians,n*radians]);if(p0){var r=cartesianCross(p0,e),i=cartesianCross([r[1],-r[0],0],r);cartesianNormalizeInPlace(i),i=spherical(i);var a,o=t-lambda2,c=o>0?1:-1,s=i[0]*degrees$1*c,u=abs(o)>180;u^(c*lambda2<s&&s<c*t)?(a=i[1]*degrees$1)>phi1&&(phi1=a):u^(c*lambda2<(s=(s+360)%360-180)&&s<c*t)?(a=-i[1]*degrees$1)<phi0&&(phi0=a):(n<phi0&&(phi0=n),n>phi1&&(phi1=n)),u?t<lambda2?angle(lambda0$1,t)>angle(lambda0$1,lambda1)&&(lambda1=t):angle(t,lambda1)>angle(lambda0$1,lambda1)&&(lambda0$1=t):lambda1>=lambda0$1?(t<lambda0$1&&(lambda0$1=t),t>lambda1&&(lambda1=t)):t>lambda2?angle(lambda0$1,t)>angle(lambda0$1,lambda1)&&(lambda1=t):angle(t,lambda1)>angle(lambda0$1,lambda1)&&(lambda0$1=t)}else ranges.push(range=[lambda0$1=t,lambda1=t]);n<phi0&&(phi0=n),n>phi1&&(phi1=n),p0=e,lambda2=t}function boundsLineStart(){boundsStream.point=linePoint}function boundsLineEnd(){range[0]=lambda0$1,range[1]=lambda1,boundsStream.point=boundsPoint,p0=null}function boundsRingPoint(t,n){if(p0){var e=t-lambda2;deltaSum.add(abs(e)>180?e+(e>0?360:-360):e)}else lambda00$1=t,phi00$1=n;areaStream.point(t,n),linePoint(t,n)}function boundsRingStart(){areaStream.lineStart()}function boundsRingEnd(){boundsRingPoint(lambda00$1,phi00$1),areaStream.lineEnd(),abs(deltaSum)>epsilon$2&&(lambda0$1=-(lambda1=180)),range[0]=lambda0$1,range[1]=lambda1,p0=null}function angle(t,n){return(n-=t)<0?n+360:n}function rangeCompare(t,n){return t[0]-n[0]}function rangeContains(t,n){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}function bounds(t){var n,e,r,i,a,o,c;if(phi1=lambda1=-(lambda0$1=phi0=1/0),ranges=[],geoStream(t,boundsStream),e=ranges.length){for(ranges.sort(rangeCompare),n=1,a=[r=ranges[0]];n<e;++n)rangeContains(r,(i=ranges[n])[0])||rangeContains(r,i[1])?(angle(r[0],i[1])>angle(r[0],r[1])&&(r[1]=i[1]),angle(i[0],r[1])>angle(r[0],r[1])&&(r[0]=i[0])):a.push(r=i);for(o=-1/0,n=0,r=a[e=a.length-1];n<=e;r=i,++n)i=a[n],(c=angle(r[1],i[0]))>o&&(o=c,lambda0$1=i[0],lambda1=r[1])}return ranges=range=null,lambda0$1===1/0||phi0===1/0?[[NaN,NaN],[NaN,NaN]]:[[lambda0$1,phi0],[lambda1,phi1]]}var centroidStream={sphere:noop$2,point:centroidPoint,lineStart:centroidLineStart,lineEnd:centroidLineEnd,polygonStart:function(){centroidStream.lineStart=centroidRingStart,centroidStream.lineEnd=centroidRingEnd},polygonEnd:function(){centroidStream.lineStart=centroidLineStart,centroidStream.lineEnd=centroidLineEnd}};function centroidPoint(t,n){t*=radians;var e=cos$1(n*=radians);centroidPointCartesian(e*cos$1(t),e*sin$1(t),sin$1(n))}function centroidPointCartesian(t,n,e){X0+=(t-X0)/++W0,Y0+=(n-Y0)/W0,Z0+=(e-Z0)/W0}function centroidLineStart(){centroidStream.point=centroidLinePointFirst}function centroidLinePointFirst(t,n){t*=radians;var e=cos$1(n*=radians);x0=e*cos$1(t),y0=e*sin$1(t),z0=sin$1(n),centroidStream.point=centroidLinePoint,centroidPointCartesian(x0,y0,z0)}function centroidLinePoint(t,n){t*=radians;var e=cos$1(n*=radians),r=e*cos$1(t),i=e*sin$1(t),a=sin$1(n),o=atan2(sqrt((o=y0*a-z0*i)*o+(o=z0*r-x0*a)*o+(o=x0*i-y0*r)*o),x0*r+y0*i+z0*a);W1+=o,X1+=o*(x0+(x0=r)),Y1+=o*(y0+(y0=i)),Z1+=o*(z0+(z0=a)),centroidPointCartesian(x0,y0,z0)}function centroidLineEnd(){centroidStream.point=centroidPoint}function centroidRingStart(){centroidStream.point=centroidRingPointFirst}function centroidRingEnd(){centroidRingPoint(lambda00$2,phi00$2),centroidStream.point=centroidPoint}function centroidRingPointFirst(t,n){lambda00$2=t,phi00$2=n,t*=radians,n*=radians,centroidStream.point=centroidRingPoint;var e=cos$1(n);x0=e*cos$1(t),y0=e*sin$1(t),z0=sin$1(n),centroidPointCartesian(x0,y0,z0)}function centroidRingPoint(t,n){t*=radians;var e=cos$1(n*=radians),r=e*cos$1(t),i=e*sin$1(t),a=sin$1(n),o=y0*a-z0*i,c=z0*r-x0*a,s=x0*i-y0*r,u=sqrt(o*o+c*c+s*s),l=asin(u),f=u&&-l/u;X2+=f*o,Y2+=f*c,Z2+=f*s,W1+=l,X1+=l*(x0+(x0=r)),Y1+=l*(y0+(y0=i)),Z1+=l*(z0+(z0=a)),centroidPointCartesian(x0,y0,z0)}function centroid(t){W0=W1=X0=Y0=Z0=X1=Y1=Z1=X2=Y2=Z2=0,geoStream(t,centroidStream);var n=X2,e=Y2,r=Z2,i=n*n+e*e+r*r;return i<epsilon2$1&&(n=X1,e=Y1,r=Z1,W1<epsilon$2&&(n=X0,e=Y0,r=Z0),(i=n*n+e*e+r*r)<epsilon2$1)?[NaN,NaN]:[atan2(e,n)*degrees$1,asin(r/sqrt(i))*degrees$1]}function constant$8(t){return function(){return t}}function compose(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return(e=n.invert(e,r))&&t.invert(e[0],e[1])}),e}function rotationIdentity(t,n){return[abs(t)>pi$3?t+Math.round(-t/tau$3)*tau$3:t,n]}function rotateRadians(t,n,e){return(t%=tau$3)?n||e?compose(rotationLambda(t),rotationPhiGamma(n,e)):rotationLambda(t):n||e?rotationPhiGamma(n,e):rotationIdentity}function forwardRotationLambda(t){return function(n,e){return[(n+=t)>pi$3?n-tau$3:n<-pi$3?n+tau$3:n,e]}}function rotationLambda(t){var n=forwardRotationLambda(t);return n.invert=forwardRotationLambda(-t),n}function rotationPhiGamma(t,n){var e=cos$1(t),r=sin$1(t),i=cos$1(n),a=sin$1(n);function o(t,n){var o=cos$1(n),c=cos$1(t)*o,s=sin$1(t)*o,u=sin$1(n),l=u*e+c*r;return[atan2(s*i-l*a,c*e-u*r),asin(l*i+s*a)]}return o.invert=function(t,n){var o=cos$1(n),c=cos$1(t)*o,s=sin$1(t)*o,u=sin$1(n),l=u*i-s*a;return[atan2(s*i+u*a,c*e+l*r),asin(l*e-c*r)]},o}function rotation(t){function n(n){return(n=t(n[0]*radians,n[1]*radians))[0]*=degrees$1,n[1]*=degrees$1,n}return t=rotateRadians(t[0]*radians,t[1]*radians,t.length>2?t[2]*radians:0),n.invert=function(n){return(n=t.invert(n[0]*radians,n[1]*radians))[0]*=degrees$1,n[1]*=degrees$1,n},n}function circleStream(t,n,e,r,i,a){if(e){var o=cos$1(n),c=sin$1(n),s=r*e;null==i?(i=n+r*tau$3,a=n-s/2):(i=circleRadius(o,i),a=circleRadius(o,a),(r>0?i<a:i>a)&&(i+=r*tau$3));for(var u,l=i;r>0?l>a:l<a;l-=s)u=spherical([o,-c*cos$1(l),-c*sin$1(l)]),t.point(u[0],u[1])}}function circleRadius(t,n){(n=cartesian(n))[0]-=t,cartesianNormalizeInPlace(n);var e=acos(-n[1]);return((-n[2]<0?-e:e)+tau$3-epsilon$2)%tau$3}function circle(){var t,n,e=constant$8([0,0]),r=constant$8(90),i=constant$8(6),a={point:function(e,r){t.push(e=n(e,r)),e[0]*=degrees$1,e[1]*=degrees$1}};function o(){var o=e.apply(this,arguments),c=r.apply(this,arguments)*radians,s=i.apply(this,arguments)*radians;return t=[],n=rotateRadians(-o[0]*radians,-o[1]*radians,0).invert,circleStream(a,c,s,1),o={type:"Polygon",coordinates:[t]},t=n=null,o}return o.center=function(t){return arguments.length?(e="function"==typeof t?t:constant$8([+t[0],+t[1]]),o):e},o.radius=function(t){return arguments.length?(r="function"==typeof t?t:constant$8(+t),o):r},o.precision=function(t){return arguments.length?(i="function"==typeof t?t:constant$8(+t),o):i},o}function clipBuffer(){var t,n=[];return{point:function(n,e){t.push([n,e])},lineStart:function(){n.push(t=[])},lineEnd:noop$2,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}}function pointEqual(t,n){return abs(t[0]-n[0])<epsilon$2&&abs(t[1]-n[1])<epsilon$2}function Intersection(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function clipRejoin(t,n,e,r,i){var a,o,c=[],s=[];if(t.forEach(function(t){if(!((n=t.length-1)<=0)){var n,e,r=t[0],o=t[n];if(pointEqual(r,o)){for(i.lineStart(),a=0;a<n;++a)i.point((r=t[a])[0],r[1]);i.lineEnd()}else c.push(e=new Intersection(r,t,null,!0)),s.push(e.o=new Intersection(r,null,e,!1)),c.push(e=new Intersection(o,t,null,!1)),s.push(e.o=new Intersection(o,null,e,!0))}}),c.length){for(s.sort(n),link$1(c),link$1(s),a=0,o=s.length;a<o;++a)s[a].e=e=!e;for(var u,l,f=c[0];;){for(var h=f,d=!0;h.v;)if((h=h.n)===f)return;u=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(a=0,o=u.length;a<o;++a)i.point((l=u[a])[0],l[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(u=h.p.z,a=u.length-1;a>=0;--a)i.point((l=u[a])[0],l[1]);else r(h.x,h.p.x,-1,i);h=h.p}u=(h=h.o).z,d=!d}while(!h.v);i.lineEnd()}}}function link$1(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}rotationIdentity.invert=rotationIdentity;var sum$1=adder();function polygonContains(t,n){var e=n[0],r=n[1],i=sin$1(r),a=[sin$1(e),-cos$1(e),0],o=0,c=0;sum$1.reset(),1===i?r=halfPi$2+epsilon$2:-1===i&&(r=-halfPi$2-epsilon$2);for(var s=0,u=t.length;s<u;++s)if(f=(l=t[s]).length)for(var l,f,h=l[f-1],d=h[0],p=h[1]/2+quarterPi,m=sin$1(p),g=cos$1(p),y=0;y<f;++y,d=v,m=$,g=x,h=b){var b=l[y],v=b[0],_=b[1]/2+quarterPi,$=sin$1(_),x=cos$1(_),w=v-d,M=w>=0?1:-1,S=M*w,R=S>pi$3,E=m*$;if(sum$1.add(atan2(E*M*sin$1(S),g*x+E*cos$1(S))),o+=R?w+M*tau$3:w,R^d>=e^v>=e){var k=cartesianCross(cartesian(h),cartesian(b));cartesianNormalizeInPlace(k);var T=cartesianCross(a,k);cartesianNormalizeInPlace(T);var N=(R^w>=0?-1:1)*asin(T[2]);(r>N||r===N&&(k[0]||k[1]))&&(c+=R^w>=0?1:-1)}}return(o<-epsilon$2||o<epsilon$2&&sum$1<-epsilon$2)^1&c}function clip(t,n,e,r){return function(i){var a,o,c,s=n(i),u=clipBuffer(),l=n(u),f=!1,h={point:d,lineStart:m,lineEnd:g,polygonStart:function(){h.point=y,h.lineStart=b,h.lineEnd=v,o=[],a=[]},polygonEnd:function(){h.point=d,h.lineStart=m,h.lineEnd=g,o=merge(o);var t=polygonContains(a,r);o.length?(f||(i.polygonStart(),f=!0),clipRejoin(o,compareIntersection,t,e,i)):t&&(f||(i.polygonStart(),f=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),o=a=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(n,e){t(n,e)&&i.point(n,e)}function p(t,n){s.point(t,n)}function m(){h.point=p,s.lineStart()}function g(){h.point=d,s.lineEnd()}function y(t,n){c.push([t,n]),l.point(t,n)}function b(){l.lineStart(),c=[]}function v(){y(c[0][0],c[0][1]),l.lineEnd();var t,n,e,r,s=l.clean(),h=u.result(),d=h.length;if(c.pop(),a.push(c),c=null,d)if(1&s){if((n=(e=h[0]).length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),t=0;t<n;++t)i.point((r=e[t])[0],r[1]);i.lineEnd()}}else d>1&&2&s&&h.push(h.pop().concat(h.shift())),o.push(h.filter(validSegment))}return h}}function validSegment(t){return t.length>1}function compareIntersection(t,n){return((t=t.x)[0]<0?t[1]-halfPi$2-epsilon$2:halfPi$2-t[1])-((n=n.x)[0]<0?n[1]-halfPi$2-epsilon$2:halfPi$2-n[1])}var clipAntimeridian=clip(function(){return!0},clipAntimeridianLine,clipAntimeridianInterpolate,[-pi$3,-halfPi$2]);function clipAntimeridianLine(t){var n,e=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(a,o){var c=a>0?pi$3:-pi$3,s=abs(a-e);abs(s-pi$3)<epsilon$2?(t.point(e,r=(r+o)/2>0?halfPi$2:-halfPi$2),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(c,r),t.point(a,r),n=0):i!==c&&s>=pi$3&&(abs(e-i)<epsilon$2&&(e-=i*epsilon$2),abs(a-c)<epsilon$2&&(a-=c*epsilon$2),r=clipAntimeridianIntersect(e,r,a,o),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(c,r),n=0),t.point(e=a,r=o),i=c},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}}function clipAntimeridianIntersect(t,n,e,r){var i,a,o=sin$1(t-e);return abs(o)>epsilon$2?atan((sin$1(n)*(a=cos$1(r))*sin$1(e)-sin$1(r)*(i=cos$1(n))*sin$1(t))/(i*a*o)):(n+r)/2}function clipAntimeridianInterpolate(t,n,e,r){var i;if(null==t)i=e*halfPi$2,r.point(-pi$3,i),r.point(0,i),r.point(pi$3,i),r.point(pi$3,0),r.point(pi$3,-i),r.point(0,-i),r.point(-pi$3,-i),r.point(-pi$3,0),r.point(-pi$3,i);else if(abs(t[0]-n[0])>epsilon$2){var a=t[0]<n[0]?pi$3:-pi$3;i=e*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(n[0],n[1])}function clipCircle(t){var n=cos$1(t),e=6*radians,r=n>0,i=abs(n)>epsilon$2;function a(t,e){return cos$1(t)*cos$1(e)>n}function o(t,e,r){var i=[1,0,0],a=cartesianCross(cartesian(t),cartesian(e)),o=cartesianDot(a,a),c=a[0],s=o-c*c;if(!s)return!r&&t;var u=n*o/s,l=-n*c/s,f=cartesianCross(i,a),h=cartesianScale(i,u);cartesianAddInPlace(h,cartesianScale(a,l));var d=f,p=cartesianDot(h,d),m=cartesianDot(d,d),g=p*p-m*(cartesianDot(h,h)-1);if(!(g<0)){var y=sqrt(g),b=cartesianScale(d,(-p-y)/m);if(cartesianAddInPlace(b,h),b=spherical(b),!r)return b;var v,_=t[0],$=e[0],x=t[1],w=e[1];$<_&&(v=_,_=$,$=v);var M=$-_,S=abs(M-pi$3)<epsilon$2;if(!S&&w<x&&(v=x,x=w,w=v),S||M<epsilon$2?S?x+w>0^b[1]<(abs(b[0]-_)<epsilon$2?x:w):x<=b[1]&&b[1]<=w:M>pi$3^(_<=b[0]&&b[0]<=$)){var R=cartesianScale(d,(-p+y)/m);return cartesianAddInPlace(R,h),[b,spherical(R)]}}}function c(n,e){var i=r?t:pi$3-t,a=0;return n<-i?a|=1:n>i&&(a|=2),e<-i?a|=4:e>i&&(a|=8),a}return clip(a,function(t){var n,e,s,u,l;return{lineStart:function(){u=s=!1,l=1},point:function(f,h){var d,p=[f,h],m=a(f,h),g=r?m?0:c(f,h):m?c(f+(f<0?pi$3:-pi$3),h):0;if(!n&&(u=s=m)&&t.lineStart(),m!==s&&(!(d=o(n,p))||pointEqual(n,d)||pointEqual(p,d))&&(p[0]+=epsilon$2,p[1]+=epsilon$2,m=a(p[0],p[1])),m!==s)l=0,m?(t.lineStart(),d=o(p,n),t.point(d[0],d[1])):(d=o(n,p),t.point(d[0],d[1]),t.lineEnd()),n=d;else if(i&&n&&r^m){var y;g&e||!(y=o(p,n,!0))||(l=0,r?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1])))}!m||n&&pointEqual(n,p)||t.point(p[0],p[1]),n=p,s=m,e=g},lineEnd:function(){s&&t.lineEnd(),n=null},clean:function(){return l|(u&&s)<<1}}},function(n,r,i,a){circleStream(a,t,e,i,n,r)},r?[0,-t]:[-pi$3,t-pi$3])}function clipLine(t,n,e,r,i,a){var o,c=t[0],s=t[1],u=0,l=1,f=n[0]-c,h=n[1]-s;if(o=e-c,f||!(o>0)){if(o/=f,f<0){if(o<u)return;o<l&&(l=o)}else if(f>0){if(o>l)return;o>u&&(u=o)}if(o=i-c,f||!(o<0)){if(o/=f,f<0){if(o>l)return;o>u&&(u=o)}else if(f>0){if(o<u)return;o<l&&(l=o)}if(o=r-s,h||!(o>0)){if(o/=h,h<0){if(o<u)return;o<l&&(l=o)}else if(h>0){if(o>l)return;o>u&&(u=o)}if(o=a-s,h||!(o<0)){if(o/=h,h<0){if(o>l)return;o>u&&(u=o)}else if(h>0){if(o<u)return;o<l&&(l=o)}return u>0&&(t[0]=c+u*f,t[1]=s+u*h),l<1&&(n[0]=c+l*f,n[1]=s+l*h),!0}}}}}var clipMax=1e9,clipMin=-clipMax;function clipRectangle(t,n,e,r){function i(i,a){return t<=i&&i<=e&&n<=a&&a<=r}function a(i,a,c,u){var l=0,f=0;if(null==i||(l=o(i,c))!==(f=o(a,c))||s(i,a)<0^c>0)do{u.point(0===l||3===l?t:e,l>1?r:n)}while((l=(l+c+4)%4)!==f);else u.point(a[0],a[1])}function o(r,i){return abs(r[0]-t)<epsilon$2?i>0?0:3:abs(r[0]-e)<epsilon$2?i>0?2:1:abs(r[1]-n)<epsilon$2?i>0?1:0:i>0?3:2}function c(t,n){return s(t.x,n.x)}function s(t,n){var e=o(t,1),r=o(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(o){var s,u,l,f,h,d,p,m,g,y,b,v=o,_=clipBuffer(),$={point:x,lineStart:function(){$.point=w,u&&u.push(l=[]);y=!0,g=!1,p=m=NaN},lineEnd:function(){s&&(w(f,h),d&&g&&_.rejoin(),s.push(_.result()));$.point=x,g&&v.lineEnd()},polygonStart:function(){v=_,s=[],u=[],b=!0},polygonEnd:function(){var n=function(){for(var n=0,e=0,i=u.length;e<i;++e)for(var a,o,c=u[e],s=1,l=c.length,f=c[0],h=f[0],d=f[1];s<l;++s)a=h,o=d,f=c[s],h=f[0],d=f[1],o<=r?d>r&&(h-a)*(r-o)>(d-o)*(t-a)&&++n:d<=r&&(h-a)*(r-o)<(d-o)*(t-a)&&--n;return n}(),e=b&&n,i=(s=merge(s)).length;(e||i)&&(o.polygonStart(),e&&(o.lineStart(),a(null,null,1,o),o.lineEnd()),i&&clipRejoin(s,c,n,a,o),o.polygonEnd());v=o,s=u=l=null}};function x(t,n){i(t,n)&&v.point(t,n)}function w(a,o){var c=i(a,o);if(u&&l.push([a,o]),y)f=a,h=o,d=c,y=!1,c&&(v.lineStart(),v.point(a,o));else if(c&&g)v.point(a,o);else{var s=[p=Math.max(clipMin,Math.min(clipMax,p)),m=Math.max(clipMin,Math.min(clipMax,m))],_=[a=Math.max(clipMin,Math.min(clipMax,a)),o=Math.max(clipMin,Math.min(clipMax,o))];clipLine(s,_,t,n,e,r)?(g||(v.lineStart(),v.point(s[0],s[1])),v.point(_[0],_[1]),c||v.lineEnd(),b=!1):c&&(v.lineStart(),v.point(a,o),b=!1)}p=a,m=o,g=c}return $}}function extent$1(){var t,n,e,r=0,i=0,a=960,o=500;return e={stream:function(e){return t&&n===e?t:t=clipRectangle(r,i,a,o)(n=e)},extent:function(c){return arguments.length?(r=+c[0][0],i=+c[0][1],a=+c[1][0],o=+c[1][1],t=n=null,e):[[r,i],[a,o]]}}}var lambda0$2,sinPhi0$1,cosPhi0$1,lengthSum=adder(),lengthStream={sphere:noop$2,point:noop$2,lineStart:lengthLineStart,lineEnd:noop$2,polygonStart:noop$2,polygonEnd:noop$2};function lengthLineStart(){lengthStream.point=lengthPointFirst,lengthStream.lineEnd=lengthLineEnd}function lengthLineEnd(){lengthStream.point=lengthStream.lineEnd=noop$2}function lengthPointFirst(t,n){lambda0$2=t*=radians,sinPhi0$1=sin$1(n*=radians),cosPhi0$1=cos$1(n),lengthStream.point=lengthPoint}function lengthPoint(t,n){t*=radians;var e=sin$1(n*=radians),r=cos$1(n),i=abs(t-lambda0$2),a=cos$1(i),o=r*sin$1(i),c=cosPhi0$1*e-sinPhi0$1*r*a,s=sinPhi0$1*e+cosPhi0$1*r*a;lengthSum.add(atan2(sqrt(o*o+c*c),s)),lambda0$2=t,sinPhi0$1=e,cosPhi0$1=r}function length$1(t){return lengthSum.reset(),geoStream(t,lengthStream),+lengthSum}var coordinates=[null,null],object$1={type:"LineString",coordinates:coordinates};function distance(t,n){return coordinates[0]=t,coordinates[1]=n,length$1(object$1)}var containsObjectType={Feature:function(t,n){return containsGeometry(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)if(containsGeometry(e[r].geometry,n))return!0;return!1}},containsGeometryType={Sphere:function(){return!0},Point:function(t,n){return containsPoint(t.coordinates,n)},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(containsPoint(e[r],n))return!0;return!1},LineString:function(t,n){return containsLine(t.coordinates,n)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(containsLine(e[r],n))return!0;return!1},Polygon:function(t,n){return containsPolygon(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(containsPolygon(e[r],n))return!0;return!1},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)if(containsGeometry(e[r],n))return!0;return!1}};function containsGeometry(t,n){return!(!t||!containsGeometryType.hasOwnProperty(t.type))&&containsGeometryType[t.type](t,n)}function containsPoint(t,n){return 0===distance(t,n)}function containsLine(t,n){var e=distance(t[0],t[1]);return distance(t[0],n)+distance(n,t[1])<=e+epsilon$2}function containsPolygon(t,n){return!!polygonContains(t.map(ringRadians),pointRadians(n))}function ringRadians(t){return(t=t.map(pointRadians)).pop(),t}function pointRadians(t){return[t[0]*radians,t[1]*radians]}function contains$1(t,n){return(t&&containsObjectType.hasOwnProperty(t.type)?containsObjectType[t.type]:containsGeometry)(t,n)}function graticuleX(t,n,e){var r=sequence(t,n-epsilon$2,e).concat(n);return function(t){return r.map(function(n){return[t,n]})}}function graticuleY(t,n,e){var r=sequence(t,n-epsilon$2,e).concat(n);return function(t){return r.map(function(n){return[n,t]})}}function graticule(){var t,n,e,r,i,a,o,c,s,u,l,f,h=10,d=h,p=90,m=360,g=2.5;function y(){return{type:"MultiLineString",coordinates:b()}}function b(){return sequence(ceil(r/p)*p,e,p).map(l).concat(sequence(ceil(c/m)*m,o,m).map(f)).concat(sequence(ceil(n/h)*h,t,h).filter(function(t){return abs(t%p)>epsilon$2}).map(s)).concat(sequence(ceil(a/d)*d,i,d).filter(function(t){return abs(t%m)>epsilon$2}).map(u))}return y.lines=function(){return b().map(function(t){return{type:"LineString",coordinates:t}})},y.outline=function(){return{type:"Polygon",coordinates:[l(r).concat(f(o).slice(1),l(e).reverse().slice(1),f(c).reverse().slice(1))]}},y.extent=function(t){return arguments.length?y.extentMajor(t).extentMinor(t):y.extentMinor()},y.extentMajor=function(t){return arguments.length?(r=+t[0][0],e=+t[1][0],c=+t[0][1],o=+t[1][1],r>e&&(t=r,r=e,e=t),c>o&&(t=c,c=o,o=t),y.precision(g)):[[r,c],[e,o]]},y.extentMinor=function(e){return arguments.length?(n=+e[0][0],t=+e[1][0],a=+e[0][1],i=+e[1][1],n>t&&(e=n,n=t,t=e),a>i&&(e=a,a=i,i=e),y.precision(g)):[[n,a],[t,i]]},y.step=function(t){return arguments.length?y.stepMajor(t).stepMinor(t):y.stepMinor()},y.stepMajor=function(t){return arguments.length?(p=+t[0],m=+t[1],y):[p,m]},y.stepMinor=function(t){return arguments.length?(h=+t[0],d=+t[1],y):[h,d]},y.precision=function(h){return arguments.length?(g=+h,s=graticuleX(a,i,90),u=graticuleY(n,t,g),l=graticuleX(c,o,90),f=graticuleY(r,e,g),y):g},y.extentMajor([[-180,-90+epsilon$2],[180,90-epsilon$2]]).extentMinor([[-180,-80-epsilon$2],[180,80+epsilon$2]])}function graticule10(){return graticule()()}function interpolate$1(t,n){var e=t[0]*radians,r=t[1]*radians,i=n[0]*radians,a=n[1]*radians,o=cos$1(r),c=sin$1(r),s=cos$1(a),u=sin$1(a),l=o*cos$1(e),f=o*sin$1(e),h=s*cos$1(i),d=s*sin$1(i),p=2*asin(sqrt(haversin(a-r)+o*s*haversin(i-e))),m=sin$1(p),g=p?function(t){var n=sin$1(t*=p)/m,e=sin$1(p-t)/m,r=e*l+n*h,i=e*f+n*d,a=e*c+n*u;return[atan2(i,r)*degrees$1,atan2(a,sqrt(r*r+i*i))*degrees$1]}:function(){return[e*degrees$1,r*degrees$1]};return g.distance=p,g}function identity$4(t){return t}var x00,y00,x0$1,y0$1,areaSum$1=adder(),areaRingSum$1=adder(),areaStream$1={point:noop$2,lineStart:noop$2,lineEnd:noop$2,polygonStart:function(){areaStream$1.lineStart=areaRingStart$1,areaStream$1.lineEnd=areaRingEnd$1},polygonEnd:function(){areaStream$1.lineStart=areaStream$1.lineEnd=areaStream$1.point=noop$2,areaSum$1.add(abs(areaRingSum$1)),areaRingSum$1.reset()},result:function(){var t=areaSum$1/2;return areaSum$1.reset(),t}};function areaRingStart$1(){areaStream$1.point=areaPointFirst$1}function areaPointFirst$1(t,n){areaStream$1.point=areaPoint$1,x00=x0$1=t,y00=y0$1=n}function areaPoint$1(t,n){areaRingSum$1.add(y0$1*t-x0$1*n),x0$1=t,y0$1=n}function areaRingEnd$1(){areaPoint$1(x00,y00)}var x0$2=1/0,y0$2=x0$2,x1=-x0$2,y1=x1,boundsStream$1={point:boundsPoint$1,lineStart:noop$2,lineEnd:noop$2,polygonStart:noop$2,polygonEnd:noop$2,result:function(){var t=[[x0$2,y0$2],[x1,y1]];return x1=y1=-(y0$2=x0$2=1/0),t}};function boundsPoint$1(t,n){t<x0$2&&(x0$2=t),t>x1&&(x1=t),n<y0$2&&(y0$2=n),n>y1&&(y1=n)}var x00$1,y00$1,x0$3,y0$3,X0$1=0,Y0$1=0,Z0$1=0,X1$1=0,Y1$1=0,Z1$1=0,X2$1=0,Y2$1=0,Z2$1=0,centroidStream$1={point:centroidPoint$1,lineStart:centroidLineStart$1,lineEnd:centroidLineEnd$1,polygonStart:function(){centroidStream$1.lineStart=centroidRingStart$1,centroidStream$1.lineEnd=centroidRingEnd$1},polygonEnd:function(){centroidStream$1.point=centroidPoint$1,centroidStream$1.lineStart=centroidLineStart$1,centroidStream$1.lineEnd=centroidLineEnd$1},result:function(){var t=Z2$1?[X2$1/Z2$1,Y2$1/Z2$1]:Z1$1?[X1$1/Z1$1,Y1$1/Z1$1]:Z0$1?[X0$1/Z0$1,Y0$1/Z0$1]:[NaN,NaN];return X0$1=Y0$1=Z0$1=X1$1=Y1$1=Z1$1=X2$1=Y2$1=Z2$1=0,t}};function centroidPoint$1(t,n){X0$1+=t,Y0$1+=n,++Z0$1}function centroidLineStart$1(){centroidStream$1.point=centroidPointFirstLine}function centroidPointFirstLine(t,n){centroidStream$1.point=centroidPointLine,centroidPoint$1(x0$3=t,y0$3=n)}function centroidPointLine(t,n){var e=t-x0$3,r=n-y0$3,i=sqrt(e*e+r*r);X1$1+=i*(x0$3+t)/2,Y1$1+=i*(y0$3+n)/2,Z1$1+=i,centroidPoint$1(x0$3=t,y0$3=n)}function centroidLineEnd$1(){centroidStream$1.point=centroidPoint$1}function centroidRingStart$1(){centroidStream$1.point=centroidPointFirstRing}function centroidRingEnd$1(){centroidPointRing(x00$1,y00$1)}function centroidPointFirstRing(t,n){centroidStream$1.point=centroidPointRing,centroidPoint$1(x00$1=x0$3=t,y00$1=y0$3=n)}function centroidPointRing(t,n){var e=t-x0$3,r=n-y0$3,i=sqrt(e*e+r*r);X1$1+=i*(x0$3+t)/2,Y1$1+=i*(y0$3+n)/2,Z1$1+=i,X2$1+=(i=y0$3*t-x0$3*n)*(x0$3+t),Y2$1+=i*(y0$3+n),Z2$1+=3*i,centroidPoint$1(x0$3=t,y0$3=n)}function PathContext(t){this._context=t}PathContext.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,tau$3)}},result:noop$2};var lengthRing,x00$2,y00$2,x0$4,y0$4,lengthSum$1=adder(),lengthStream$1={point:noop$2,lineStart:function(){lengthStream$1.point=lengthPointFirst$1},lineEnd:function(){lengthRing&&lengthPoint$1(x00$2,y00$2),lengthStream$1.point=noop$2},polygonStart:function(){lengthRing=!0},polygonEnd:function(){lengthRing=null},result:function(){var t=+lengthSum$1;return lengthSum$1.reset(),t}};function lengthPointFirst$1(t,n){lengthStream$1.point=lengthPoint$1,x00$2=x0$4=t,y00$2=y0$4=n}function lengthPoint$1(t,n){x0$4-=t,y0$4-=n,lengthSum$1.add(sqrt(x0$4*x0$4+y0$4*y0$4)),x0$4=t,y0$4=n}function PathString(){this._string=[]}function circle$1(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function index$1(t,n){var e,r,i=4.5;function a(t){return t&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),geoStream(t,e(r))),r.result()}return a.area=function(t){return geoStream(t,e(areaStream$1)),areaStream$1.result()},a.measure=function(t){return geoStream(t,e(lengthStream$1)),lengthStream$1.result()},a.bounds=function(t){return geoStream(t,e(boundsStream$1)),boundsStream$1.result()},a.centroid=function(t){return geoStream(t,e(centroidStream$1)),centroidStream$1.result()},a.projection=function(n){return arguments.length?(e=null==n?(t=null,identity$4):(t=n).stream,a):t},a.context=function(t){return arguments.length?(r=null==t?(n=null,new PathString):new PathContext(n=t),"function"!=typeof i&&r.pointRadius(i),a):n},a.pointRadius=function(t){return arguments.length?(i="function"==typeof t?t:(r.pointRadius(+t),+t),a):i},a.projection(t).context(n)}function transform(t){return{stream:transformer(t)}}function transformer(t){return function(n){var e=new TransformStream;for(var r in t)e[r]=t[r];return e.stream=n,e}}function TransformStream(){}function fit(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),geoStream(e,t.stream(boundsStream$1)),n(boundsStream$1.result()),null!=r&&t.clipExtent(r),t}function fitExtent(t,n,e){return fit(t,function(e){var r=n[1][0]-n[0][0],i=n[1][1]-n[0][1],a=Math.min(r/(e[1][0]-e[0][0]),i/(e[1][1]-e[0][1])),o=+n[0][0]+(r-a*(e[1][0]+e[0][0]))/2,c=+n[0][1]+(i-a*(e[1][1]+e[0][1]))/2;t.scale(150*a).translate([o,c])},e)}function fitSize(t,n,e){return fitExtent(t,[[0,0],n],e)}function fitWidth(t,n,e){return fit(t,function(e){var r=+n,i=r/(e[1][0]-e[0][0]),a=(r-i*(e[1][0]+e[0][0]))/2,o=-i*e[0][1];t.scale(150*i).translate([a,o])},e)}function fitHeight(t,n,e){return fit(t,function(e){var r=+n,i=r/(e[1][1]-e[0][1]),a=-i*e[0][0],o=(r-i*(e[1][1]+e[0][1]))/2;t.scale(150*i).translate([a,o])},e)}PathString.prototype={_radius:4.5,_circle:circle$1(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._string.push("M",t,",",n),this._point=1;break;case 1:this._string.push("L",t,",",n);break;default:null==this._circle&&(this._circle=circle$1(this._radius)),this._string.push("M",t,",",n,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},TransformStream.prototype={constructor:TransformStream,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var maxDepth=16,cosMinDistance=cos$1(30*radians);function resample(t,n){return+n?resample$1(t,n):resampleNone(t)}function resampleNone(t){return transformer({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}function resample$1(t,n){function e(r,i,a,o,c,s,u,l,f,h,d,p,m,g){var y=u-r,b=l-i,v=y*y+b*b;if(v>4*n&&m--){var _=o+h,$=c+d,x=s+p,w=sqrt(_*_+$*$+x*x),M=asin(x/=w),S=abs(abs(x)-1)<epsilon$2||abs(a-f)<epsilon$2?(a+f)/2:atan2($,_),R=t(S,M),E=R[0],k=R[1],T=E-r,N=k-i,C=b*T-y*N;(C*C/v>n||abs((y*T+b*N)/v-.5)>.3||o*h+c*d+s*p<cosMinDistance)&&(e(r,i,a,o,c,s,E,k,S,_/=w,$/=w,x,m,g),g.point(E,k),e(E,k,S,_,$,x,u,l,f,h,d,p,m,g))}}return function(n){var r,i,a,o,c,s,u,l,f,h,d,p,m={point:g,lineStart:y,lineEnd:v,polygonStart:function(){n.polygonStart(),m.lineStart=_},polygonEnd:function(){n.polygonEnd(),m.lineStart=y}};function g(e,r){e=t(e,r),n.point(e[0],e[1])}function y(){l=NaN,m.point=b,n.lineStart()}function b(r,i){var a=cartesian([r,i]),o=t(r,i);e(l,f,u,h,d,p,l=o[0],f=o[1],u=r,h=a[0],d=a[1],p=a[2],maxDepth,n),n.point(l,f)}function v(){m.point=g,n.lineEnd()}function _(){y(),m.point=$,m.lineEnd=x}function $(t,n){b(r=t,n),i=l,a=f,o=h,c=d,s=p,m.point=b}function x(){e(l,f,u,h,d,p,i,a,r,o,c,s,maxDepth,n),m.lineEnd=v,v()}return m}}var transformRadians=transformer({point:function(t,n){this.stream.point(t*radians,n*radians)}});function transformRotate(t){return transformer({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}function scaleTranslate(t,n,e){function r(r,i){return[n+t*r,e-t*i]}return r.invert=function(r,i){return[(r-n)/t,(e-i)/t]},r}function scaleTranslateRotate(t,n,e,r){var i=cos$1(r),a=sin$1(r),o=i*t,c=a*t,s=i/t,u=a/t,l=(a*e-i*n)/t,f=(a*n+i*e)/t;function h(t,r){return[o*t-c*r+n,e-c*t-o*r]}return h.invert=function(t,n){return[s*t-u*n+l,f-u*t-s*n]},h}function projection(t){return projectionMutator(function(){return t})()}function projectionMutator(t){var n,e,r,i,a,o,c,s,u,l,f=150,h=480,d=250,p=0,m=0,g=0,y=0,b=0,v=0,_=null,$=clipAntimeridian,x=null,w=identity$4,M=.5;function S(t){return s(t[0]*radians,t[1]*radians)}function R(t){return(t=s.invert(t[0],t[1]))&&[t[0]*degrees$1,t[1]*degrees$1]}function E(){var t=scaleTranslateRotate(f,0,0,v).apply(null,n(p,m)),r=(v?scaleTranslateRotate:scaleTranslate)(f,h-t[0],d-t[1],v);return e=rotateRadians(g,y,b),c=compose(n,r),s=compose(e,c),o=resample(c,M),k()}function k(){return u=l=null,S}return S.stream=function(t){return u&&l===t?u:u=transformRadians(transformRotate(e)($(o(w(l=t)))))},S.preclip=function(t){return arguments.length?($=t,_=void 0,k()):$},S.postclip=function(t){return arguments.length?(w=t,x=r=i=a=null,k()):w},S.clipAngle=function(t){return arguments.length?($=+t?clipCircle(_=t*radians):(_=null,clipAntimeridian),k()):_*degrees$1},S.clipExtent=function(t){return arguments.length?(w=null==t?(x=r=i=a=null,identity$4):clipRectangle(x=+t[0][0],r=+t[0][1],i=+t[1][0],a=+t[1][1]),k()):null==x?null:[[x,r],[i,a]]},S.scale=function(t){return arguments.length?(f=+t,E()):f},S.translate=function(t){return arguments.length?(h=+t[0],d=+t[1],E()):[h,d]},S.center=function(t){return arguments.length?(p=t[0]%360*radians,m=t[1]%360*radians,E()):[p*degrees$1,m*degrees$1]},S.rotate=function(t){return arguments.length?(g=t[0]%360*radians,y=t[1]%360*radians,b=t.length>2?t[2]%360*radians:0,E()):[g*degrees$1,y*degrees$1,b*degrees$1]},S.angle=function(t){return arguments.length?(v=t%360*radians,E()):v*degrees$1},S.precision=function(t){return arguments.length?(o=resample(c,M=t*t),k()):sqrt(M)},S.fitExtent=function(t,n){return fitExtent(S,t,n)},S.fitSize=function(t,n){return fitSize(S,t,n)},S.fitWidth=function(t,n){return fitWidth(S,t,n)},S.fitHeight=function(t,n){return fitHeight(S,t,n)},function(){return n=t.apply(this,arguments),S.invert=n.invert&&R,E()}}function conicProjection(t){var n=0,e=pi$3/3,r=projectionMutator(t),i=r(n,e);return i.parallels=function(t){return arguments.length?r(n=t[0]*radians,e=t[1]*radians):[n*degrees$1,e*degrees$1]},i}function cylindricalEqualAreaRaw(t){var n=cos$1(t);function e(t,e){return[t*n,sin$1(e)/n]}return e.invert=function(t,e){return[t/n,asin(e*n)]},e}function conicEqualAreaRaw(t,n){var e=sin$1(t),r=(e+sin$1(n))/2;if(abs(r)<epsilon$2)return cylindricalEqualAreaRaw(t);var i=1+e*(2*r-e),a=sqrt(i)/r;function o(t,n){var e=sqrt(i-2*r*sin$1(n))/r;return[e*sin$1(t*=r),a-e*cos$1(t)]}return o.invert=function(t,n){var e=a-n;return[atan2(t,abs(e))/r*sign(e),asin((i-(t*t+e*e)*r*r)/(2*r))]},o}function conicEqualArea(){return conicProjection(conicEqualAreaRaw).scale(155.424).center([0,33.6442])}function albers(){return conicEqualArea().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function multiplex(t){var n=t.length;return{point:function(e,r){for(var i=-1;++i<n;)t[i].point(e,r)},sphere:function(){for(var e=-1;++e<n;)t[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)t[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)t[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)t[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)t[e].polygonEnd()}}}function albersUsa(){var t,n,e,r,i,a,o=albers(),c=conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(t,n){a=[t,n]}};function l(t){var n=t[0],o=t[1];return a=null,e.point(n,o),a||(r.point(n,o),a)||(i.point(n,o),a)}function f(){return t=n=null,l}return l.invert=function(t){var n=o.scale(),e=o.translate(),r=(t[0]-e[0])/n,i=(t[1]-e[1])/n;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?c:i>=.166&&i<.234&&r>=-.214&&r<-.115?s:o).invert(t)},l.stream=function(e){return t&&n===e?t:t=multiplex([o.stream(n=e),c.stream(e),s.stream(e)])},l.precision=function(t){return arguments.length?(o.precision(t),c.precision(t),s.precision(t),f()):o.precision()},l.scale=function(t){return arguments.length?(o.scale(t),c.scale(.35*t),s.scale(t),l.translate(o.translate())):o.scale()},l.translate=function(t){if(!arguments.length)return o.translate();var n=o.scale(),a=+t[0],l=+t[1];return e=o.translate(t).clipExtent([[a-.455*n,l-.238*n],[a+.455*n,l+.238*n]]).stream(u),r=c.translate([a-.307*n,l+.201*n]).clipExtent([[a-.425*n+epsilon$2,l+.12*n+epsilon$2],[a-.214*n-epsilon$2,l+.234*n-epsilon$2]]).stream(u),i=s.translate([a-.205*n,l+.212*n]).clipExtent([[a-.214*n+epsilon$2,l+.166*n+epsilon$2],[a-.115*n-epsilon$2,l+.234*n-epsilon$2]]).stream(u),f()},l.fitExtent=function(t,n){return fitExtent(l,t,n)},l.fitSize=function(t,n){return fitSize(l,t,n)},l.fitWidth=function(t,n){return fitWidth(l,t,n)},l.fitHeight=function(t,n){return fitHeight(l,t,n)},l.scale(1070)}function azimuthalRaw(t){return function(n,e){var r=cos$1(n),i=cos$1(e),a=t(r*i);return[a*i*sin$1(n),a*sin$1(e)]}}function azimuthalInvert(t){return function(n,e){var r=sqrt(n*n+e*e),i=t(r),a=sin$1(i),o=cos$1(i);return[atan2(n*a,r*o),asin(r&&e*a/r)]}}var azimuthalEqualAreaRaw=azimuthalRaw(function(t){return sqrt(2/(1+t))});function azimuthalEqualArea(){return projection(azimuthalEqualAreaRaw).scale(124.75).clipAngle(179.999)}azimuthalEqualAreaRaw.invert=azimuthalInvert(function(t){return 2*asin(t/2)});var azimuthalEquidistantRaw=azimuthalRaw(function(t){return(t=acos(t))&&t/sin$1(t)});function azimuthalEquidistant(){return projection(azimuthalEquidistantRaw).scale(79.4188).clipAngle(179.999)}function mercatorRaw(t,n){return[t,log(tan((halfPi$2+n)/2))]}function mercator(){return mercatorProjection(mercatorRaw).scale(961/tau$3)}function mercatorProjection(t){var n,e,r,i=projection(t),a=i.center,o=i.scale,c=i.translate,s=i.clipExtent,u=null;function l(){var a=pi$3*o(),c=i(rotation(i.rotate()).invert([0,0]));return s(null==u?[[c[0]-a,c[1]-a],[c[0]+a,c[1]+a]]:t===mercatorRaw?[[Math.max(c[0]-a,u),n],[Math.min(c[0]+a,e),r]]:[[u,Math.max(c[1]-a,n)],[e,Math.min(c[1]+a,r)]])}return i.scale=function(t){return arguments.length?(o(t),l()):o()},i.translate=function(t){return arguments.length?(c(t),l()):c()},i.center=function(t){return arguments.length?(a(t),l()):a()},i.clipExtent=function(t){return arguments.length?(null==t?u=n=e=r=null:(u=+t[0][0],n=+t[0][1],e=+t[1][0],r=+t[1][1]),l()):null==u?null:[[u,n],[e,r]]},l()}function tany(t){return tan((halfPi$2+t)/2)}function conicConformalRaw(t,n){var e=cos$1(t),r=t===n?sin$1(t):log(e/cos$1(n))/log(tany(n)/tany(t)),i=e*pow(tany(t),r)/r;if(!r)return mercatorRaw;function a(t,n){i>0?n<-halfPi$2+epsilon$2&&(n=-halfPi$2+epsilon$2):n>halfPi$2-epsilon$2&&(n=halfPi$2-epsilon$2);var e=i/pow(tany(n),r);return[e*sin$1(r*t),i-e*cos$1(r*t)]}return a.invert=function(t,n){var e=i-n,a=sign(r)*sqrt(t*t+e*e);return[atan2(t,abs(e))/r*sign(e),2*atan(pow(i/a,1/r))-halfPi$2]},a}function conicConformal(){return conicProjection(conicConformalRaw).scale(109.5).parallels([30,30])}function equirectangularRaw(t,n){return[t,n]}function equirectangular(){return projection(equirectangularRaw).scale(152.63)}function conicEquidistantRaw(t,n){var e=cos$1(t),r=t===n?sin$1(t):(e-cos$1(n))/(n-t),i=e/r+t;if(abs(r)<epsilon$2)return equirectangularRaw;function a(t,n){var e=i-n,a=r*t;return[e*sin$1(a),i-e*cos$1(a)]}return a.invert=function(t,n){var e=i-n;return[atan2(t,abs(e))/r*sign(e),i-sign(r)*sqrt(t*t+e*e)]},a}function conicEquidistant(){return conicProjection(conicEquidistantRaw).scale(131.154).center([0,13.9389])}azimuthalEquidistantRaw.invert=azimuthalInvert(function(t){return t}),mercatorRaw.invert=function(t,n){return[t,2*atan(exp(n))-halfPi$2]},equirectangularRaw.invert=equirectangularRaw;var A1=1.340264,A2=-.081106,A3=893e-6,A4=.003796,M=sqrt(3)/2,iterations=12;function equalEarthRaw(t,n){var e=asin(M*sin$1(n)),r=e*e,i=r*r*r;return[t*cos$1(e)/(M*(A1+3*A2*r+i*(7*A3+9*A4*r))),e*(A1+A2*r+i*(A3+A4*r))]}function equalEarth(){return projection(equalEarthRaw).scale(177.158)}function gnomonicRaw(t,n){var e=cos$1(n),r=cos$1(t)*e;return[e*sin$1(t)/r,sin$1(n)/r]}function gnomonic(){return projection(gnomonicRaw).scale(144.049).clipAngle(60)}function scaleTranslate$1(t,n,e,r){return 1===t&&1===n&&0===e&&0===r?identity$4:transformer({point:function(i,a){this.stream.point(i*t+e,a*n+r)}})}function identity$5(){var t,n,e,r,i,a,o=1,c=0,s=0,u=1,l=1,f=identity$4,h=null,d=identity$4;function p(){return r=i=null,a}return a={stream:function(t){return r&&i===t?r:r=f(d(i=t))},postclip:function(r){return arguments.length?(d=r,h=t=n=e=null,p()):d},clipExtent:function(r){return arguments.length?(d=null==r?(h=t=n=e=null,identity$4):clipRectangle(h=+r[0][0],t=+r[0][1],n=+r[1][0],e=+r[1][1]),p()):null==h?null:[[h,t],[n,e]]},scale:function(t){return arguments.length?(f=scaleTranslate$1((o=+t)*u,o*l,c,s),p()):o},translate:function(t){return arguments.length?(f=scaleTranslate$1(o*u,o*l,c=+t[0],s=+t[1]),p()):[c,s]},reflectX:function(t){return arguments.length?(f=scaleTranslate$1(o*(u=t?-1:1),o*l,c,s),p()):u<0},reflectY:function(t){return arguments.length?(f=scaleTranslate$1(o*u,o*(l=t?-1:1),c,s),p()):l<0},fitExtent:function(t,n){return fitExtent(a,t,n)},fitSize:function(t,n){return fitSize(a,t,n)},fitWidth:function(t,n){return fitWidth(a,t,n)},fitHeight:function(t,n){return fitHeight(a,t,n)}}}function naturalEarth1Raw(t,n){var e=n*n,r=e*e;return[t*(.8707-.131979*e+r*(r*(.003971*e-.001529*r)-.013791)),n*(1.007226+e*(.015085+r*(.028874*e-.044475-.005916*r)))]}function naturalEarth1(){return projection(naturalEarth1Raw).scale(175.295)}function orthographicRaw(t,n){return[cos$1(n)*sin$1(t),sin$1(n)]}function orthographic(){return projection(orthographicRaw).scale(249.5).clipAngle(90+epsilon$2)}function stereographicRaw(t,n){var e=cos$1(n),r=1+cos$1(t)*e;return[e*sin$1(t)/r,sin$1(n)/r]}function stereographic(){return projection(stereographicRaw).scale(250).clipAngle(142)}function transverseMercatorRaw(t,n){return[log(tan((halfPi$2+n)/2)),-t]}function transverseMercator(){var t=mercatorProjection(transverseMercatorRaw),n=t.center,e=t.rotate;return t.center=function(t){return arguments.length?n([-t[1],t[0]]):[(t=n())[1],-t[0]]},t.rotate=function(t){return arguments.length?e([t[0],t[1],t.length>2?t[2]+90:90]):[(t=e())[0],t[1],t[2]-90]},e([0,0,90]).scale(159.155)}function defaultSeparation(t,n){return t.parent===n.parent?1:2}function meanX(t){return t.reduce(meanXReduce,0)/t.length}function meanXReduce(t,n){return t+n.x}function maxY(t){return 1+t.reduce(maxYReduce,0)}function maxYReduce(t,n){return Math.max(t,n.y)}function leafLeft(t){for(var n;n=t.children;)t=n[0];return t}function leafRight(t){for(var n;n=t.children;)t=n[n.length-1];return t}function cluster(){var t=defaultSeparation,n=1,e=1,r=!1;function i(i){var a,o=0;i.eachAfter(function(n){var e=n.children;e?(n.x=meanX(e),n.y=maxY(e)):(n.x=a?o+=t(n,a):0,n.y=0,a=n)});var c=leafLeft(i),s=leafRight(i),u=c.x-t(c,s)/2,l=s.x+t(s,c)/2;return i.eachAfter(r?function(t){t.x=(t.x-i.x)*n,t.y=(i.y-t.y)*e}:function(t){t.x=(t.x-u)/(l-u)*n,t.y=(1-(i.y?t.y/i.y:1))*e})}return i.separation=function(n){return arguments.length?(t=n,i):t},i.size=function(t){return arguments.length?(r=!1,n=+t[0],e=+t[1],i):r?null:[n,e]},i.nodeSize=function(t){return arguments.length?(r=!0,n=+t[0],e=+t[1],i):r?[n,e]:null},i}function count(t){var n=0,e=t.children,r=e&&e.length;if(r)for(;--r>=0;)n+=e[r].value;else n=1;t.value=n}function node_count(){return this.eachAfter(count)}function node_each(t){var n,e,r,i,a=this,o=[a];do{for(n=o.reverse(),o=[];a=n.pop();)if(t(a),e=a.children)for(r=0,i=e.length;r<i;++r)o.push(e[r])}while(o.length);return this}function node_eachBefore(t){for(var n,e,r=this,i=[r];r=i.pop();)if(t(r),n=r.children)for(e=n.length-1;e>=0;--e)i.push(n[e]);return this}function node_eachAfter(t){for(var n,e,r,i=this,a=[i],o=[];i=a.pop();)if(o.push(i),n=i.children)for(e=0,r=n.length;e<r;++e)a.push(n[e]);for(;i=o.pop();)t(i);return this}function node_sum(t){return this.eachAfter(function(n){for(var e=+t(n.data)||0,r=n.children,i=r&&r.length;--i>=0;)e+=r[i].value;n.value=e})}function node_sort(t){return this.eachBefore(function(n){n.children&&n.children.sort(t)})}function node_path(t){for(var n=this,e=leastCommonAncestor(n,t),r=[n];n!==e;)n=n.parent,r.push(n);for(var i=r.length;t!==e;)r.splice(i,0,t),t=t.parent;return r}function leastCommonAncestor(t,n){if(t===n)return t;var e=t.ancestors(),r=n.ancestors(),i=null;for(t=e.pop(),n=r.pop();t===n;)i=t,t=e.pop(),n=r.pop();return i}function node_ancestors(){for(var t=this,n=[t];t=t.parent;)n.push(t);return n}function node_descendants(){var t=[];return this.each(function(n){t.push(n)}),t}function node_leaves(){var t=[];return this.eachBefore(function(n){n.children||t.push(n)}),t}function node_links(){var t=this,n=[];return t.each(function(e){e!==t&&n.push({source:e.parent,target:e})}),n}function hierarchy(t,n){var e,r,i,a,o,c=new Node(t),s=+t.value&&(c.value=t.value),u=[c];for(null==n&&(n=defaultChildren);e=u.pop();)if(s&&(e.value=+e.data.value),(i=n(e.data))&&(o=i.length))for(e.children=new Array(o),a=o-1;a>=0;--a)u.push(r=e.children[a]=new Node(i[a])),r.parent=e,r.depth=e.depth+1;return c.eachBefore(computeHeight)}function node_copy(){return hierarchy(this).eachBefore(copyData)}function defaultChildren(t){return t.children}function copyData(t){t.data=t.data.data}function computeHeight(t){var n=0;do{t.height=n}while((t=t.parent)&&t.height<++n)}function Node(t){this.data=t,this.depth=this.height=0,this.parent=null}equalEarthRaw.invert=function(t,n){for(var e,r=n,i=r*r,a=i*i*i,o=0;o<iterations&&(a=(i=(r-=e=(r*(A1+A2*i+a*(A3+A4*i))-n)/(A1+3*A2*i+a*(7*A3+9*A4*i)))*r)*i*i,!(abs(e)<epsilon2$1));++o);return[M*t*(A1+3*A2*i+a*(7*A3+9*A4*i))/cos$1(r),asin(sin$1(r)/M)]},gnomonicRaw.invert=azimuthalInvert(atan),naturalEarth1Raw.invert=function(t,n){var e,r=n,i=25;do{var a=r*r,o=a*a;r-=e=(r*(1.007226+a*(.015085+o*(.028874*a-.044475-.005916*o)))-n)/(1.007226+a*(.045255+o*(.259866*a-.311325-.005916*11*o)))}while(abs(e)>epsilon$2&&--i>0);return[t/(.8707+(a=r*r)*(a*(a*a*a*(.003971-.001529*a)-.013791)-.131979)),r]},orthographicRaw.invert=azimuthalInvert(asin),stereographicRaw.invert=azimuthalInvert(function(t){return 2*atan(t)}),transverseMercatorRaw.invert=function(t,n){return[-n,2*atan(exp(t))-halfPi$2]},Node.prototype=hierarchy.prototype={constructor:Node,count:node_count,each:node_each,eachAfter:node_eachAfter,eachBefore:node_eachBefore,sum:node_sum,sort:node_sort,path:node_path,ancestors:node_ancestors,descendants:node_descendants,leaves:node_leaves,links:node_links,copy:node_copy};var slice$4=Array.prototype.slice;function shuffle$1(t){for(var n,e,r=t.length;r;)e=Math.random()*r--|0,n=t[r],t[r]=t[e],t[e]=n;return t}function enclose(t){for(var n,e,r=0,i=(t=shuffle$1(slice$4.call(t))).length,a=[];r<i;)n=t[r],e&&enclosesWeak(e,n)?++r:(e=encloseBasis(a=extendBasis(a,n)),r=0);return e}function extendBasis(t,n){var e,r;if(enclosesWeakAll(n,t))return[n];for(e=0;e<t.length;++e)if(enclosesNot(n,t[e])&&enclosesWeakAll(encloseBasis2(t[e],n),t))return[t[e],n];for(e=0;e<t.length-1;++e)for(r=e+1;r<t.length;++r)if(enclosesNot(encloseBasis2(t[e],t[r]),n)&&enclosesNot(encloseBasis2(t[e],n),t[r])&&enclosesNot(encloseBasis2(t[r],n),t[e])&&enclosesWeakAll(encloseBasis3(t[e],t[r],n),t))return[t[e],t[r],n];throw new Error}function enclosesNot(t,n){var e=t.r-n.r,r=n.x-t.x,i=n.y-t.y;return e<0||e*e<r*r+i*i}function enclosesWeak(t,n){var e=t.r-n.r+1e-6,r=n.x-t.x,i=n.y-t.y;return e>0&&e*e>r*r+i*i}function enclosesWeakAll(t,n){for(var e=0;e<n.length;++e)if(!enclosesWeak(t,n[e]))return!1;return!0}function encloseBasis(t){switch(t.length){case 1:return encloseBasis1(t[0]);case 2:return encloseBasis2(t[0],t[1]);case 3:return encloseBasis3(t[0],t[1],t[2])}}function encloseBasis1(t){return{x:t.x,y:t.y,r:t.r}}function encloseBasis2(t,n){var e=t.x,r=t.y,i=t.r,a=n.x,o=n.y,c=n.r,s=a-e,u=o-r,l=c-i,f=Math.sqrt(s*s+u*u);return{x:(e+a+s/f*l)/2,y:(r+o+u/f*l)/2,r:(f+i+c)/2}}function encloseBasis3(t,n,e){var r=t.x,i=t.y,a=t.r,o=n.x,c=n.y,s=n.r,u=e.x,l=e.y,f=e.r,h=r-o,d=r-u,p=i-c,m=i-l,g=s-a,y=f-a,b=r*r+i*i-a*a,v=b-o*o-c*c+s*s,_=b-u*u-l*l+f*f,$=d*p-h*m,x=(p*_-m*v)/(2*$)-r,w=(m*g-p*y)/$,M=(d*v-h*_)/(2*$)-i,S=(h*y-d*g)/$,R=w*w+S*S-1,E=2*(a+x*w+M*S),k=x*x+M*M-a*a,T=-(R?(E+Math.sqrt(E*E-4*R*k))/(2*R):k/E);return{x:r+x+w*T,y:i+M+S*T,r:T}}function place(t,n,e){var r,i,a,o,c=t.x-n.x,s=t.y-n.y,u=c*c+s*s;u?(i=n.r+e.r,i*=i,o=t.r+e.r,i>(o*=o)?(r=(u+o-i)/(2*u),a=Math.sqrt(Math.max(0,o/u-r*r)),e.x=t.x-r*c-a*s,e.y=t.y-r*s+a*c):(r=(u+i-o)/(2*u),a=Math.sqrt(Math.max(0,i/u-r*r)),e.x=n.x+r*c-a*s,e.y=n.y+r*s+a*c)):(e.x=n.x+e.r,e.y=n.y)}function intersects(t,n){var e=t.r+n.r-1e-6,r=n.x-t.x,i=n.y-t.y;return e>0&&e*e>r*r+i*i}function score(t){var n=t._,e=t.next._,r=n.r+e.r,i=(n.x*e.r+e.x*n.r)/r,a=(n.y*e.r+e.y*n.r)/r;return i*i+a*a}function Node$1(t){this._=t,this.next=null,this.previous=null}function packEnclose(t){if(!(i=t.length))return 0;var n,e,r,i,a,o,c,s,u,l,f;if((n=t[0]).x=0,n.y=0,!(i>1))return n.r;if(e=t[1],n.x=-e.r,e.x=n.r,e.y=0,!(i>2))return n.r+e.r;place(e,n,r=t[2]),n=new Node$1(n),e=new Node$1(e),r=new Node$1(r),n.next=r.previous=e,e.next=n.previous=r,r.next=e.previous=n;t:for(c=3;c<i;++c){place(n._,e._,r=t[c]),r=new Node$1(r),s=e.next,u=n.previous,l=e._.r,f=n._.r;do{if(l<=f){if(intersects(s._,r._)){e=s,n.next=e,e.previous=n,--c;continue t}l+=s._.r,s=s.next}else{if(intersects(u._,r._)){(n=u).next=e,e.previous=n,--c;continue t}f+=u._.r,u=u.previous}}while(s!==u.next);for(r.previous=n,r.next=e,n.next=e.previous=e=r,a=score(n);(r=r.next)!==e;)(o=score(r))<a&&(n=r,a=o);e=n.next}for(n=[e._],r=e;(r=r.next)!==e;)n.push(r._);for(r=enclose(n),c=0;c<i;++c)(n=t[c]).x-=r.x,n.y-=r.y;return r.r}function siblings(t){return packEnclose(t),t}function optional(t){return null==t?null:required(t)}function required(t){if("function"!=typeof t)throw new Error;return t}function constantZero(){return 0}function constant$9(t){return function(){return t}}function defaultRadius$1(t){return Math.sqrt(t.value)}function index$2(){var t=null,n=1,e=1,r=constantZero;function i(i){return i.x=n/2,i.y=e/2,t?i.eachBefore(radiusLeaf(t)).eachAfter(packChildren(r,.5)).eachBefore(translateChild(1)):i.eachBefore(radiusLeaf(defaultRadius$1)).eachAfter(packChildren(constantZero,1)).eachAfter(packChildren(r,i.r/Math.min(n,e))).eachBefore(translateChild(Math.min(n,e)/(2*i.r))),i}return i.radius=function(n){return arguments.length?(t=optional(n),i):t},i.size=function(t){return arguments.length?(n=+t[0],e=+t[1],i):[n,e]},i.padding=function(t){return arguments.length?(r="function"==typeof t?t:constant$9(+t),i):r},i}function radiusLeaf(t){return function(n){n.children||(n.r=Math.max(0,+t(n)||0))}}function packChildren(t,n){return function(e){if(r=e.children){var r,i,a,o=r.length,c=t(e)*n||0;if(c)for(i=0;i<o;++i)r[i].r+=c;if(a=packEnclose(r),c)for(i=0;i<o;++i)r[i].r-=c;e.r=a+c}}}function translateChild(t){return function(n){var e=n.parent;n.r*=t,e&&(n.x=e.x+t*n.x,n.y=e.y+t*n.y)}}function roundNode(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function treemapDice(t,n,e,r,i){for(var a,o=t.children,c=-1,s=o.length,u=t.value&&(r-n)/t.value;++c<s;)(a=o[c]).y0=e,a.y1=i,a.x0=n,a.x1=n+=a.value*u}function partition(){var t=1,n=1,e=0,r=!1;function i(i){var a=i.height+1;return i.x0=i.y0=e,i.x1=t,i.y1=n/a,i.eachBefore(function(t,n){return function(r){r.children&&treemapDice(r,r.x0,t*(r.depth+1)/n,r.x1,t*(r.depth+2)/n);var i=r.x0,a=r.y0,o=r.x1-e,c=r.y1-e;o<i&&(i=o=(i+o)/2),c<a&&(a=c=(a+c)/2),r.x0=i,r.y0=a,r.x1=o,r.y1=c}}(n,a)),r&&i.eachBefore(roundNode),i}return i.round=function(t){return arguments.length?(r=!!t,i):r},i.size=function(e){return arguments.length?(t=+e[0],n=+e[1],i):[t,n]},i.padding=function(t){return arguments.length?(e=+t,i):e},i}var keyPrefix$1="$",preroot={depth:-1},ambiguous={};function defaultId(t){return t.id}function defaultParentId(t){return t.parentId}function stratify(){var t=defaultId,n=defaultParentId;function e(e){var r,i,a,o,c,s,u,l=e.length,f=new Array(l),h={};for(i=0;i<l;++i)r=e[i],c=f[i]=new Node(r),null!=(s=t(r,i,e))&&(s+="")&&(h[u=keyPrefix$1+(c.id=s)]=u in h?ambiguous:c);for(i=0;i<l;++i)if(c=f[i],null!=(s=n(e[i],i,e))&&(s+="")){if(!(o=h[keyPrefix$1+s]))throw new Error("missing: "+s);if(o===ambiguous)throw new Error("ambiguous: "+s);o.children?o.children.push(c):o.children=[c],c.parent=o}else{if(a)throw new Error("multiple roots");a=c}if(!a)throw new Error("no root");if(a.parent=preroot,a.eachBefore(function(t){t.depth=t.parent.depth+1,--l}).eachBefore(computeHeight),a.parent=null,l>0)throw new Error("cycle");return a}return e.id=function(n){return arguments.length?(t=required(n),e):t},e.parentId=function(t){return arguments.length?(n=required(t),e):n},e}function defaultSeparation$1(t,n){return t.parent===n.parent?1:2}function nextLeft(t){var n=t.children;return n?n[0]:t.t}function nextRight(t){var n=t.children;return n?n[n.length-1]:t.t}function moveSubtree(t,n,e){var r=e/(n.i-t.i);n.c-=r,n.s+=e,t.c+=r,n.z+=e,n.m+=e}function executeShifts(t){for(var n,e=0,r=0,i=t.children,a=i.length;--a>=0;)(n=i[a]).z+=e,n.m+=e,e+=n.s+(r+=n.c)}function nextAncestor(t,n,e){return t.a.parent===n.parent?t.a:e}function TreeNode(t,n){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=n}function treeRoot(t){for(var n,e,r,i,a,o=new TreeNode(t,0),c=[o];n=c.pop();)if(r=n._.children)for(n.children=new Array(a=r.length),i=a-1;i>=0;--i)c.push(e=n.children[i]=new TreeNode(r[i],i)),e.parent=n;return(o.parent=new TreeNode(null,0)).children=[o],o}function tree(){var t=defaultSeparation$1,n=1,e=1,r=null;function i(i){var s=treeRoot(i);if(s.eachAfter(a),s.parent.m=-s.z,s.eachBefore(o),r)i.eachBefore(c);else{var u=i,l=i,f=i;i.eachBefore(function(t){t.x<u.x&&(u=t),t.x>l.x&&(l=t),t.depth>f.depth&&(f=t)});var h=u===l?1:t(u,l)/2,d=h-u.x,p=n/(l.x+h+d),m=e/(f.depth||1);i.eachBefore(function(t){t.x=(t.x+d)*p,t.y=t.depth*m})}return i}function a(n){var e=n.children,r=n.parent.children,i=n.i?r[n.i-1]:null;if(e){executeShifts(n);var a=(e[0].z+e[e.length-1].z)/2;i?(n.z=i.z+t(n._,i._),n.m=n.z-a):n.z=a}else i&&(n.z=i.z+t(n._,i._));n.parent.A=function(n,e,r){if(e){for(var i,a=n,o=n,c=e,s=a.parent.children[0],u=a.m,l=o.m,f=c.m,h=s.m;c=nextRight(c),a=nextLeft(a),c&&a;)s=nextLeft(s),(o=nextRight(o)).a=n,(i=c.z+f-a.z-u+t(c._,a._))>0&&(moveSubtree(nextAncestor(c,n,r),n,i),u+=i,l+=i),f+=c.m,u+=a.m,h+=s.m,l+=o.m;c&&!nextRight(o)&&(o.t=c,o.m+=f-l),a&&!nextLeft(s)&&(s.t=a,s.m+=u-h,r=n)}return r}(n,i,n.parent.A||r[0])}function o(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function c(t){t.x*=n,t.y=t.depth*e}return i.separation=function(n){return arguments.length?(t=n,i):t},i.size=function(t){return arguments.length?(r=!1,n=+t[0],e=+t[1],i):r?null:[n,e]},i.nodeSize=function(t){return arguments.length?(r=!0,n=+t[0],e=+t[1],i):r?[n,e]:null},i}function treemapSlice(t,n,e,r,i){for(var a,o=t.children,c=-1,s=o.length,u=t.value&&(i-e)/t.value;++c<s;)(a=o[c]).x0=n,a.x1=r,a.y0=e,a.y1=e+=a.value*u}TreeNode.prototype=Object.create(Node.prototype);var phi=(1+Math.sqrt(5))/2;function squarifyRatio(t,n,e,r,i,a){for(var o,c,s,u,l,f,h,d,p,m,g,y=[],b=n.children,v=0,_=0,$=b.length,x=n.value;v<$;){s=i-e,u=a-r;do{l=b[_++].value}while(!l&&_<$);for(f=h=l,g=l*l*(m=Math.max(u/s,s/u)/(x*t)),p=Math.max(h/g,g/f);_<$;++_){if(l+=c=b[_].value,c<f&&(f=c),c>h&&(h=c),g=l*l*m,(d=Math.max(h/g,g/f))>p){l-=c;break}p=d}y.push(o={value:l,dice:s<u,children:b.slice(v,_)}),o.dice?treemapDice(o,e,r,i,x?r+=u*l/x:a):treemapSlice(o,e,r,x?e+=s*l/x:i,a),x-=l,v=_}return y}var squarify=function t(n){function e(t,e,r,i,a){squarifyRatio(n,t,e,r,i,a)}return e.ratio=function(n){return t((n=+n)>1?n:1)},e}(phi);function index$3(){var t=squarify,n=!1,e=1,r=1,i=[0],a=constantZero,o=constantZero,c=constantZero,s=constantZero,u=constantZero;function l(t){return t.x0=t.y0=0,t.x1=e,t.y1=r,t.eachBefore(f),i=[0],n&&t.eachBefore(roundNode),t}function f(n){var e=i[n.depth],r=n.x0+e,l=n.y0+e,f=n.x1-e,h=n.y1-e;f<r&&(r=f=(r+f)/2),h<l&&(l=h=(l+h)/2),n.x0=r,n.y0=l,n.x1=f,n.y1=h,n.children&&(e=i[n.depth+1]=a(n)/2,r+=u(n)-e,l+=o(n)-e,(f-=c(n)-e)<r&&(r=f=(r+f)/2),(h-=s(n)-e)<l&&(l=h=(l+h)/2),t(n,r,l,f,h))}return l.round=function(t){return arguments.length?(n=!!t,l):n},l.size=function(t){return arguments.length?(e=+t[0],r=+t[1],l):[e,r]},l.tile=function(n){return arguments.length?(t=required(n),l):t},l.padding=function(t){return arguments.length?l.paddingInner(t).paddingOuter(t):l.paddingInner()},l.paddingInner=function(t){return arguments.length?(a="function"==typeof t?t:constant$9(+t),l):a},l.paddingOuter=function(t){return arguments.length?l.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):l.paddingTop()},l.paddingTop=function(t){return arguments.length?(o="function"==typeof t?t:constant$9(+t),l):o},l.paddingRight=function(t){return arguments.length?(c="function"==typeof t?t:constant$9(+t),l):c},l.paddingBottom=function(t){return arguments.length?(s="function"==typeof t?t:constant$9(+t),l):s},l.paddingLeft=function(t){return arguments.length?(u="function"==typeof t?t:constant$9(+t),l):u},l}function binary(t,n,e,r,i){var a,o,c=t.children,s=c.length,u=new Array(s+1);for(u[0]=o=a=0;a<s;++a)u[a+1]=o+=c[a].value;!function t(n,e,r,i,a,o,s){if(n>=e-1){var l=c[n];return l.x0=i,l.y0=a,l.x1=o,void(l.y1=s)}var f=u[n],h=r/2+f,d=n+1,p=e-1;for(;d<p;){var m=d+p>>>1;u[m]<h?d=m+1:p=m}h-u[d-1]<u[d]-h&&n+1<d&&--d;var g=u[d]-f,y=r-g;if(o-i>s-a){var b=(i*y+o*g)/r;t(n,d,g,i,a,b,s),t(d,e,y,b,a,o,s)}else{var v=(a*y+s*g)/r;t(n,d,g,i,a,o,v),t(d,e,y,i,v,o,s)}}(0,s,t.value,n,e,r,i)}function sliceDice(t,n,e,r,i){(1&t.depth?treemapSlice:treemapDice)(t,n,e,r,i)}var resquarify=function t(n){function e(t,e,r,i,a){if((o=t._squarify)&&o.ratio===n)for(var o,c,s,u,l,f=-1,h=o.length,d=t.value;++f<h;){for(s=(c=o[f]).children,u=c.value=0,l=s.length;u<l;++u)c.value+=s[u].value;c.dice?treemapDice(c,e,r,i,r+=(a-r)*c.value/d):treemapSlice(c,e,r,e+=(i-e)*c.value/d,a),d-=c.value}else t._squarify=o=squarifyRatio(n,t,e,r,i,a),o.ratio=n}return e.ratio=function(n){return t((n=+n)>1?n:1)},e}(phi);function area$2(t){for(var n,e=-1,r=t.length,i=t[r-1],a=0;++e<r;)n=i,i=t[e],a+=n[1]*i[0]-n[0]*i[1];return a/2}function centroid$1(t){for(var n,e,r=-1,i=t.length,a=0,o=0,c=t[i-1],s=0;++r<i;)n=c,c=t[r],s+=e=n[0]*c[1]-c[0]*n[1],a+=(n[0]+c[0])*e,o+=(n[1]+c[1])*e;return[a/(s*=3),o/s]}function cross$1(t,n,e){return(n[0]-t[0])*(e[1]-t[1])-(n[1]-t[1])*(e[0]-t[0])}function lexicographicOrder(t,n){return t[0]-n[0]||t[1]-n[1]}function computeUpperHullIndexes(t){for(var n=t.length,e=[0,1],r=2,i=2;i<n;++i){for(;r>1&&cross$1(t[e[r-2]],t[e[r-1]],t[i])<=0;)--r;e[r++]=i}return e.slice(0,r)}function hull(t){if((e=t.length)<3)return null;var n,e,r=new Array(e),i=new Array(e);for(n=0;n<e;++n)r[n]=[+t[n][0],+t[n][1],n];for(r.sort(lexicographicOrder),n=0;n<e;++n)i[n]=[r[n][0],-r[n][1]];var a=computeUpperHullIndexes(r),o=computeUpperHullIndexes(i),c=o[0]===a[0],s=o[o.length-1]===a[a.length-1],u=[];for(n=a.length-1;n>=0;--n)u.push(t[r[a[n]][2]]);for(n=+c;n<o.length-s;++n)u.push(t[r[o[n]][2]]);return u}function contains$2(t,n){for(var e,r,i=t.length,a=t[i-1],o=n[0],c=n[1],s=a[0],u=a[1],l=!1,f=0;f<i;++f)e=(a=t[f])[0],(r=a[1])>c!=u>c&&o<(s-e)*(c-r)/(u-r)+e&&(l=!l),s=e,u=r;return l}function length$2(t){for(var n,e,r=-1,i=t.length,a=t[i-1],o=a[0],c=a[1],s=0;++r<i;)n=o,e=c,n-=o=(a=t[r])[0],e-=c=a[1],s+=Math.sqrt(n*n+e*e);return s}function defaultSource$1(){return Math.random()}var uniform=function t(n){function e(t,e){return t=null==t?0:+t,e=null==e?1:+e,1===arguments.length?(e=t,t=0):e-=t,function(){return n()*e+t}}return e.source=t,e}(defaultSource$1),normal=function t(n){function e(t,e){var r,i;return t=null==t?0:+t,e=null==e?1:+e,function(){var a;if(null!=r)a=r,r=null;else do{r=2*n()-1,a=2*n()-1,i=r*r+a*a}while(!i||i>1);return t+e*a*Math.sqrt(-2*Math.log(i)/i)}}return e.source=t,e}(defaultSource$1),logNormal=function t(n){function e(){var t=normal.source(n).apply(this,arguments);return function(){return Math.exp(t())}}return e.source=t,e}(defaultSource$1),irwinHall=function t(n){function e(t){return function(){for(var e=0,r=0;r<t;++r)e+=n();return e}}return e.source=t,e}(defaultSource$1),bates=function t(n){function e(t){var e=irwinHall.source(n)(t);return function(){return e()/t}}return e.source=t,e}(defaultSource$1),exponential$1=function t(n){function e(t){return function(){return-Math.log(1-n())/t}}return e.source=t,e}(defaultSource$1);function initRange(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}function initInterpolator(t,n){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(n).domain(t)}return this}var array$3=Array.prototype,map$2=array$3.map,slice$5=array$3.slice,implicit={name:"implicit"};function ordinal(){var t=map$1(),n=[],e=[],r=implicit;function i(i){var a=i+"",o=t.get(a);if(!o){if(r!==implicit)return r;t.set(a,o=n.push(i))}return e[(o-1)%e.length]}return i.domain=function(e){if(!arguments.length)return n.slice();n=[],t=map$1();for(var r,a,o=-1,c=e.length;++o<c;)t.has(a=(r=e[o])+"")||t.set(a,n.push(r));return i},i.range=function(t){return arguments.length?(e=slice$5.call(t),i):e.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return ordinal(n,e).unknown(r)},initRange.apply(i,arguments),i}function band(){var t,n,e=ordinal().unknown(void 0),r=e.domain,i=e.range,a=[0,1],o=!1,c=0,s=0,u=.5;function l(){var e=r().length,l=a[1]<a[0],f=a[l-0],h=a[1-l];t=(h-f)/Math.max(1,e-c+2*s),o&&(t=Math.floor(t)),f+=(h-f-t*(e-c))*u,n=t*(1-c),o&&(f=Math.round(f),n=Math.round(n));var d=sequence(e).map(function(n){return f+t*n});return i(l?d.reverse():d)}return delete e.unknown,e.domain=function(t){return arguments.length?(r(t),l()):r()},e.range=function(t){return arguments.length?(a=[+t[0],+t[1]],l()):a.slice()},e.rangeRound=function(t){return a=[+t[0],+t[1]],o=!0,l()},e.bandwidth=function(){return n},e.step=function(){return t},e.round=function(t){return arguments.length?(o=!!t,l()):o},e.padding=function(t){return arguments.length?(c=Math.min(1,s=+t),l()):c},e.paddingInner=function(t){return arguments.length?(c=Math.min(1,t),l()):c},e.paddingOuter=function(t){return arguments.length?(s=+t,l()):s},e.align=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),l()):u},e.copy=function(){return band(r(),a).round(o).paddingInner(c).paddingOuter(s).align(u)},initRange.apply(l(),arguments)}function pointish(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return pointish(n())},t}function point$1(){return pointish(band.apply(null,arguments).paddingInner(1))}function constant$a(t){return function(){return t}}function number$2(t){return+t}var unit=[0,1];function identity$6(t){return t}function normalize(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:constant$a(isNaN(n)?NaN:.5)}function clamper(t){var n,e=t[0],r=t[t.length-1];return e>r&&(n=e,e=r,r=n),function(t){return Math.max(e,Math.min(r,t))}}function bimap(t,n,e){var r=t[0],i=t[1],a=n[0],o=n[1];return i<r?(r=normalize(i,r),a=e(o,a)):(r=normalize(r,i),a=e(a,o)),function(t){return a(r(t))}}function polymap(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++o<r;)i[o]=normalize(t[o],t[o+1]),a[o]=e(n[o],n[o+1]);return function(n){var e=bisectRight(t,n,1,r)-1;return a[e](i[e](n))}}function copy(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function transformer$1(){var t,n,e,r,i,a,o=unit,c=unit,s=interpolateValue,u=identity$6;function l(){return r=Math.min(o.length,c.length)>2?polymap:bimap,i=a=null,f}function f(n){return isNaN(n=+n)?e:(i||(i=r(o.map(t),c,s)))(t(u(n)))}return f.invert=function(e){return u(n((a||(a=r(c,o.map(t),interpolateNumber)))(e)))},f.domain=function(t){return arguments.length?(o=map$2.call(t,number$2),u===identity$6||(u=clamper(o)),l()):o.slice()},f.range=function(t){return arguments.length?(c=slice$5.call(t),l()):c.slice()},f.rangeRound=function(t){return c=slice$5.call(t),s=interpolateRound,l()},f.clamp=function(t){return arguments.length?(u=t?clamper(o):identity$6,f):u!==identity$6},f.interpolate=function(t){return arguments.length?(s=t,l()):s},f.unknown=function(t){return arguments.length?(e=t,f):e},function(e,r){return t=e,n=r,l()}}function continuous(t,n){return transformer$1()(t,n)}function tickFormat(t,n,e,r){var i,a=tickStep(t,n,e);switch((r=formatSpecifier(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(i=precisionPrefix(a,o))||(r.precision=i),formatPrefix(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=precisionRound(a,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=precisionFixed(a))||(r.precision=i-2*("%"===r.type))}return format(r)}function linearish(t){var n=t.domain;return t.ticks=function(t){var e=n();return ticks(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return tickFormat(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,i=n(),a=0,o=i.length-1,c=i[a],s=i[o];return s<c&&(r=c,c=s,s=r,r=a,a=o,o=r),(r=tickIncrement(c,s,e))>0?r=tickIncrement(c=Math.floor(c/r)*r,s=Math.ceil(s/r)*r,e):r<0&&(r=tickIncrement(c=Math.ceil(c*r)/r,s=Math.floor(s*r)/r,e)),r>0?(i[a]=Math.floor(c/r)*r,i[o]=Math.ceil(s/r)*r,n(i)):r<0&&(i[a]=Math.ceil(c*r)/r,i[o]=Math.floor(s*r)/r,n(i)),t},t}function linear$2(){var t=continuous(identity$6,identity$6);return t.copy=function(){return copy(t,linear$2())},initRange.apply(t,arguments),linearish(t)}function identity$7(t){var n;function e(t){return isNaN(t=+t)?n:t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=map$2.call(n,number$2),e):t.slice()},e.unknown=function(t){return arguments.length?(n=t,e):n},e.copy=function(){return identity$7(t).unknown(n)},t=arguments.length?map$2.call(t,number$2):[0,1],linearish(e)}function nice(t,n){var e,r=0,i=(t=t.slice()).length-1,a=t[r],o=t[i];return o<a&&(e=r,r=i,i=e,e=a,a=o,o=e),t[r]=n.floor(a),t[i]=n.ceil(o),t}function transformLog(t){return Math.log(t)}function transformExp(t){return Math.exp(t)}function transformLogn(t){return-Math.log(-t)}function transformExpn(t){return-Math.exp(-t)}function pow10(t){return isFinite(t)?+("1e"+t):t<0?0:t}function powp(t){return 10===t?pow10:t===Math.E?Math.exp:function(n){return Math.pow(t,n)}}function logp(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(n){return Math.log(n)/t})}function reflect(t){return function(n){return-t(-n)}}function loggish(t){var n,e,r=t(transformLog,transformExp),i=r.domain,a=10;function o(){return n=logp(a),e=powp(a),i()[0]<0?(n=reflect(n),e=reflect(e),t(transformLogn,transformExpn)):t(transformLog,transformExp),r}return r.base=function(t){return arguments.length?(a=+t,o()):a},r.domain=function(t){return arguments.length?(i(t),o()):i()},r.ticks=function(t){var r,o=i(),c=o[0],s=o[o.length-1];(r=s<c)&&(h=c,c=s,s=h);var u,l,f,h=n(c),d=n(s),p=null==t?10:+t,m=[];if(!(a%1)&&d-h<p){if(h=Math.round(h)-1,d=Math.round(d)+1,c>0){for(;h<d;++h)for(l=1,u=e(h);l<a;++l)if(!((f=u*l)<c)){if(f>s)break;m.push(f)}}else for(;h<d;++h)for(l=a-1,u=e(h);l>=1;--l)if(!((f=u*l)<c)){if(f>s)break;m.push(f)}}else m=ticks(h,d,Math.min(d-h,p)).map(e);return r?m.reverse():m},r.tickFormat=function(t,i){if(null==i&&(i=10===a?".0e":","),"function"!=typeof i&&(i=format(i)),t===1/0)return i;null==t&&(t=10);var o=Math.max(1,a*t/r.ticks().length);return function(t){var r=t/e(Math.round(n(t)));return r*a<a-.5&&(r*=a),r<=o?i(t):""}},r.nice=function(){return i(nice(i(),{floor:function(t){return e(Math.floor(n(t)))},ceil:function(t){return e(Math.ceil(n(t)))}}))},r}function log$1(){var t=loggish(transformer$1()).domain([1,10]);return t.copy=function(){return copy(t,log$1()).base(t.base())},initRange.apply(t,arguments),t}function transformSymlog(t){return function(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))}}function transformSymexp(t){return function(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}function symlogish(t){var n=1,e=t(transformSymlog(n),transformSymexp(n));return e.constant=function(e){return arguments.length?t(transformSymlog(n=+e),transformSymexp(n)):n},linearish(e)}function symlog(){var t=symlogish(transformer$1());return t.copy=function(){return copy(t,symlog()).constant(t.constant())},initRange.apply(t,arguments)}function transformPow(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function transformSqrt(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function transformSquare(t){return t<0?-t*t:t*t}function powish(t){var n=t(identity$6,identity$6),e=1;return n.exponent=function(n){return arguments.length?1===(e=+n)?t(identity$6,identity$6):.5===e?t(transformSqrt,transformSquare):t(transformPow(e),transformPow(1/e)):e},linearish(n)}function pow$1(){var t=powish(transformer$1());return t.copy=function(){return copy(t,pow$1()).exponent(t.exponent())},initRange.apply(t,arguments),t}function sqrt$1(){return pow$1.apply(null,arguments).exponent(.5)}function quantile$$1(){var t,n=[],e=[],r=[];function i(){var t=0,i=Math.max(1,e.length);for(r=new Array(i-1);++t<i;)r[t-1]=threshold(n,t/i);return a}function a(n){return isNaN(n=+n)?t:e[bisectRight(r,n)]}return a.invertExtent=function(t){var i=e.indexOf(t);return i<0?[NaN,NaN]:[i>0?r[i-1]:n[0],i<r.length?r[i]:n[n.length-1]]},a.domain=function(t){if(!arguments.length)return n.slice();n=[];for(var e,r=0,a=t.length;r<a;++r)null==(e=t[r])||isNaN(e=+e)||n.push(e);return n.sort(ascending),i()},a.range=function(t){return arguments.length?(e=slice$5.call(t),i()):e.slice()},a.unknown=function(n){return arguments.length?(t=n,a):t},a.quantiles=function(){return r.slice()},a.copy=function(){return quantile$$1().domain(n).range(e).unknown(t)},initRange.apply(a,arguments)}function quantize$1(){var t,n=0,e=1,r=1,i=[.5],a=[0,1];function o(n){return n<=n?a[bisectRight(i,n,0,r)]:t}function c(){var t=-1;for(i=new Array(r);++t<r;)i[t]=((t+1)*e-(t-r)*n)/(r+1);return o}return o.domain=function(t){return arguments.length?(n=+t[0],e=+t[1],c()):[n,e]},o.range=function(t){return arguments.length?(r=(a=slice$5.call(t)).length-1,c()):a.slice()},o.invertExtent=function(t){var o=a.indexOf(t);return o<0?[NaN,NaN]:o<1?[n,i[0]]:o>=r?[i[r-1],e]:[i[o-1],i[o]]},o.unknown=function(n){return arguments.length?(t=n,o):o},o.thresholds=function(){return i.slice()},o.copy=function(){return quantize$1().domain([n,e]).range(a).unknown(t)},initRange.apply(linearish(o),arguments)}function threshold$1(){var t,n=[.5],e=[0,1],r=1;function i(i){return i<=i?e[bisectRight(n,i,0,r)]:t}return i.domain=function(t){return arguments.length?(n=slice$5.call(t),r=Math.min(n.length,e.length-1),i):n.slice()},i.range=function(t){return arguments.length?(e=slice$5.call(t),r=Math.min(n.length,e.length-1),i):e.slice()},i.invertExtent=function(t){var r=e.indexOf(t);return[n[r-1],n[r]]},i.unknown=function(n){return arguments.length?(t=n,i):t},i.copy=function(){return threshold$1().domain(n).range(e).unknown(t)},initRange.apply(i,arguments)}var t0$1=new Date,t1$1=new Date;function newInterval(t,n,e,r){function i(n){return t(n=new Date(+n)),n}return i.floor=i,i.ceil=function(e){return t(e=new Date(e-1)),n(e,1),t(e),e},i.round=function(t){var n=i(t),e=i.ceil(t);return t-n<e-t?n:e},i.offset=function(t,e){return n(t=new Date(+t),null==e?1:Math.floor(e)),t},i.range=function(e,r,a){var o,c=[];if(e=i.ceil(e),a=null==a?1:Math.floor(a),!(e<r&&a>0))return c;do{c.push(o=new Date(+e)),n(e,a),t(e)}while(o<e&&e<r);return c},i.filter=function(e){return newInterval(function(n){if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)},function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;n(t,-1),!e(t););else for(;--r>=0;)for(;n(t,1),!e(t););})},e&&(i.count=function(n,r){return t0$1.setTime(+n),t1$1.setTime(+r),t(t0$1),t(t1$1),Math.floor(e(t0$1,t1$1))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(n){return r(n)%t==0}:function(n){return i.count(0,n)%t==0}):i:null}),i}var millisecond=newInterval(function(){},function(t,n){t.setTime(+t+n)},function(t,n){return n-t});millisecond.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?newInterval(function(n){n.setTime(Math.floor(n/t)*t)},function(n,e){n.setTime(+n+e*t)},function(n,e){return(e-n)/t}):millisecond:null};var milliseconds=millisecond.range,durationSecond=1e3,durationMinute=6e4,durationHour=36e5,durationDay=864e5,durationWeek=6048e5,second=newInterval(function(t){t.setTime(t-t.getMilliseconds())},function(t,n){t.setTime(+t+n*durationSecond)},function(t,n){return(n-t)/durationSecond},function(t){return t.getUTCSeconds()}),seconds=second.range,minute=newInterval(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*durationSecond)},function(t,n){t.setTime(+t+n*durationMinute)},function(t,n){return(n-t)/durationMinute},function(t){return t.getMinutes()}),minutes=minute.range,hour=newInterval(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*durationSecond-t.getMinutes()*durationMinute)},function(t,n){t.setTime(+t+n*durationHour)},function(t,n){return(n-t)/durationHour},function(t){return t.getHours()}),hours=hour.range,day=newInterval(function(t){t.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*durationMinute)/durationDay},function(t){return t.getDate()-1}),days=day.range;function weekday(t){return newInterval(function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+7*n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*durationMinute)/durationWeek})}var sunday=weekday(0),monday=weekday(1),tuesday=weekday(2),wednesday=weekday(3),thursday=weekday(4),friday=weekday(5),saturday=weekday(6),sundays=sunday.range,mondays=monday.range,tuesdays=tuesday.range,wednesdays=wednesday.range,thursdays=thursday.range,fridays=friday.range,saturdays=saturday.range,month=newInterval(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,n){t.setMonth(t.getMonth()+n)},function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),months=month.range,year=newInterval(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n)},function(t,n){return n.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});year.every=function(t){return isFinite(t=Math.floor(t))&&t>0?newInterval(function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,e){n.setFullYear(n.getFullYear()+e*t)}):null};var years=year.range,utcMinute=newInterval(function(t){t.setUTCSeconds(0,0)},function(t,n){t.setTime(+t+n*durationMinute)},function(t,n){return(n-t)/durationMinute},function(t){return t.getUTCMinutes()}),utcMinutes=utcMinute.range,utcHour=newInterval(function(t){t.setUTCMinutes(0,0,0)},function(t,n){t.setTime(+t+n*durationHour)},function(t,n){return(n-t)/durationHour},function(t){return t.getUTCHours()}),utcHours=utcHour.range,utcDay=newInterval(function(t){t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n)},function(t,n){return(n-t)/durationDay},function(t){return t.getUTCDate()-1}),utcDays=utcDay.range;function utcWeekday(t){return newInterval(function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+7*n)},function(t,n){return(n-t)/durationWeek})}var utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6),utcSundays=utcSunday.range,utcMondays=utcMonday.range,utcTuesdays=utcTuesday.range,utcWednesdays=utcWednesday.range,utcThursdays=utcThursday.range,utcFridays=utcFriday.range,utcSaturdays=utcSaturday.range,utcMonth=newInterval(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCMonth(t.getUTCMonth()+n)},function(t,n){return n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),utcMonths=utcMonth.range,utcYear=newInterval(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)},function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});utcYear.every=function(t){return isFinite(t=Math.floor(t))&&t>0?newInterval(function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,e){n.setUTCFullYear(n.getUTCFullYear()+e*t)}):null};var utcYears=utcYear.range;function localDate(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function utcDate(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function newYear(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function formatLocale$1(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,c=t.months,s=t.shortMonths,u=formatRe(i),l=formatLookup(i),f=formatRe(a),h=formatLookup(a),d=formatRe(o),p=formatLookup(o),m=formatRe(c),g=formatLookup(c),y=formatRe(s),b=formatLookup(s),v={a:function(t){return o[t.getDay()]},A:function(t){return a[t.getDay()]},b:function(t){return s[t.getMonth()]},B:function(t){return c[t.getMonth()]},c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:function(t){return i[+(t.getHours()>=12)]},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear$1,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},_={a:function(t){return o[t.getUTCDay()]},A:function(t){return a[t.getUTCDay()]},b:function(t){return s[t.getUTCMonth()]},B:function(t){return c[t.getUTCMonth()]},c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:function(t){return i[+(t.getUTCHours()>=12)]},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},$={a:function(t,n,e){var r=d.exec(n.slice(e));return r?(t.w=p[r[0].toLowerCase()],e+r[0].length):-1},A:function(t,n,e){var r=f.exec(n.slice(e));return r?(t.w=h[r[0].toLowerCase()],e+r[0].length):-1},b:function(t,n,e){var r=y.exec(n.slice(e));return r?(t.m=b[r[0].toLowerCase()],e+r[0].length):-1},B:function(t,n,e){var r=m.exec(n.slice(e));return r?(t.m=g[r[0].toLowerCase()],e+r[0].length):-1},c:function(t,e,r){return M(t,n,e,r)},d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:function(t,n,e){var r=u.exec(n.slice(e));return r?(t.p=l[r[0].toLowerCase()],e+r[0].length):-1},Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:function(t,n,r){return M(t,e,n,r)},X:function(t,n,e){return M(t,r,n,e)},y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};function x(t,n){return function(e){var r,i,a,o=[],c=-1,s=0,u=t.length;for(e instanceof Date||(e=new Date(+e));++c<u;)37===t.charCodeAt(c)&&(o.push(t.slice(s,c)),null!=(i=pads[r=t.charAt(++c)])?r=t.charAt(++c):i="e"===r?" ":"0",(a=n[r])&&(r=a(e,i)),o.push(r),s=c+1);return o.push(t.slice(s,c)),o.join("")}}function w(t,n){return function(e){var r,i,a=newYear(1900);if(M(a,t,e+="",0)!=e.length)return null;if("Q"in a)return new Date(a.Q);if("p"in a&&(a.H=a.H%12+12*a.p),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(r=utcDate(newYear(a.y))).getUTCDay(),r=i>4||0===i?utcMonday.ceil(r):utcMonday(r),r=utcDay.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(i=(r=n(newYear(a.y))).getDay(),r=i>4||0===i?monday.ceil(r):monday(r),r=day.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?utcDate(newYear(a.y)).getUTCDay():n(newYear(a.y)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,utcDate(a)):n(a)}}function M(t,n,e,r){for(var i,a,o=0,c=n.length,s=e.length;o<c;){if(r>=s)return-1;if(37===(i=n.charCodeAt(o++))){if(i=n.charAt(o++),!(a=$[i in pads?n.charAt(o++):i])||(r=a(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}return v.x=x(e,v),v.X=x(r,v),v.c=x(n,v),_.x=x(e,_),_.X=x(r,_),_.c=x(n,_),{format:function(t){var n=x(t+="",v);return n.toString=function(){return t},n},parse:function(t){var n=w(t+="",localDate);return n.toString=function(){return t},n},utcFormat:function(t){var n=x(t+="",_);return n.toString=function(){return t},n},utcParse:function(t){var n=w(t,utcDate);return n.toString=function(){return t},n}}}var locale$1,timeFormat,timeParse,utcFormat,utcParse,pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad$1(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<e?new Array(e-a+1).join(n)+i:i)}function requote(t){return t.replace(requoteRe,"\\$&")}function formatRe(t){return new RegExp("^(?:"+t.map(requote).join("|")+")","i")}function formatLookup(t){for(var n={},e=-1,r=t.length;++e<r;)n[t[e].toLowerCase()]=e;return n}function parseWeekdayNumberSunday(t,n,e){var r=numberRe.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function parseWeekdayNumberMonday(t,n,e){var r=numberRe.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function parseWeekNumberSunday(t,n,e){var r=numberRe.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function parseWeekNumberISO(t,n,e){var r=numberRe.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function parseWeekNumberMonday(t,n,e){var r=numberRe.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function parseFullYear(t,n,e){var r=numberRe.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function parseYear(t,n,e){var r=numberRe.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function parseZone(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function parseMonthNumber(t,n,e){var r=numberRe.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function parseDayOfMonth(t,n,e){var r=numberRe.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function parseDayOfYear(t,n,e){var r=numberRe.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function parseHour24(t,n,e){var r=numberRe.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function parseMinutes(t,n,e){var r=numberRe.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function parseSeconds(t,n,e){var r=numberRe.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function parseMilliseconds(t,n,e){var r=numberRe.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function parseMicroseconds(t,n,e){var r=numberRe.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function parseLiteralPercent(t,n,e){var r=percentRe.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function parseUnixTimestamp(t,n,e){var r=numberRe.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function parseUnixTimestampSeconds(t,n,e){var r=numberRe.exec(n.slice(e));return r?(t.Q=1e3*+r[0],e+r[0].length):-1}function formatDayOfMonth(t,n){return pad$1(t.getDate(),n,2)}function formatHour24(t,n){return pad$1(t.getHours(),n,2)}function formatHour12(t,n){return pad$1(t.getHours()%12||12,n,2)}function formatDayOfYear(t,n){return pad$1(1+day.count(year(t),t),n,3)}function formatMilliseconds(t,n){return pad$1(t.getMilliseconds(),n,3)}function formatMicroseconds(t,n){return formatMilliseconds(t,n)+"000"}function formatMonthNumber(t,n){return pad$1(t.getMonth()+1,n,2)}function formatMinutes(t,n){return pad$1(t.getMinutes(),n,2)}function formatSeconds(t,n){return pad$1(t.getSeconds(),n,2)}function formatWeekdayNumberMonday(t){var n=t.getDay();return 0===n?7:n}function formatWeekNumberSunday(t,n){return pad$1(sunday.count(year(t),t),n,2)}function formatWeekNumberISO(t,n){var e=t.getDay();return t=e>=4||0===e?thursday(t):thursday.ceil(t),pad$1(thursday.count(year(t),t)+(4===year(t).getDay()),n,2)}function formatWeekdayNumberSunday(t){return t.getDay()}function formatWeekNumberMonday(t,n){return pad$1(monday.count(year(t),t),n,2)}function formatYear$1(t,n){return pad$1(t.getFullYear()%100,n,2)}function formatFullYear(t,n){return pad$1(t.getFullYear()%1e4,n,4)}function formatZone(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+pad$1(n/60|0,"0",2)+pad$1(n%60,"0",2)}function formatUTCDayOfMonth(t,n){return pad$1(t.getUTCDate(),n,2)}function formatUTCHour24(t,n){return pad$1(t.getUTCHours(),n,2)}function formatUTCHour12(t,n){return pad$1(t.getUTCHours()%12||12,n,2)}function formatUTCDayOfYear(t,n){return pad$1(1+utcDay.count(utcYear(t),t),n,3)}function formatUTCMilliseconds(t,n){return pad$1(t.getUTCMilliseconds(),n,3)}function formatUTCMicroseconds(t,n){return formatUTCMilliseconds(t,n)+"000"}function formatUTCMonthNumber(t,n){return pad$1(t.getUTCMonth()+1,n,2)}function formatUTCMinutes(t,n){return pad$1(t.getUTCMinutes(),n,2)}function formatUTCSeconds(t,n){return pad$1(t.getUTCSeconds(),n,2)}function formatUTCWeekdayNumberMonday(t){var n=t.getUTCDay();return 0===n?7:n}function formatUTCWeekNumberSunday(t,n){return pad$1(utcSunday.count(utcYear(t),t),n,2)}function formatUTCWeekNumberISO(t,n){var e=t.getUTCDay();return t=e>=4||0===e?utcThursday(t):utcThursday.ceil(t),pad$1(utcThursday.count(utcYear(t),t)+(4===utcYear(t).getUTCDay()),n,2)}function formatUTCWeekdayNumberSunday(t){return t.getUTCDay()}function formatUTCWeekNumberMonday(t,n){return pad$1(utcMonday.count(utcYear(t),t),n,2)}function formatUTCYear(t,n){return pad$1(t.getUTCFullYear()%100,n,2)}function formatUTCFullYear(t,n){return pad$1(t.getUTCFullYear()%1e4,n,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(t){return+t}function formatUnixTimestampSeconds(t){return Math.floor(+t/1e3)}function defaultLocale$1(t){return locale$1=formatLocale$1(t),timeFormat=locale$1.format,timeParse=locale$1.parse,utcFormat=locale$1.utcFormat,utcParse=locale$1.utcParse,locale$1}defaultLocale$1({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var isoSpecifier="%Y-%m-%dT%H:%M:%S.%LZ";function formatIsoNative(t){return t.toISOString()}var formatIso=Date.prototype.toISOString?formatIsoNative:utcFormat(isoSpecifier);function parseIsoNative(t){var n=new Date(t);return isNaN(n)?null:n}var parseIso=+new Date("2000-01-01T00:00:00.000Z")?parseIsoNative:utcParse(isoSpecifier),durationSecond$1=1e3,durationMinute$1=60*durationSecond$1,durationHour$1=60*durationMinute$1,durationDay$1=24*durationHour$1,durationWeek$1=7*durationDay$1,durationMonth=30*durationDay$1,durationYear=365*durationDay$1;function date$1(t){return new Date(t)}function number$3(t){return t instanceof Date?+t:+new Date(+t)}function calendar(t,n,e,r,i,a,o,c,s){var u=continuous(identity$6,identity$6),l=u.invert,f=u.domain,h=s(".%L"),d=s(":%S"),p=s("%I:%M"),m=s("%I %p"),g=s("%a %d"),y=s("%b %d"),b=s("%B"),v=s("%Y"),_=[[o,1,durationSecond$1],[o,5,5*durationSecond$1],[o,15,15*durationSecond$1],[o,30,30*durationSecond$1],[a,1,durationMinute$1],[a,5,5*durationMinute$1],[a,15,15*durationMinute$1],[a,30,30*durationMinute$1],[i,1,durationHour$1],[i,3,3*durationHour$1],[i,6,6*durationHour$1],[i,12,12*durationHour$1],[r,1,durationDay$1],[r,2,2*durationDay$1],[e,1,durationWeek$1],[n,1,durationMonth],[n,3,3*durationMonth],[t,1,durationYear]];function $(c){return(o(c)<c?h:a(c)<c?d:i(c)<c?p:r(c)<c?m:n(c)<c?e(c)<c?g:y:t(c)<c?b:v)(c)}function x(n,e,r,i){if(null==n&&(n=10),"number"==typeof n){var a=Math.abs(r-e)/n,o=bisector(function(t){return t[2]}).right(_,a);o===_.length?(i=tickStep(e/durationYear,r/durationYear,n),n=t):o?(i=(o=_[a/_[o-1][2]<_[o][2]/a?o-1:o])[1],n=o[0]):(i=Math.max(tickStep(e,r,n),1),n=c)}return null==i?n:n.every(i)}return u.invert=function(t){return new Date(l(t))},u.domain=function(t){return arguments.length?f(map$2.call(t,number$3)):f().map(date$1)},u.ticks=function(t,n){var e,r=f(),i=r[0],a=r[r.length-1],o=a<i;return o&&(e=i,i=a,a=e),e=(e=x(t,i,a,n))?e.range(i,a+1):[],o?e.reverse():e},u.tickFormat=function(t,n){return null==n?$:s(n)},u.nice=function(t,n){var e=f();return(t=x(t,e[0],e[e.length-1],n))?f(nice(e,t)):u},u.copy=function(){return copy(u,calendar(t,n,e,r,i,a,o,c,s))},u}function time(){return initRange.apply(calendar(year,month,sunday,day,hour,minute,second,millisecond,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function utcTime(){return initRange.apply(calendar(utcYear,utcMonth,utcSunday,utcDay,utcHour,utcMinute,second,millisecond,utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function transformer$2(){var t,n,e,r,i,a=0,o=1,c=identity$6,s=!1;function u(n){return isNaN(n=+n)?i:c(0===e?.5:(n=(r(n)-t)*e,s?Math.max(0,Math.min(1,n)):n))}return u.domain=function(i){return arguments.length?(t=r(a=+i[0]),n=r(o=+i[1]),e=t===n?0:1/(n-t),u):[a,o]},u.clamp=function(t){return arguments.length?(s=!!t,u):s},u.interpolator=function(t){return arguments.length?(c=t,u):c},u.unknown=function(t){return arguments.length?(i=t,u):i},function(i){return r=i,t=i(a),n=i(o),e=t===n?0:1/(n-t),u}}function copy$1(t,n){return n.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function sequential(){var t=linearish(transformer$2()(identity$6));return t.copy=function(){return copy$1(t,sequential())},initInterpolator.apply(t,arguments)}function sequentialLog(){var t=loggish(transformer$2()).domain([1,10]);return t.copy=function(){return copy$1(t,sequentialLog()).base(t.base())},initInterpolator.apply(t,arguments)}function sequentialSymlog(){var t=symlogish(transformer$2());return t.copy=function(){return copy$1(t,sequentialSymlog()).constant(t.constant())},initInterpolator.apply(t,arguments)}function sequentialPow(){var t=powish(transformer$2());return t.copy=function(){return copy$1(t,sequentialPow()).exponent(t.exponent())},initInterpolator.apply(t,arguments)}function sequentialSqrt(){return sequentialPow.apply(null,arguments).exponent(.5)}function sequentialQuantile(){var t=[],n=identity$6;function e(e){if(!isNaN(e=+e))return n((bisectRight(t,e)-1)/(t.length-1))}return e.domain=function(n){if(!arguments.length)return t.slice();t=[];for(var r,i=0,a=n.length;i<a;++i)null==(r=n[i])||isNaN(r=+r)||t.push(r);return t.sort(ascending),e},e.interpolator=function(t){return arguments.length?(n=t,e):n},e.copy=function(){return sequentialQuantile(n).domain(t)},initInterpolator.apply(e,arguments)}function transformer$3(){var t,n,e,r,i,a,o,c=0,s=.5,u=1,l=identity$6,f=!1;function h(t){return isNaN(t=+t)?o:(t=.5+((t=+a(t))-n)*(t<n?r:i),l(f?Math.max(0,Math.min(1,t)):t))}return h.domain=function(o){return arguments.length?(t=a(c=+o[0]),n=a(s=+o[1]),e=a(u=+o[2]),r=t===n?0:.5/(n-t),i=n===e?0:.5/(e-n),h):[c,s,u]},h.clamp=function(t){return arguments.length?(f=!!t,h):f},h.interpolator=function(t){return arguments.length?(l=t,h):l},h.unknown=function(t){return arguments.length?(o=t,h):o},function(o){return a=o,t=o(c),n=o(s),e=o(u),r=t===n?0:.5/(n-t),i=n===e?0:.5/(e-n),h}}function diverging(){var t=linearish(transformer$3()(identity$6));return t.copy=function(){return copy$1(t,diverging())},initInterpolator.apply(t,arguments)}function divergingLog(){var t=loggish(transformer$3()).domain([.1,1,10]);return t.copy=function(){return copy$1(t,divergingLog()).base(t.base())},initInterpolator.apply(t,arguments)}function divergingSymlog(){var t=symlogish(transformer$3());return t.copy=function(){return copy$1(t,divergingSymlog()).constant(t.constant())},initInterpolator.apply(t,arguments)}function divergingPow(){var t=powish(transformer$3());return t.copy=function(){return copy$1(t,divergingPow()).exponent(t.exponent())},initInterpolator.apply(t,arguments)}function divergingSqrt(){return divergingPow.apply(null,arguments).exponent(.5)}function colors(t){for(var n=t.length/6|0,e=new Array(n),r=0;r<n;)e[r]="#"+t.slice(6*r,6*++r);return e}var category10=colors("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Accent=colors("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Dark2=colors("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Paired=colors("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Pastel1=colors("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Pastel2=colors("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Set1=colors("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Set2=colors("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Set3=colors("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");function ramp(t){return rgbBasis(t[t.length-1])}var scheme=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(colors),BrBG=ramp(scheme),scheme$1=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(colors),PRGn=ramp(scheme$1),scheme$2=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(colors),PiYG=ramp(scheme$2),scheme$3=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(colors),PuOr=ramp(scheme$3),scheme$4=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(colors),RdBu=ramp(scheme$4),scheme$5=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(colors),RdGy=ramp(scheme$5),scheme$6=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(colors),RdYlBu=ramp(scheme$6),scheme$7=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(colors),RdYlGn=ramp(scheme$7),scheme$8=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(colors),Spectral=ramp(scheme$8),scheme$9=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(colors),BuGn=ramp(scheme$9),scheme$a=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(colors),BuPu=ramp(scheme$a),scheme$b=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(colors),GnBu=ramp(scheme$b),scheme$c=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(colors),OrRd=ramp(scheme$c),scheme$d=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(colors),PuBuGn=ramp(scheme$d),scheme$e=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(colors),PuBu=ramp(scheme$e),scheme$f=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(colors),PuRd=ramp(scheme$f),scheme$g=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(colors),RdPu=ramp(scheme$g),scheme$h=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(colors),YlGnBu=ramp(scheme$h),scheme$i=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(colors),YlGn=ramp(scheme$i),scheme$j=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(colors),YlOrBr=ramp(scheme$j),scheme$k=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(colors),YlOrRd=ramp(scheme$k),scheme$l=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(colors),Blues=ramp(scheme$l),scheme$m=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(colors),Greens=ramp(scheme$m),scheme$n=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(colors),Greys=ramp(scheme$n),scheme$o=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(colors),Purples=ramp(scheme$o),scheme$p=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(colors),Reds=ramp(scheme$p),scheme$q=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(colors),Oranges=ramp(scheme$q),cubehelix$3=cubehelixLong(cubehelix(300,.5,0),cubehelix(-240,.5,1)),warm=cubehelixLong(cubehelix(-100,.75,.35),cubehelix(80,1.5,.8)),cool=cubehelixLong(cubehelix(260,.75,.35),cubehelix(80,1.5,.8)),c=cubehelix();function rainbow(t){(t<0||t>1)&&(t-=Math.floor(t));var n=Math.abs(t-.5);return c.h=360*t-100,c.s=1.5-1.5*n,c.l=.8-.9*n,c+""}var c$1=rgb(),pi_1_3=Math.PI/3,pi_2_3=2*Math.PI/3;function sinebow(t){var n;return t=(.5-t)*Math.PI,c$1.r=255*(n=Math.sin(t))*n,c$1.g=255*(n=Math.sin(t+pi_1_3))*n,c$1.b=255*(n=Math.sin(t+pi_2_3))*n,c$1+""}function ramp$1(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}var viridis=ramp$1(colors("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),magma=ramp$1(colors("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),inferno=ramp$1(colors("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),plasma=ramp$1(colors("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function constant$b(t){return function(){return t}}var abs$1=Math.abs,atan2$1=Math.atan2,cos$2=Math.cos,max$2=Math.max,min$1=Math.min,sin$2=Math.sin,sqrt$2=Math.sqrt,epsilon$3=1e-12,pi$4=Math.PI,halfPi$3=pi$4/2,tau$4=2*pi$4;function acos$1(t){return t>1?0:t<-1?pi$4:Math.acos(t)}function asin$1(t){return t>=1?halfPi$3:t<=-1?-halfPi$3:Math.asin(t)}function arcInnerRadius(t){return t.innerRadius}function arcOuterRadius(t){return t.outerRadius}function arcStartAngle(t){return t.startAngle}function arcEndAngle(t){return t.endAngle}function arcPadAngle(t){return t&&t.padAngle}function intersect(t,n,e,r,i,a,o,c){var s=e-t,u=r-n,l=o-i,f=c-a,h=f*s-l*u;if(!(h*h<epsilon$3))return[t+(h=(l*(n-a)-f*(t-i))/h)*s,n+h*u]}function cornerTangents(t,n,e,r,i,a,o){var c=t-e,s=n-r,u=(o?a:-a)/sqrt$2(c*c+s*s),l=u*s,f=-u*c,h=t+l,d=n+f,p=e+l,m=r+f,g=(h+p)/2,y=(d+m)/2,b=p-h,v=m-d,_=b*b+v*v,$=i-a,x=h*m-p*d,w=(v<0?-1:1)*sqrt$2(max$2(0,$*$*_-x*x)),M=(x*v-b*w)/_,S=(-x*b-v*w)/_,R=(x*v+b*w)/_,E=(-x*b+v*w)/_,k=M-g,T=S-y,N=R-g,C=E-y;return k*k+T*T>N*N+C*C&&(M=R,S=E),{cx:M,cy:S,x01:-l,y01:-f,x11:M*(i/$-1),y11:S*(i/$-1)}}function arc(){var t=arcInnerRadius,n=arcOuterRadius,e=constant$b(0),r=null,i=arcStartAngle,a=arcEndAngle,o=arcPadAngle,c=null;function s(){var s,u,l=+t.apply(this,arguments),f=+n.apply(this,arguments),h=i.apply(this,arguments)-halfPi$3,d=a.apply(this,arguments)-halfPi$3,p=abs$1(d-h),m=d>h;if(c||(c=s=path()),f<l&&(u=f,f=l,l=u),f>epsilon$3)if(p>tau$4-epsilon$3)c.moveTo(f*cos$2(h),f*sin$2(h)),c.arc(0,0,f,h,d,!m),l>epsilon$3&&(c.moveTo(l*cos$2(d),l*sin$2(d)),c.arc(0,0,l,d,h,m));else{var g,y,b=h,v=d,_=h,$=d,x=p,w=p,M=o.apply(this,arguments)/2,S=M>epsilon$3&&(r?+r.apply(this,arguments):sqrt$2(l*l+f*f)),R=min$1(abs$1(f-l)/2,+e.apply(this,arguments)),E=R,k=R;if(S>epsilon$3){var T=asin$1(S/l*sin$2(M)),N=asin$1(S/f*sin$2(M));(x-=2*T)>epsilon$3?(_+=T*=m?1:-1,$-=T):(x=0,_=$=(h+d)/2),(w-=2*N)>epsilon$3?(b+=N*=m?1:-1,v-=N):(w=0,b=v=(h+d)/2)}var C=f*cos$2(b),P=f*sin$2(b),A=l*cos$2($),L=l*sin$2($);if(R>epsilon$3){var D,q=f*cos$2(v),I=f*sin$2(v),O=l*cos$2(_),B=l*sin$2(_);if(p<pi$4&&(D=intersect(C,P,O,B,q,I,A,L))){var z=C-D[0],Y=P-D[1],F=q-D[0],U=I-D[1],H=1/sin$2(acos$1((z*F+Y*U)/(sqrt$2(z*z+Y*Y)*sqrt$2(F*F+U*U)))/2),j=sqrt$2(D[0]*D[0]+D[1]*D[1]);E=min$1(R,(l-j)/(H-1)),k=min$1(R,(f-j)/(H+1))}}w>epsilon$3?k>epsilon$3?(g=cornerTangents(O,B,C,P,f,k,m),y=cornerTangents(q,I,A,L,f,k,m),c.moveTo(g.cx+g.x01,g.cy+g.y01),k<R?c.arc(g.cx,g.cy,k,atan2$1(g.y01,g.x01),atan2$1(y.y01,y.x01),!m):(c.arc(g.cx,g.cy,k,atan2$1(g.y01,g.x01),atan2$1(g.y11,g.x11),!m),c.arc(0,0,f,atan2$1(g.cy+g.y11,g.cx+g.x11),atan2$1(y.cy+y.y11,y.cx+y.x11),!m),c.arc(y.cx,y.cy,k,atan2$1(y.y11,y.x11),atan2$1(y.y01,y.x01),!m))):(c.moveTo(C,P),c.arc(0,0,f,b,v,!m)):c.moveTo(C,P),l>epsilon$3&&x>epsilon$3?E>epsilon$3?(g=cornerTangents(A,L,q,I,l,-E,m),y=cornerTangents(C,P,O,B,l,-E,m),c.lineTo(g.cx+g.x01,g.cy+g.y01),E<R?c.arc(g.cx,g.cy,E,atan2$1(g.y01,g.x01),atan2$1(y.y01,y.x01),!m):(c.arc(g.cx,g.cy,E,atan2$1(g.y01,g.x01),atan2$1(g.y11,g.x11),!m),c.arc(0,0,l,atan2$1(g.cy+g.y11,g.cx+g.x11),atan2$1(y.cy+y.y11,y.cx+y.x11),m),c.arc(y.cx,y.cy,E,atan2$1(y.y11,y.x11),atan2$1(y.y01,y.x01),!m))):c.arc(0,0,l,$,_,m):c.lineTo(A,L)}else c.moveTo(0,0);if(c.closePath(),s)return c=null,s+""||null}return s.centroid=function(){var e=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-pi$4/2;return[cos$2(r)*e,sin$2(r)*e]},s.innerRadius=function(n){return arguments.length?(t="function"==typeof n?n:constant$b(+n),s):t},s.outerRadius=function(t){return arguments.length?(n="function"==typeof t?t:constant$b(+t),s):n},s.cornerRadius=function(t){return arguments.length?(e="function"==typeof t?t:constant$b(+t),s):e},s.padRadius=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:constant$b(+t),s):r},s.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:constant$b(+t),s):i},s.endAngle=function(t){return arguments.length?(a="function"==typeof t?t:constant$b(+t),s):a},s.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:constant$b(+t),s):o},s.context=function(t){return arguments.length?(c=null==t?null:t,s):c},s}function Linear(t){this._context=t}function curveLinear(t){return new Linear(t)}function x$3(t){return t[0]}function y$3(t){return t[1]}function line(){var t=x$3,n=y$3,e=constant$b(!0),r=null,i=curveLinear,a=null;function o(o){var c,s,u,l=o.length,f=!1;for(null==r&&(a=i(u=path())),c=0;c<=l;++c)!(c<l&&e(s=o[c],c,o))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+t(s,c,o),+n(s,c,o));if(u)return a=null,u+""||null}return o.x=function(n){return arguments.length?(t="function"==typeof n?n:constant$b(+n),o):t},o.y=function(t){return arguments.length?(n="function"==typeof t?t:constant$b(+t),o):n},o.defined=function(t){return arguments.length?(e="function"==typeof t?t:constant$b(!!t),o):e},o.curve=function(t){return arguments.length?(i=t,null!=r&&(a=i(r)),o):i},o.context=function(t){return arguments.length?(null==t?r=a=null:a=i(r=t),o):r},o}function area$3(){var t=x$3,n=null,e=constant$b(0),r=y$3,i=constant$b(!0),a=null,o=curveLinear,c=null;function s(s){var u,l,f,h,d,p=s.length,m=!1,g=new Array(p),y=new Array(p);for(null==a&&(c=o(d=path())),u=0;u<=p;++u){if(!(u<p&&i(h=s[u],u,s))===m)if(m=!m)l=u,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),f=u-1;f>=l;--f)c.point(g[f],y[f]);c.lineEnd(),c.areaEnd()}m&&(g[u]=+t(h,u,s),y[u]=+e(h,u,s),c.point(n?+n(h,u,s):g[u],r?+r(h,u,s):y[u]))}if(d)return c=null,d+""||null}function u(){return line().defined(i).curve(o).context(a)}return s.x=function(e){return arguments.length?(t="function"==typeof e?e:constant$b(+e),n=null,s):t},s.x0=function(n){return arguments.length?(t="function"==typeof n?n:constant$b(+n),s):t},s.x1=function(t){return arguments.length?(n=null==t?null:"function"==typeof t?t:constant$b(+t),s):n},s.y=function(t){return arguments.length?(e="function"==typeof t?t:constant$b(+t),r=null,s):e},s.y0=function(t){return arguments.length?(e="function"==typeof t?t:constant$b(+t),s):e},s.y1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:constant$b(+t),s):r},s.lineX0=s.lineY0=function(){return u().x(t).y(e)},s.lineY1=function(){return u().x(t).y(r)},s.lineX1=function(){return u().x(n).y(e)},s.defined=function(t){return arguments.length?(i="function"==typeof t?t:constant$b(!!t),s):i},s.curve=function(t){return arguments.length?(o=t,null!=a&&(c=o(a)),s):o},s.context=function(t){return arguments.length?(null==t?a=c=null:c=o(a=t),s):a},s}function descending$1(t,n){return n<t?-1:n>t?1:n>=t?0:NaN}function identity$8(t){return t}function pie(){var t=identity$8,n=descending$1,e=null,r=constant$b(0),i=constant$b(tau$4),a=constant$b(0);function o(o){var c,s,u,l,f,h=o.length,d=0,p=new Array(h),m=new Array(h),g=+r.apply(this,arguments),y=Math.min(tau$4,Math.max(-tau$4,i.apply(this,arguments)-g)),b=Math.min(Math.abs(y)/h,a.apply(this,arguments)),v=b*(y<0?-1:1);for(c=0;c<h;++c)(f=m[p[c]=c]=+t(o[c],c,o))>0&&(d+=f);for(null!=n?p.sort(function(t,e){return n(m[t],m[e])}):null!=e&&p.sort(function(t,n){return e(o[t],o[n])}),c=0,u=d?(y-h*v)/d:0;c<h;++c,g=l)s=p[c],l=g+((f=m[s])>0?f*u:0)+v,m[s]={data:o[s],index:c,value:f,startAngle:g,endAngle:l,padAngle:b};return m}return o.value=function(n){return arguments.length?(t="function"==typeof n?n:constant$b(+n),o):t},o.sortValues=function(t){return arguments.length?(n=t,e=null,o):n},o.sort=function(t){return arguments.length?(e=t,n=null,o):e},o.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:constant$b(+t),o):r},o.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:constant$b(+t),o):i},o.padAngle=function(t){return arguments.length?(a="function"==typeof t?t:constant$b(+t),o):a},o}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}};var curveRadialLinear=curveRadial(curveLinear);function Radial(t){this._curve=t}function curveRadial(t){function n(n){return new Radial(t(n))}return n._curve=t,n}function lineRadial(t){var n=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?n(curveRadial(t)):n()._curve},t}function lineRadial$1(){return lineRadial(line().curve(curveRadialLinear))}function areaRadial(){var t=area$3().curve(curveRadialLinear),n=t.curve,e=t.lineX0,r=t.lineX1,i=t.lineY0,a=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return lineRadial(e())},delete t.lineX0,t.lineEndAngle=function(){return lineRadial(r())},delete t.lineX1,t.lineInnerRadius=function(){return lineRadial(i())},delete t.lineY0,t.lineOuterRadius=function(){return lineRadial(a())},delete t.lineY1,t.curve=function(t){return arguments.length?n(curveRadial(t)):n()._curve},t}function pointRadial(t,n){return[(n=+n)*Math.cos(t-=Math.PI/2),n*Math.sin(t)]}Radial.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,n){this._curve.point(n*Math.sin(t),n*-Math.cos(t))}};var slice$6=Array.prototype.slice;function linkSource(t){return t.source}function linkTarget(t){return t.target}function link$2(t){var n=linkSource,e=linkTarget,r=x$3,i=y$3,a=null;function o(){var o,c=slice$6.call(arguments),s=n.apply(this,c),u=e.apply(this,c);if(a||(a=o=path()),t(a,+r.apply(this,(c[0]=s,c)),+i.apply(this,c),+r.apply(this,(c[0]=u,c)),+i.apply(this,c)),o)return a=null,o+""||null}return o.source=function(t){return arguments.length?(n=t,o):n},o.target=function(t){return arguments.length?(e=t,o):e},o.x=function(t){return arguments.length?(r="function"==typeof t?t:constant$b(+t),o):r},o.y=function(t){return arguments.length?(i="function"==typeof t?t:constant$b(+t),o):i},o.context=function(t){return arguments.length?(a=null==t?null:t,o):a},o}function curveHorizontal(t,n,e,r,i){t.moveTo(n,e),t.bezierCurveTo(n=(n+r)/2,e,n,i,r,i)}function curveVertical(t,n,e,r,i){t.moveTo(n,e),t.bezierCurveTo(n,e=(e+i)/2,r,e,r,i)}function curveRadial$1(t,n,e,r,i){var a=pointRadial(n,e),o=pointRadial(n,e=(e+i)/2),c=pointRadial(r,e),s=pointRadial(r,i);t.moveTo(a[0],a[1]),t.bezierCurveTo(o[0],o[1],c[0],c[1],s[0],s[1])}function linkHorizontal(){return link$2(curveHorizontal)}function linkVertical(){return link$2(curveVertical)}function linkRadial(){var t=link$2(curveRadial$1);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}var circle$2={draw:function(t,n){var e=Math.sqrt(n/pi$4);t.moveTo(e,0),t.arc(0,0,e,0,tau$4)}},cross$2={draw:function(t,n){var e=Math.sqrt(n/5)/2;t.moveTo(-3*e,-e),t.lineTo(-e,-e),t.lineTo(-e,-3*e),t.lineTo(e,-3*e),t.lineTo(e,-e),t.lineTo(3*e,-e),t.lineTo(3*e,e),t.lineTo(e,e),t.lineTo(e,3*e),t.lineTo(-e,3*e),t.lineTo(-e,e),t.lineTo(-3*e,e),t.closePath()}},tan30=Math.sqrt(1/3),tan30_2=2*tan30,diamond={draw:function(t,n){var e=Math.sqrt(n/tan30_2),r=e*tan30;t.moveTo(0,-e),t.lineTo(r,0),t.lineTo(0,e),t.lineTo(-r,0),t.closePath()}},ka=.8908130915292852,kr=Math.sin(pi$4/10)/Math.sin(7*pi$4/10),kx=Math.sin(tau$4/10)*kr,ky=-Math.cos(tau$4/10)*kr,star={draw:function(t,n){var e=Math.sqrt(n*ka),r=kx*e,i=ky*e;t.moveTo(0,-e),t.lineTo(r,i);for(var a=1;a<5;++a){var o=tau$4*a/5,c=Math.cos(o),s=Math.sin(o);t.lineTo(s*e,-c*e),t.lineTo(c*r-s*i,s*r+c*i)}t.closePath()}},square={draw:function(t,n){var e=Math.sqrt(n),r=-e/2;t.rect(r,r,e,e)}},sqrt3=Math.sqrt(3),triangle={draw:function(t,n){var e=-Math.sqrt(n/(3*sqrt3));t.moveTo(0,2*e),t.lineTo(-sqrt3*e,-e),t.lineTo(sqrt3*e,-e),t.closePath()}},c$2=-.5,s=Math.sqrt(3)/2,k=1/Math.sqrt(12),a=3*(k/2+1),wye={draw:function(t,n){var e=Math.sqrt(n/a),r=e/2,i=e*k,o=r,c=e*k+e,u=-o,l=c;t.moveTo(r,i),t.lineTo(o,c),t.lineTo(u,l),t.lineTo(c$2*r-s*i,s*r+c$2*i),t.lineTo(c$2*o-s*c,s*o+c$2*c),t.lineTo(c$2*u-s*l,s*u+c$2*l),t.lineTo(c$2*r+s*i,c$2*i-s*r),t.lineTo(c$2*o+s*c,c$2*c-s*o),t.lineTo(c$2*u+s*l,c$2*l-s*u),t.closePath()}},symbols=[circle$2,cross$2,diamond,square,star,triangle,wye];function symbol(){var t=constant$b(circle$2),n=constant$b(64),e=null;function r(){var r;if(e||(e=r=path()),t.apply(this,arguments).draw(e,+n.apply(this,arguments)),r)return e=null,r+""||null}return r.type=function(n){return arguments.length?(t="function"==typeof n?n:constant$b(n),r):t},r.size=function(t){return arguments.length?(n="function"==typeof t?t:constant$b(+t),r):n},r.context=function(t){return arguments.length?(e=null==t?null:t,r):e},r}function noop$3(){}function point$2(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function Basis(t){this._context=t}function basis$2(t){return new Basis(t)}function BasisClosed(t){this._context=t}function basisClosed$1(t){return new BasisClosed(t)}function BasisOpen(t){this._context=t}function basisOpen(t){return new BasisOpen(t)}function Bundle(t,n){this._basis=new Basis(t),this._beta=n}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$2(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},BasisClosed.prototype={areaStart:noop$3,areaEnd:noop$3,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:point$2(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 3:this._point=4;default:point$2(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},Bundle.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,e=t.length-1;if(e>0)for(var r,i=t[0],a=n[0],o=t[e]-i,c=n[e]-a,s=-1;++s<=e;)r=s/e,this._basis.point(this._beta*t[s]+(1-this._beta)*(i+r*o),this._beta*n[s]+(1-this._beta)*(a+r*c));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};var bundle=function t(n){function e(t){return 1===n?new Basis(t):new Bundle(t,n)}return e.beta=function(n){return t(+n)},e}(.85);function point$3(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function Cardinal(t,n){this._context=t,this._k=(1-n)/6}Cardinal.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:point$3(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:point$3(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var cardinal=function t(n){function e(t){return new Cardinal(t,n)}return e.tension=function(n){return t(+n)},e}(0);function CardinalClosed(t,n){this._context=t,this._k=(1-n)/6}CardinalClosed.prototype={areaStart:noop$3,areaEnd:noop$3,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:point$3(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var cardinalClosed=function t(n){function e(t){return new CardinalClosed(t,n)}return e.tension=function(n){return t(+n)},e}(0);function CardinalOpen(t,n){this._context=t,this._k=(1-n)/6}CardinalOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:point$3(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var cardinalOpen=function t(n){function e(t){return new CardinalOpen(t,n)}return e.tension=function(n){return t(+n)},e}(0);function point$4(t,n,e){var r=t._x1,i=t._y1,a=t._x2,o=t._y2;if(t._l01_a>epsilon$3){var c=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,s=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*c-t._x0*t._l12_2a+t._x2*t._l01_2a)/s,i=(i*c-t._y0*t._l12_2a+t._y2*t._l01_2a)/s}if(t._l23_a>epsilon$3){var u=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*u+t._x1*t._l23_2a-n*t._l12_2a)/l,o=(o*u+t._y1*t._l23_2a-e*t._l12_2a)/l}t._context.bezierCurveTo(r,i,a,o,t._x2,t._y2)}function CatmullRom(t,n){this._context=t,this._alpha=n}CatmullRom.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:point$4(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var catmullRom=function t(n){function e(t){return n?new CatmullRom(t,n):new Cardinal(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function CatmullRomClosed(t,n){this._context=t,this._alpha=n}CatmullRomClosed.prototype={areaStart:noop$3,areaEnd:noop$3,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:point$4(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var catmullRomClosed=function t(n){function e(t){return n?new CatmullRomClosed(t,n):new CardinalClosed(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function CatmullRomOpen(t,n){this._context=t,this._alpha=n}CatmullRomOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:point$4(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var catmullRomOpen=function t(n){function e(t){return n?new CatmullRomOpen(t,n):new CardinalOpen(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function LinearClosed(t){this._context=t}function linearClosed(t){return new LinearClosed(t)}function sign$1(t){return t<0?-1:1}function slope3(t,n,e){var r=t._x1-t._x0,i=n-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(e-t._y1)/(i||r<0&&-0),c=(a*i+o*r)/(r+i);return(sign$1(a)+sign$1(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(c))||0}function slope2(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function point$5(t,n,e){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,c=(a-r)/3;t._context.bezierCurveTo(r+c,i+c*n,a-c,o-c*e,a,o)}function MonotoneX(t){this._context=t}function MonotoneY(t){this._context=new ReflectContext(t)}function ReflectContext(t){this._context=t}function monotoneX(t){return new MonotoneX(t)}function monotoneY(t){return new MonotoneY(t)}function Natural(t){this._context=t}function controlPoints(t){var n,e,r=t.length-1,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],n=1;n<r-1;++n)i[n]=1,a[n]=4,o[n]=4*t[n]+2*t[n+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],n=1;n<r;++n)e=i[n]/a[n-1],a[n]-=e,o[n]-=e*o[n-1];for(i[r-1]=o[r-1]/a[r-1],n=r-2;n>=0;--n)i[n]=(o[n]-i[n+1])/a[n];for(a[r-1]=(t[r]+i[r-1])/2,n=0;n<r-1;++n)a[n]=2*t[n+1]-i[n+1];return[i,a]}function natural(t){return new Natural(t)}function Step(t,n){this._context=t,this._t=n}function step(t){return new Step(t,.5)}function stepBefore(t){return new Step(t,0)}function stepAfter(t){return new Step(t,1)}function none$1(t,n){if((i=t.length)>1)for(var e,r,i,a=1,o=t[n[0]],c=o.length;a<i;++a)for(r=o,o=t[n[a]],e=0;e<c;++e)o[e][1]+=o[e][0]=isNaN(r[e][1])?r[e][0]:r[e][1]}function none$2(t){for(var n=t.length,e=new Array(n);--n>=0;)e[n]=n;return e}function stackValue(t,n){return t[n]}function stack(){var t=constant$b([]),n=none$2,e=none$1,r=stackValue;function i(i){var a,o,c=t.apply(this,arguments),s=i.length,u=c.length,l=new Array(u);for(a=0;a<u;++a){for(var f,h=c[a],d=l[a]=new Array(s),p=0;p<s;++p)d[p]=f=[0,+r(i[p],h,p,i)],f.data=i[p];d.key=h}for(a=0,o=n(l);a<u;++a)l[o[a]].index=a;return e(l,o),l}return i.keys=function(n){return arguments.length?(t="function"==typeof n?n:constant$b(slice$6.call(n)),i):t},i.value=function(t){return arguments.length?(r="function"==typeof t?t:constant$b(+t),i):r},i.order=function(t){return arguments.length?(n=null==t?none$2:"function"==typeof t?t:constant$b(slice$6.call(t)),i):n},i.offset=function(t){return arguments.length?(e=null==t?none$1:t,i):e},i}function expand(t,n){if((r=t.length)>0){for(var e,r,i,a=0,o=t[0].length;a<o;++a){for(i=e=0;e<r;++e)i+=t[e][a][1]||0;if(i)for(e=0;e<r;++e)t[e][a][1]/=i}none$1(t,n)}}function diverging$1(t,n){if((c=t.length)>0)for(var e,r,i,a,o,c,s=0,u=t[n[0]].length;s<u;++s)for(a=o=0,e=0;e<c;++e)(i=(r=t[n[e]][s])[1]-r[0])>=0?(r[0]=a,r[1]=a+=i):i<0?(r[1]=o,r[0]=o+=i):r[0]=a}function silhouette(t,n){if((e=t.length)>0){for(var e,r=0,i=t[n[0]],a=i.length;r<a;++r){for(var o=0,c=0;o<e;++o)c+=t[o][r][1]||0;i[r][1]+=i[r][0]=-c/2}none$1(t,n)}}function wiggle(t,n){if((i=t.length)>0&&(r=(e=t[n[0]]).length)>0){for(var e,r,i,a=0,o=1;o<r;++o){for(var c=0,s=0,u=0;c<i;++c){for(var l=t[n[c]],f=l[o][1]||0,h=(f-(l[o-1][1]||0))/2,d=0;d<c;++d){var p=t[n[d]];h+=(p[o][1]||0)-(p[o-1][1]||0)}s+=f,u+=h*f}e[o-1][1]+=e[o-1][0]=a,s&&(a-=u/s)}e[o-1][1]+=e[o-1][0]=a,none$1(t,n)}}function appearance(t){var n=t.map(peak);return none$2(t).sort(function(t,e){return n[t]-n[e]})}function peak(t){for(var n,e=-1,r=0,i=t.length,a=-1/0;++e<i;)(n=+t[e][1])>a&&(a=n,r=e);return r}function ascending$3(t){var n=t.map(sum$2);return none$2(t).sort(function(t,e){return n[t]-n[e]})}function sum$2(t){for(var n,e=0,r=-1,i=t.length;++r<i;)(n=+t[r][1])&&(e+=n);return e}function descending$2(t){return ascending$3(t).reverse()}function insideOut(t){var n,e,r=t.length,i=t.map(sum$2),a=appearance(t),o=0,c=0,s=[],u=[];for(n=0;n<r;++n)e=a[n],o<c?(o+=i[e],s.push(e)):(c+=i[e],u.push(e));return u.reverse().concat(s)}function reverse(t){return none$2(t).reverse()}function constant$c(t){return function(){return t}}function x$4(t){return t[0]}function y$4(t){return t[1]}function RedBlackTree(){this._=null}function RedBlackNode(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function RedBlackRotateLeft(t,n){var e=n,r=n.R,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function RedBlackRotateRight(t,n){var e=n,r=n.L,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function RedBlackFirst(t){for(;t.L;)t=t.L;return t}function createEdge(t,n,e,r){var i=[null,null],a=edges.push(i)-1;return i.left=t,i.right=n,e&&setEdgeEnd(i,t,n,e),r&&setEdgeEnd(i,n,t,r),cells[t.index].halfedges.push(a),cells[n.index].halfedges.push(a),i}function createBorderEdge(t,n,e){var r=[n,e];return r.left=t,r}function setEdgeEnd(t,n,e,r){t[0]||t[1]?t.left===e?t[1]=r:t[0]=r:(t[0]=r,t.left=n,t.right=e)}function clipEdge(t,n,e,r,i){var a,o=t[0],c=t[1],s=o[0],u=o[1],l=0,f=1,h=c[0]-s,d=c[1]-u;if(a=n-s,h||!(a>0)){if(a/=h,h<0){if(a<l)return;a<f&&(f=a)}else if(h>0){if(a>f)return;a>l&&(l=a)}if(a=r-s,h||!(a<0)){if(a/=h,h<0){if(a>f)return;a>l&&(l=a)}else if(h>0){if(a<l)return;a<f&&(f=a)}if(a=e-u,d||!(a>0)){if(a/=d,d<0){if(a<l)return;a<f&&(f=a)}else if(d>0){if(a>f)return;a>l&&(l=a)}if(a=i-u,d||!(a<0)){if(a/=d,d<0){if(a>f)return;a>l&&(l=a)}else if(d>0){if(a<l)return;a<f&&(f=a)}return!(l>0||f<1)||(l>0&&(t[0]=[s+l*h,u+l*d]),f<1&&(t[1]=[s+f*h,u+f*d]),!0)}}}}}function connectEdge(t,n,e,r,i){var a=t[1];if(a)return!0;var o,c,s=t[0],u=t.left,l=t.right,f=u[0],h=u[1],d=l[0],p=l[1],m=(f+d)/2,g=(h+p)/2;if(p===h){if(m<n||m>=r)return;if(f>d){if(s){if(s[1]>=i)return}else s=[m,e];a=[m,i]}else{if(s){if(s[1]<e)return}else s=[m,i];a=[m,e]}}else if(c=g-(o=(f-d)/(p-h))*m,o<-1||o>1)if(f>d){if(s){if(s[1]>=i)return}else s=[(e-c)/o,e];a=[(i-c)/o,i]}else{if(s){if(s[1]<e)return}else s=[(i-c)/o,i];a=[(e-c)/o,e]}else if(h<p){if(s){if(s[0]>=r)return}else s=[n,o*n+c];a=[r,o*r+c]}else{if(s){if(s[0]<n)return}else s=[r,o*r+c];a=[n,o*n+c]}return t[0]=s,t[1]=a,!0}function clipEdges(t,n,e,r){for(var i,a=edges.length;a--;)connectEdge(i=edges[a],t,n,e,r)&&clipEdge(i,t,n,e,r)&&(Math.abs(i[0][0]-i[1][0])>epsilon$4||Math.abs(i[0][1]-i[1][1])>epsilon$4)||delete edges[a]}function createCell(t){return cells[t.index]={site:t,halfedges:[]}}function cellHalfedgeAngle(t,n){var e=t.site,r=n.left,i=n.right;return e===i&&(i=r,r=e),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(e===r?(r=n[1],i=n[0]):(r=n[0],i=n[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function cellHalfedgeStart(t,n){return n[+(n.left!==t.site)]}function cellHalfedgeEnd(t,n){return n[+(n.left===t.site)]}function sortCellHalfedges(){for(var t,n,e,r,i=0,a=cells.length;i<a;++i)if((t=cells[i])&&(r=(n=t.halfedges).length)){var o=new Array(r),c=new Array(r);for(e=0;e<r;++e)o[e]=e,c[e]=cellHalfedgeAngle(t,edges[n[e]]);for(o.sort(function(t,n){return c[n]-c[t]}),e=0;e<r;++e)c[e]=n[o[e]];for(e=0;e<r;++e)n[e]=c[e]}}function clipCells(t,n,e,r){var i,a,o,c,s,u,l,f,h,d,p,m,g=cells.length,y=!0;for(i=0;i<g;++i)if(a=cells[i]){for(o=a.site,c=(s=a.halfedges).length;c--;)edges[s[c]]||s.splice(c,1);for(c=0,u=s.length;c<u;)p=(d=cellHalfedgeEnd(a,edges[s[c]]))[0],m=d[1],f=(l=cellHalfedgeStart(a,edges[s[++c%u]]))[0],h=l[1],(Math.abs(p-f)>epsilon$4||Math.abs(m-h)>epsilon$4)&&(s.splice(c,0,edges.push(createBorderEdge(o,d,Math.abs(p-t)<epsilon$4&&r-m>epsilon$4?[t,Math.abs(f-t)<epsilon$4?h:r]:Math.abs(m-r)<epsilon$4&&e-p>epsilon$4?[Math.abs(h-r)<epsilon$4?f:e,r]:Math.abs(p-e)<epsilon$4&&m-n>epsilon$4?[e,Math.abs(f-e)<epsilon$4?h:n]:Math.abs(m-n)<epsilon$4&&p-t>epsilon$4?[Math.abs(h-n)<epsilon$4?f:t,n]:null))-1),++u);u&&(y=!1)}if(y){var b,v,_,$=1/0;for(i=0,y=null;i<g;++i)(a=cells[i])&&(_=(b=(o=a.site)[0]-t)*b+(v=o[1]-n)*v)<$&&($=_,y=a);if(y){var x=[t,n],w=[t,r],M=[e,r],S=[e,n];y.halfedges.push(edges.push(createBorderEdge(o=y.site,x,w))-1,edges.push(createBorderEdge(o,w,M))-1,edges.push(createBorderEdge(o,M,S))-1,edges.push(createBorderEdge(o,S,x))-1)}}for(i=0;i<g;++i)(a=cells[i])&&(a.halfedges.length||delete cells[i])}LinearClosed.prototype={areaStart:noop$3,areaEnd:noop$3,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}},MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point$5(this,this._t0,slope2(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(n=+n,(t=+t)!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,point$5(this,slope2(this,e=slope3(this,t,n)),e);break;default:point$5(this,this._t0,e=slope3(this,t,n))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}},(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(t,n){MonotoneX.prototype.point.call(this,n,t)},ReflectContext.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,r,i,a){this._context.bezierCurveTo(n,t,r,e,a,i)}},Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,e=t.length;if(e)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),2===e)this._context.lineTo(t[1],n[1]);else for(var r=controlPoints(t),i=controlPoints(n),a=0,o=1;o<e;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],n[o]);(this._line||0!==this._line&&1===e)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}},Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,n)}}this._x=t,this._y=n}},RedBlackTree.prototype={constructor:RedBlackTree,insert:function(t,n){var e,r,i;if(t){if(n.P=t,n.N=t.N,t.N&&(t.N.P=n),t.N=n,t.R){for(t=t.R;t.L;)t=t.L;t.L=n}else t.R=n;e=t}else this._?(t=RedBlackFirst(this._),n.P=null,n.N=t,t.P=t.L=n,e=t):(n.P=n.N=null,this._=n,e=null);for(n.L=n.R=null,n.U=e,n.C=!0,t=n;e&&e.C;)e===(r=e.U).L?(i=r.R)&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.R&&(RedBlackRotateLeft(this,e),e=(t=e).U),e.C=!1,r.C=!0,RedBlackRotateRight(this,r)):(i=r.L)&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.L&&(RedBlackRotateRight(this,e),e=(t=e).U),e.C=!1,r.C=!0,RedBlackRotateLeft(this,r)),e=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var n,e,r,i=t.U,a=t.L,o=t.R;if(e=a?o?RedBlackFirst(o):a:o,i?i.L===t?i.L=e:i.R=e:this._=e,a&&o?(r=e.C,e.C=t.C,e.L=a,a.U=e,e!==o?(i=e.U,e.U=t.U,t=e.R,i.L=t,e.R=o,o.U=e):(e.U=i,i=e,t=e.R)):(r=t.C,t=e),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((n=i.R).C&&(n.C=!1,i.C=!0,RedBlackRotateLeft(this,i),n=i.R),n.L&&n.L.C||n.R&&n.R.C){n.R&&n.R.C||(n.L.C=!1,n.C=!0,RedBlackRotateRight(this,n),n=i.R),n.C=i.C,i.C=n.R.C=!1,RedBlackRotateLeft(this,i),t=this._;break}}else if((n=i.L).C&&(n.C=!1,i.C=!0,RedBlackRotateRight(this,i),n=i.L),n.L&&n.L.C||n.R&&n.R.C){n.L&&n.L.C||(n.R.C=!1,n.C=!0,RedBlackRotateLeft(this,n),n=i.L),n.C=i.C,i.C=n.L.C=!1,RedBlackRotateRight(this,i),t=this._;break}n.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var firstCircle,circlePool=[];function Circle(){RedBlackNode(this),this.x=this.y=this.arc=this.site=this.cy=null}function attachCircle(t){var n=t.P,e=t.N;if(n&&e){var r=n.site,i=t.site,a=e.site;if(r!==a){var o=i[0],c=i[1],s=r[0]-o,u=r[1]-c,l=a[0]-o,f=a[1]-c,h=2*(s*f-u*l);if(!(h>=-epsilon2$2)){var d=s*s+u*u,p=l*l+f*f,m=(f*d-u*p)/h,g=(s*p-l*d)/h,y=circlePool.pop()||new Circle;y.arc=t,y.site=i,y.x=m+o,y.y=(y.cy=g+c)+Math.sqrt(m*m+g*g),t.circle=y;for(var b=null,v=circles._;v;)if(y.y<v.y||y.y===v.y&&y.x<=v.x){if(!v.L){b=v.P;break}v=v.L}else{if(!v.R){b=v;break}v=v.R}circles.insert(b,y),b||(firstCircle=y)}}}}function detachCircle(t){var n=t.circle;n&&(n.P||(firstCircle=n.N),circles.remove(n),circlePool.push(n),RedBlackNode(n),t.circle=null)}var beachPool=[];function Beach(){RedBlackNode(this),this.edge=this.site=this.circle=null}function createBeach(t){var n=beachPool.pop()||new Beach;return n.site=t,n}function detachBeach(t){detachCircle(t),beaches.remove(t),beachPool.push(t),RedBlackNode(t)}function removeBeach(t){var n=t.circle,e=n.x,r=n.cy,i=[e,r],a=t.P,o=t.N,c=[t];detachBeach(t);for(var s=a;s.circle&&Math.abs(e-s.circle.x)<epsilon$4&&Math.abs(r-s.circle.cy)<epsilon$4;)a=s.P,c.unshift(s),detachBeach(s),s=a;c.unshift(s),detachCircle(s);for(var u=o;u.circle&&Math.abs(e-u.circle.x)<epsilon$4&&Math.abs(r-u.circle.cy)<epsilon$4;)o=u.N,c.push(u),detachBeach(u),u=o;c.push(u),detachCircle(u);var l,f=c.length;for(l=1;l<f;++l)u=c[l],s=c[l-1],setEdgeEnd(u.edge,s.site,u.site,i);s=c[0],(u=c[f-1]).edge=createEdge(s.site,u.site,null,i),attachCircle(s),attachCircle(u)}function addBeach(t){for(var n,e,r,i,a=t[0],o=t[1],c=beaches._;c;)if((r=leftBreakPoint(c,o)-a)>epsilon$4)c=c.L;else{if(!((i=a-rightBreakPoint(c,o))>epsilon$4)){r>-epsilon$4?(n=c.P,e=c):i>-epsilon$4?(n=c,e=c.N):n=e=c;break}if(!c.R){n=c;break}c=c.R}createCell(t);var s=createBeach(t);if(beaches.insert(n,s),n||e){if(n===e)return detachCircle(n),e=createBeach(n.site),beaches.insert(s,e),s.edge=e.edge=createEdge(n.site,s.site),attachCircle(n),void attachCircle(e);if(e){detachCircle(n),detachCircle(e);var u=n.site,l=u[0],f=u[1],h=t[0]-l,d=t[1]-f,p=e.site,m=p[0]-l,g=p[1]-f,y=2*(h*g-d*m),b=h*h+d*d,v=m*m+g*g,_=[(g*b-d*v)/y+l,(h*v-m*b)/y+f];setEdgeEnd(e.edge,u,p,_),s.edge=createEdge(u,t,null,_),e.edge=createEdge(t,p,null,_),attachCircle(n),attachCircle(e)}else s.edge=createEdge(n.site,s.site)}}function leftBreakPoint(t,n){var e=t.site,r=e[0],i=e[1],a=i-n;if(!a)return r;var o=t.P;if(!o)return-1/0;var c=(e=o.site)[0],s=e[1],u=s-n;if(!u)return c;var l=c-r,f=1/a-1/u,h=l/u;return f?(-h+Math.sqrt(h*h-2*f*(l*l/(-2*u)-s+u/2+i-a/2)))/f+r:(r+c)/2}function rightBreakPoint(t,n){var e=t.N;if(e)return leftBreakPoint(e,n);var r=t.site;return r[1]===n?r[0]:1/0}var beaches,cells,circles,edges,epsilon$4=1e-6,epsilon2$2=1e-12;function triangleArea(t,n,e){return(t[0]-e[0])*(n[1]-t[1])-(t[0]-n[0])*(e[1]-t[1])}function lexicographic(t,n){return n[1]-t[1]||n[0]-t[0]}function Diagram(t,n){var e,r,i,a=t.sort(lexicographic).pop();for(edges=[],cells=new Array(t.length),beaches=new RedBlackTree,circles=new RedBlackTree;;)if(i=firstCircle,a&&(!i||a[1]<i.y||a[1]===i.y&&a[0]<i.x))a[0]===e&&a[1]===r||(addBeach(a),e=a[0],r=a[1]),a=t.pop();else{if(!i)break;removeBeach(i.arc)}if(sortCellHalfedges(),n){var o=+n[0][0],c=+n[0][1],s=+n[1][0],u=+n[1][1];clipEdges(o,c,s,u),clipCells(o,c,s,u)}this.edges=edges,this.cells=cells,beaches=circles=edges=cells=null}function voronoi(){var t=x$4,n=y$4,e=null;function r(r){return new Diagram(r.map(function(e,i){var a=[Math.round(t(e,i,r)/epsilon$4)*epsilon$4,Math.round(n(e,i,r)/epsilon$4)*epsilon$4];return a.index=i,a.data=e,a}),e)}return r.polygons=function(t){return r(t).polygons()},r.links=function(t){return r(t).links()},r.triangles=function(t){return r(t).triangles()},r.x=function(n){return arguments.length?(t="function"==typeof n?n:constant$c(+n),r):t},r.y=function(t){return arguments.length?(n="function"==typeof t?t:constant$c(+t),r):n},r.extent=function(t){return arguments.length?(e=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],r):e&&[[e[0][0],e[0][1]],[e[1][0],e[1][1]]]},r.size=function(t){return arguments.length?(e=null==t?null:[[0,0],[+t[0],+t[1]]],r):e&&[e[1][0]-e[0][0],e[1][1]-e[0][1]]},r}function constant$d(t){return function(){return t}}function ZoomEvent(t,n,e){this.target=t,this.type=n,this.transform=e}function Transform(t,n,e){this.k=t,this.x=n,this.y=e}Diagram.prototype={constructor:Diagram,polygons:function(){var t=this.edges;return this.cells.map(function(n){var e=n.halfedges.map(function(e){return cellHalfedgeStart(n,t[e])});return e.data=n.site.data,e})},triangles:function(){var t=[],n=this.edges;return this.cells.forEach(function(e,r){if(a=(i=e.halfedges).length)for(var i,a,o,c=e.site,s=-1,u=n[i[a-1]],l=u.left===c?u.right:u.left;++s<a;)o=l,l=(u=n[i[s]]).left===c?u.right:u.left,o&&l&&r<o.index&&r<l.index&&triangleArea(c,o,l)<0&&t.push([c.data,o.data,l.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,n,e){for(var r,i,a=this,o=a._found||0,c=a.cells.length;!(i=a.cells[o]);)if(++o>=c)return null;var s=t-i.site[0],u=n-i.site[1],l=s*s+u*u;do{i=a.cells[r=o],o=null,i.halfedges.forEach(function(e){var r=a.edges[e],c=r.left;if(c!==i.site&&c||(c=r.right)){var s=t-c[0],u=n-c[1],f=s*s+u*u;f<l&&(l=f,o=c.index)}})}while(null!==o);return a._found=r,null==e||l<=e*e?i.site:null}},Transform.prototype={constructor:Transform,scale:function(t){return 1===t?this:new Transform(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new Transform(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var identity$9=new Transform(1,0,0);function transform$1(t){return t.__zoom||identity$9}function nopropagation$2(){event.stopImmediatePropagation()}function noevent$2(){event.preventDefault(),event.stopImmediatePropagation()}function defaultFilter$2(){return!event.button}function defaultExtent$1(){var t,n,e=this;return e instanceof SVGElement?(t=(e=e.ownerSVGElement||e).width.baseVal.value,n=e.height.baseVal.value):(t=e.clientWidth,n=e.clientHeight),[[0,0],[t,n]]}function defaultTransform(){return this.__zoom||identity$9}function defaultWheelDelta(){return-event.deltaY*(event.deltaMode?120:1)/500}function defaultTouchable$1(){return"ontouchstart"in this}function defaultConstrain(t,n,e){var r=t.invertX(n[0][0])-e[0][0],i=t.invertX(n[1][0])-e[1][0],a=t.invertY(n[0][1])-e[0][1],o=t.invertY(n[1][1])-e[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function zoom(){var t,n,e=defaultFilter$2,r=defaultExtent$1,i=defaultConstrain,a=defaultWheelDelta,o=defaultTouchable$1,c=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],u=250,l=interpolateZoom,f=[],h=dispatch("start","zoom","end"),d=500,p=150,m=0;function g(t){t.property("__zoom",defaultTransform).on("wheel.zoom",w).on("mousedown.zoom",M).on("dblclick.zoom",S).filter(o).on("touchstart.zoom",R).on("touchmove.zoom",E).on("touchend.zoom touchcancel.zoom",k).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(t,n){return(n=Math.max(c[0],Math.min(c[1],n)))===t.k?t:new Transform(n,t.x,t.y)}function b(t,n,e){var r=n[0]-e[0]*t.k,i=n[1]-e[1]*t.k;return r===t.x&&i===t.y?t:new Transform(t.k,r,i)}function v(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function _(t,n,e){t.on("start.zoom",function(){$(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){$(this,arguments).end()}).tween("zoom",function(){var t=arguments,i=$(this,t),a=r.apply(this,t),o=e||v(a),c=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),s=this.__zoom,u="function"==typeof n?n.apply(this,t):n,f=l(s.invert(o).concat(c/s.k),u.invert(o).concat(c/u.k));return function(t){if(1===t)t=u;else{var n=f(t),e=c/n[2];t=new Transform(e,o[0]-n[0]*e,o[1]-n[1]*e)}i.zoom(null,t)}})}function $(t,n){for(var e,r=0,i=f.length;r<i;++r)if((e=f[r]).that===t)return e;return new x(t,n)}function x(t,n){this.that=t,this.args=n,this.index=-1,this.active=0,this.extent=r.apply(t,n)}function w(){if(e.apply(this,arguments)){var t=$(this,arguments),n=this.__zoom,r=Math.max(c[0],Math.min(c[1],n.k*Math.pow(2,a.apply(this,arguments)))),o=mouse(this);if(t.wheel)t.mouse[0][0]===o[0]&&t.mouse[0][1]===o[1]||(t.mouse[1]=n.invert(t.mouse[0]=o)),clearTimeout(t.wheel);else{if(n.k===r)return;t.mouse=[o,n.invert(o)],interrupt(this),t.start()}noevent$2(),t.wheel=setTimeout(function(){t.wheel=null,t.end()},p),t.zoom("mouse",i(b(y(n,r),t.mouse[0],t.mouse[1]),t.extent,s))}}function M(){if(!n&&e.apply(this,arguments)){var t=$(this,arguments),r=select(event.view).on("mousemove.zoom",function(){if(noevent$2(),!t.moved){var n=event.clientX-o,e=event.clientY-c;t.moved=n*n+e*e>m}t.zoom("mouse",i(b(t.that.__zoom,t.mouse[0]=mouse(t.that),t.mouse[1]),t.extent,s))},!0).on("mouseup.zoom",function(){r.on("mousemove.zoom mouseup.zoom",null),yesdrag(event.view,t.moved),noevent$2(),t.end()},!0),a=mouse(this),o=event.clientX,c=event.clientY;dragDisable(event.view),nopropagation$2(),t.mouse=[a,this.__zoom.invert(a)],interrupt(this),t.start()}}function S(){if(e.apply(this,arguments)){var t=this.__zoom,n=mouse(this),a=t.invert(n),o=t.k*(event.shiftKey?.5:2),c=i(b(y(t,o),n,a),r.apply(this,arguments),s);noevent$2(),u>0?select(this).transition().duration(u).call(_,c,n):select(this).call(g.transform,c)}}function R(){if(e.apply(this,arguments)){var n,r,i,a,o=$(this,arguments),c=event.changedTouches,s=c.length;for(nopropagation$2(),r=0;r<s;++r)a=[a=touch(this,c,(i=c[r]).identifier),this.__zoom.invert(a),i.identifier],o.touch0?o.touch1||(o.touch1=a):(o.touch0=a,n=!0);if(t&&(t=clearTimeout(t),!o.touch1))return o.end(),void((a=select(this).on("dblclick.zoom"))&&a.apply(this,arguments));n&&(t=setTimeout(function(){t=null},d),interrupt(this),o.start())}}function E(){var n,e,r,a,o=$(this,arguments),c=event.changedTouches,u=c.length;for(noevent$2(),t&&(t=clearTimeout(t)),n=0;n<u;++n)r=touch(this,c,(e=c[n]).identifier),o.touch0&&o.touch0[2]===e.identifier?o.touch0[0]=r:o.touch1&&o.touch1[2]===e.identifier&&(o.touch1[0]=r);if(e=o.that.__zoom,o.touch1){var l=o.touch0[0],f=o.touch0[1],h=o.touch1[0],d=o.touch1[1],p=(p=h[0]-l[0])*p+(p=h[1]-l[1])*p,m=(m=d[0]-f[0])*m+(m=d[1]-f[1])*m;e=y(e,Math.sqrt(p/m)),r=[(l[0]+h[0])/2,(l[1]+h[1])/2],a=[(f[0]+d[0])/2,(f[1]+d[1])/2]}else{if(!o.touch0)return;r=o.touch0[0],a=o.touch0[1]}o.zoom("touch",i(b(e,r,a),o.extent,s))}function k(){var t,e,r=$(this,arguments),i=event.changedTouches,a=i.length;for(nopropagation$2(),n&&clearTimeout(n),n=setTimeout(function(){n=null},d),t=0;t<a;++t)e=i[t],r.touch0&&r.touch0[2]===e.identifier?delete r.touch0:r.touch1&&r.touch1[2]===e.identifier&&delete r.touch1;r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0?r.touch0[1]=this.__zoom.invert(r.touch0[0]):r.end()}return g.transform=function(t,n){var e=t.selection?t.selection():t;e.property("__zoom",defaultTransform),t!==e?_(t,n):e.interrupt().each(function(){$(this,arguments).start().zoom(null,"function"==typeof n?n.apply(this,arguments):n).end()})},g.scaleBy=function(t,n){g.scaleTo(t,function(){return this.__zoom.k*("function"==typeof n?n.apply(this,arguments):n)})},g.scaleTo=function(t,n){g.transform(t,function(){var t=r.apply(this,arguments),e=this.__zoom,a=v(t),o=e.invert(a),c="function"==typeof n?n.apply(this,arguments):n;return i(b(y(e,c),a,o),t,s)})},g.translateBy=function(t,n,e){g.transform(t,function(){return i(this.__zoom.translate("function"==typeof n?n.apply(this,arguments):n,"function"==typeof e?e.apply(this,arguments):e),r.apply(this,arguments),s)})},g.translateTo=function(t,n,e){g.transform(t,function(){var t=r.apply(this,arguments),a=this.__zoom,o=v(t);return i(identity$9.translate(o[0],o[1]).scale(a.k).translate("function"==typeof n?-n.apply(this,arguments):-n,"function"==typeof e?-e.apply(this,arguments):-e),t,s)})},x.prototype={start:function(){return 1==++this.active&&(this.index=f.push(this)-1,this.emit("start")),this},zoom:function(t,n){return this.mouse&&"mouse"!==t&&(this.mouse[1]=n.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=n.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=n.invert(this.touch1[0])),this.that.__zoom=n,this.emit("zoom"),this},end:function(){return 0==--this.active&&(f.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){customEvent(new ZoomEvent(g,t,this.that.__zoom),h.apply,h,[t,this.that,this.args])}},g.wheelDelta=function(t){return arguments.length?(a="function"==typeof t?t:constant$d(+t),g):a},g.filter=function(t){return arguments.length?(e="function"==typeof t?t:constant$d(!!t),g):e},g.touchable=function(t){return arguments.length?(o="function"==typeof t?t:constant$d(!!t),g):o},g.extent=function(t){return arguments.length?(r="function"==typeof t?t:constant$d([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),g):r},g.scaleExtent=function(t){return arguments.length?(c[0]=+t[0],c[1]=+t[1],g):[c[0],c[1]]},g.translateExtent=function(t){return arguments.length?(s[0][0]=+t[0][0],s[1][0]=+t[1][0],s[0][1]=+t[0][1],s[1][1]=+t[1][1],g):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},g.constrain=function(t){return arguments.length?(i=t,g):i},g.duration=function(t){return arguments.length?(u=+t,g):u},g.interpolate=function(t){return arguments.length?(l=t,g):l},g.on=function(){var t=h.on.apply(h,arguments);return t===h?g:t},g.clickDistance=function(t){return arguments.length?(m=(t=+t)*t,g):Math.sqrt(m)},g}transform$1.prototype=Transform.prototype;export{version,bisectRight as bisect,bisectRight,bisectLeft,ascending,bisector,cross,descending,deviation,extent,histogram,freedmanDiaconis as thresholdFreedmanDiaconis,scott as thresholdScott,thresholdSturges,max,mean,median,merge,min,pairs,permute,threshold as quantile,sequence as range,scan,shuffle,sum,ticks,tickIncrement,tickStep,transpose,variance,zip,axisTop,axisRight,axisBottom,axisLeft,brush,brushX,brushY,brushSelection,chord,ribbon,nest,set$2 as set,map$1 as map,keys,values,entries,color,rgb,hsl,lab,hcl,lch,gray,cubehelix,contours,density as contourDensity,dispatch,drag,dragDisable,yesdrag as dragEnable,dsvFormat,csvParse,csvParseRows,csvFormat,csvFormatBody,csvFormatRows,tsvParse,tsvParseRows,tsvFormat,tsvFormatBody,tsvFormatRows,autoType,linear$1 as easeLinear,quadInOut as easeQuad,quadIn as easeQuadIn,quadOut as easeQuadOut,quadInOut as easeQuadInOut,cubicInOut as easeCubic,cubicIn as easeCubicIn,cubicOut as easeCubicOut,cubicInOut as easeCubicInOut,polyInOut as easePoly,polyIn as easePolyIn,polyOut as easePolyOut,polyInOut as easePolyInOut,sinInOut as easeSin,sinIn as easeSinIn,sinOut as easeSinOut,sinInOut as easeSinInOut,expInOut as easeExp,expIn as easeExpIn,expOut as easeExpOut,expInOut as easeExpInOut,circleInOut as easeCircle,circleIn as easeCircleIn,circleOut as easeCircleOut,circleInOut as easeCircleInOut,bounceOut as easeBounce,bounceIn as easeBounceIn,bounceOut as easeBounceOut,bounceInOut as easeBounceInOut,backInOut as easeBack,backIn as easeBackIn,backOut as easeBackOut,backInOut as easeBackInOut,elasticOut as easeElastic,elasticIn as easeElasticIn,elasticOut as easeElasticOut,elasticInOut as easeElasticInOut,blob,buffer,dsv,csv$1 as csv,tsv$1 as tsv,image,json,text,xml,html,svg,center$1 as forceCenter,collide as forceCollide,link as forceLink,manyBody as forceManyBody,radial as forceRadial,simulation as forceSimulation,x$2 as forceX,y$2 as forceY,defaultLocale as formatDefaultLocale,format,formatPrefix,formatLocale,formatSpecifier,precisionFixed,precisionPrefix,precisionRound,area$1 as geoArea,bounds as geoBounds,centroid as geoCentroid,circle as geoCircle,clipAntimeridian as geoClipAntimeridian,clipCircle as geoClipCircle,extent$1 as geoClipExtent,clipRectangle as geoClipRectangle,contains$1 as geoContains,distance as geoDistance,graticule as geoGraticule,graticule10 as geoGraticule10,interpolate$1 as geoInterpolate,length$1 as geoLength,index$1 as geoPath,albers as geoAlbers,albersUsa as geoAlbersUsa,azimuthalEqualArea as geoAzimuthalEqualArea,azimuthalEqualAreaRaw as geoAzimuthalEqualAreaRaw,azimuthalEquidistant as geoAzimuthalEquidistant,azimuthalEquidistantRaw as geoAzimuthalEquidistantRaw,conicConformal as geoConicConformal,conicConformalRaw as geoConicConformalRaw,conicEqualArea as geoConicEqualArea,conicEqualAreaRaw as geoConicEqualAreaRaw,conicEquidistant as geoConicEquidistant,conicEquidistantRaw as geoConicEquidistantRaw,equalEarth as geoEqualEarth,equalEarthRaw as geoEqualEarthRaw,equirectangular as geoEquirectangular,equirectangularRaw as geoEquirectangularRaw,gnomonic as geoGnomonic,gnomonicRaw as geoGnomonicRaw,identity$5 as geoIdentity,projection as geoProjection,projectionMutator as geoProjectionMutator,mercator as geoMercator,mercatorRaw as geoMercatorRaw,naturalEarth1 as geoNaturalEarth1,naturalEarth1Raw as geoNaturalEarth1Raw,orthographic as geoOrthographic,orthographicRaw as geoOrthographicRaw,stereographic as geoStereographic,stereographicRaw as geoStereographicRaw,transverseMercator as geoTransverseMercator,transverseMercatorRaw as geoTransverseMercatorRaw,rotation as geoRotation,geoStream,transform as geoTransform,cluster,hierarchy,index$2 as pack,siblings as packSiblings,enclose as packEnclose,partition,stratify,tree,index$3 as treemap,binary as treemapBinary,treemapDice,treemapSlice,sliceDice as treemapSliceDice,squarify as treemapSquarify,resquarify as treemapResquarify,interpolateValue as interpolate,array$1 as interpolateArray,basis$1 as interpolateBasis,basisClosed as interpolateBasisClosed,date as interpolateDate,discrete as interpolateDiscrete,hue$1 as interpolateHue,interpolateNumber,object as interpolateObject,interpolateRound,interpolateString,interpolateTransformCss,interpolateTransformSvg,interpolateZoom,interpolateRgb,rgbBasis as interpolateRgbBasis,rgbBasisClosed as interpolateRgbBasisClosed,hsl$2 as interpolateHsl,hslLong as interpolateHslLong,lab$1 as interpolateLab,hcl$2 as interpolateHcl,hclLong as interpolateHclLong,cubehelix$2 as interpolateCubehelix,cubehelixLong as interpolateCubehelixLong,piecewise,quantize,path,area$2 as polygonArea,centroid$1 as polygonCentroid,hull as polygonHull,contains$2 as polygonContains,length$2 as polygonLength,quadtree,uniform as randomUniform,normal as randomNormal,logNormal as randomLogNormal,bates as randomBates,irwinHall as randomIrwinHall,exponential$1 as randomExponential,band as scaleBand,point$1 as scalePoint,identity$7 as scaleIdentity,linear$2 as scaleLinear,log$1 as scaleLog,symlog as scaleSymlog,ordinal as scaleOrdinal,implicit as scaleImplicit,pow$1 as scalePow,sqrt$1 as scaleSqrt,quantile$$1 as scaleQuantile,quantize$1 as scaleQuantize,threshold$1 as scaleThreshold,time as scaleTime,utcTime as scaleUtc,sequential as scaleSequential,sequentialLog as scaleSequentialLog,sequentialPow as scaleSequentialPow,sequentialSqrt as scaleSequentialSqrt,sequentialSymlog as scaleSequentialSymlog,sequentialQuantile as scaleSequentialQuantile,diverging as scaleDiverging,divergingLog as scaleDivergingLog,divergingPow as scaleDivergingPow,divergingSqrt as scaleDivergingSqrt,divergingSymlog as scaleDivergingSymlog,tickFormat,category10 as schemeCategory10,Accent as schemeAccent,Dark2 as schemeDark2,Paired as schemePaired,Pastel1 as schemePastel1,Pastel2 as schemePastel2,Set1 as schemeSet1,Set2 as schemeSet2,Set3 as schemeSet3,BrBG as interpolateBrBG,scheme as schemeBrBG,PRGn as interpolatePRGn,scheme$1 as schemePRGn,PiYG as interpolatePiYG,scheme$2 as schemePiYG,PuOr as interpolatePuOr,scheme$3 as schemePuOr,RdBu as interpolateRdBu,scheme$4 as schemeRdBu,RdGy as interpolateRdGy,scheme$5 as schemeRdGy,RdYlBu as interpolateRdYlBu,scheme$6 as schemeRdYlBu,RdYlGn as interpolateRdYlGn,scheme$7 as schemeRdYlGn,Spectral as interpolateSpectral,scheme$8 as schemeSpectral,BuGn as interpolateBuGn,scheme$9 as schemeBuGn,BuPu as interpolateBuPu,scheme$a as schemeBuPu,GnBu as interpolateGnBu,scheme$b as schemeGnBu,OrRd as interpolateOrRd,scheme$c as schemeOrRd,PuBuGn as interpolatePuBuGn,scheme$d as schemePuBuGn,PuBu as interpolatePuBu,scheme$e as schemePuBu,PuRd as interpolatePuRd,scheme$f as schemePuRd,RdPu as interpolateRdPu,scheme$g as schemeRdPu,YlGnBu as interpolateYlGnBu,scheme$h as schemeYlGnBu,YlGn as interpolateYlGn,scheme$i as schemeYlGn,YlOrBr as interpolateYlOrBr,scheme$j as schemeYlOrBr,YlOrRd as interpolateYlOrRd,scheme$k as schemeYlOrRd,Blues as interpolateBlues,scheme$l as schemeBlues,Greens as interpolateGreens,scheme$m as schemeGreens,Greys as interpolateGreys,scheme$n as schemeGreys,Purples as interpolatePurples,scheme$o as schemePurples,Reds as interpolateReds,scheme$p as schemeReds,Oranges as interpolateOranges,scheme$q as schemeOranges,cubehelix$3 as interpolateCubehelixDefault,rainbow as interpolateRainbow,warm as interpolateWarm,cool as interpolateCool,sinebow as interpolateSinebow,viridis as interpolateViridis,magma as interpolateMagma,inferno as interpolateInferno,plasma as interpolatePlasma,create,creator,local,matcher,mouse,namespace,namespaces,point as clientPoint,select,selectAll,selection,selector,selectorAll,styleValue as style,touch,touches,defaultView as window,event,customEvent,arc,area$3 as area,line,pie,areaRadial,areaRadial as radialArea,lineRadial$1 as lineRadial,lineRadial$1 as radialLine,pointRadial,linkHorizontal,linkVertical,linkRadial,symbol,symbols,circle$2 as symbolCircle,cross$2 as symbolCross,diamond as symbolDiamond,square as symbolSquare,star as symbolStar,triangle as symbolTriangle,wye as symbolWye,basisClosed$1 as curveBasisClosed,basisOpen as curveBasisOpen,basis$2 as curveBasis,bundle as curveBundle,cardinalClosed as curveCardinalClosed,cardinalOpen as curveCardinalOpen,cardinal as curveCardinal,catmullRomClosed as curveCatmullRomClosed,catmullRomOpen as curveCatmullRomOpen,catmullRom as curveCatmullRom,linearClosed as curveLinearClosed,curveLinear,monotoneX as curveMonotoneX,monotoneY as curveMonotoneY,natural as curveNatural,step as curveStep,stepAfter as curveStepAfter,stepBefore as curveStepBefore,stack,expand as stackOffsetExpand,diverging$1 as stackOffsetDiverging,none$1 as stackOffsetNone,silhouette as stackOffsetSilhouette,wiggle as stackOffsetWiggle,appearance as stackOrderAppearance,ascending$3 as stackOrderAscending,descending$2 as stackOrderDescending,insideOut as stackOrderInsideOut,none$2 as stackOrderNone,reverse as stackOrderReverse,newInterval as timeInterval,millisecond as timeMillisecond,milliseconds as timeMilliseconds,millisecond as utcMillisecond,milliseconds as utcMilliseconds,second as timeSecond,seconds as timeSeconds,second as utcSecond,seconds as utcSeconds,minute as timeMinute,minutes as timeMinutes,hour as timeHour,hours as timeHours,day as timeDay,days as timeDays,sunday as timeWeek,sundays as timeWeeks,sunday as timeSunday,sundays as timeSundays,monday as timeMonday,mondays as timeMondays,tuesday as timeTuesday,tuesdays as timeTuesdays,wednesday as timeWednesday,wednesdays as timeWednesdays,thursday as timeThursday,thursdays as timeThursdays,friday as timeFriday,fridays as timeFridays,saturday as timeSaturday,saturdays as timeSaturdays,month as timeMonth,months as timeMonths,year as timeYear,years as timeYears,utcMinute,utcMinutes,utcHour,utcHours,utcDay,utcDays,utcSunday as utcWeek,utcSundays as utcWeeks,utcSunday,utcSundays,utcMonday,utcMondays,utcTuesday,utcTuesdays,utcWednesday,utcWednesdays,utcThursday,utcThursdays,utcFriday,utcFridays,utcSaturday,utcSaturdays,utcMonth,utcMonths,utcYear,utcYears,defaultLocale$1 as timeFormatDefaultLocale,timeFormat,timeParse,utcFormat,utcParse,formatLocale$1 as timeFormatLocale,formatIso as isoFormat,parseIso as isoParse,now,timer,timerFlush,timeout$1 as timeout,interval$1 as interval,transition,active,interrupt,voronoi,zoom,transform$1 as zoomTransform,identity$9 as zoomIdentity};
